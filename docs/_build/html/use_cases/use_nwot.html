<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Niwot Ridge, Colorado, USA &mdash; gnssrefl  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> gnssrefl
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome to gnssrefl documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/understand.html">Understanding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/README_install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/func_and_utils_doc.html">Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/first_drivethru.html">gnssrefl use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/news.html">News <a name="news"></a></a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/news.html#bugs-features-a-name-bugs-a">Bugs/Features <a name="bugs"></a></a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/contributions_questions.html">Community and Questions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">gnssrefl</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Niwot Ridge, Colorado, USA</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/use_cases/use_nwot.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="niwot-ridge-colorado-usa">
<h1>Niwot Ridge, Colorado, USA<a class="headerlink" href="#niwot-ridge-colorado-usa" title="Permalink to this heading"></a></h1>
<p><strong>Station name:</strong> nwot</p>
<p><strong>Location:</strong> <a class="reference external" href="https://nwt.lternet.edu">Niwot Ridge LTER</a></p>
<p><strong>Archive:</strong> <a class="reference external" href="https://www.unavco.org">UNAVCO</a></p>
<p><strong>Ellipsoidal Coordinates:</strong></p>
<ul class="simple">
<li><p>Latitude: 40.05539</p></li>
<li><p>Longitude: -105.59053</p></li>
<li><p>Height(m): 3522.729</p></li>
</ul>
<p><a class="reference external" href="https://www.unavco.org/instrumentation/networks/status/nota/overview/NWOT">UNAVCO station page</a></p>
</section>
<section id="data-summary">
<h1>Data Summary<a class="headerlink" href="#data-summary" title="Permalink to this heading"></a></h1>
<p>Station nwot was originally installed/designed by Jim Normandeau (UNAVCO) to support GPS reflections research
by Kristine Larson, Eric Small, Ethan Gutmann, Felipe Nievinski, and Mark Williams at the University of Colorado.
The site was hosted by the Niwot Ridge LTER.</p>
<p>nwot was deliberately made to be taller than the typical geodetic antenna so that it would never be
buried by snow. It is approximately 3 meters above
the bare soil surface.  Because it was installed to support testing GPS reflections, nwot has always tracked L2C.
nwot was also part of <a class="reference external" href="http://cires1.colorado.edu/portal/?station=nwot">PBO H2O</a>.</p>
<img src="https://www.unavco.org/data/gps-gnss/lib/images/station_images/NWOT.jpg" width=500/>
<p>The site has generally not been used by geodesists and there is very little useful information
about when data are available at either UNAVCO or Nevada Reno (i.e. no time series).
After the original receiver failed in spring 2015, a new receiver was installed in late 2016 by
Mark Raleigh (then at CIRES, now at the University Oregon). Though the nwot receiver
may be tracking now, it has not been downloaded in some time and there is no working telemetry.
We will focus on the data between 2009-2015.</p>
</section>
<section id="make-a-snr-file-and-run-quicklook">
<h1>Make a SNR File and run quickLook<a class="headerlink" href="#make-a-snr-file-and-run-quicklook" title="Permalink to this heading"></a></h1>
<p>We will start by making a single SNR file. Here there are two options. The main archive for this dataset only provides the high-quality
L2C data in the highrate (1-sec) area. We do not need this sample rate for GPS reflectometry,
so to speed things up, we strongly encourage you to use the “special” archive option.  Here
the 1-sec data have been decimated to 15 seconds:</p>
<p><code>rinex2snr nwot 2014 270 -archive special</code></p>
<p>If for any reason this command does not work, please use the direct command:</p>
<p><em>rinex2snr nwot 2014 270 -archive unavco -rate high -dec 15</em></p>
<p>Both L1 and L2C signals can be used at this site, though the L2C data are far superior in quality
to the L1 data. Use this <strong>quickLook</strong> command to get a sense of the quality of the
reflector height (RH) retrievals. First L1:</p>
<p><code>quickLook nwot 2014 270 </code></p>
<img src="nwot_L1.png" width="600"/>
<p>These periodograms are a bit ratty in the low RH area. There are
nice strong peaks in the southern quadrants. Now try L2:</p>
<p><code>quickLook nwot 2014 270 -fr 2</code></p>
<img src="nwot_L2.png" width="600"/>
<p>This plot will have both L2C and non-L2C. But it is easy to see why I don’t use non-L2C. They are
the failed tracks in the gray that I have circled.</p>
</section>
<section id="make-multiple-years-of-snr-files">
<h1>Make multiple years of SNR files<a class="headerlink" href="#make-multiple-years-of-snr-files" title="Permalink to this heading"></a></h1>
<p>We are going to look at the data from installation (Fall 2009) through Spring 2015. To speed things
up I will run 2009 and 2015 separately, while the year 2010 through 2014 can be analyzed in
one line:</p>
<p><code>rinex2snr nwot 2009 240 -doy_end 365 -archive special</code></p>
<p><code>rinex2snr nwot 2010 1 -doy_end 366 -archive special -year_end 2014</code></p>
<p><code>rinex2snr nwot 2015 1 -doy_end 120 -archive special</code></p>
</section>
<section id="run-gnssir-for-multiple-years">
<h1>Run gnssir for multiple years<a class="headerlink" href="#run-gnssir-for-multiple-years" title="Permalink to this heading"></a></h1>
<p>Make a json file for your <code>gnssir</code> analysis:</p>
<p><code>make_json_input nwot 40.05539 -105.59053  3522.729 -e1 7 -e2 25 -peak2noise 3.2</code></p>
<p>I have opted to only use the southern quadrants (azimuths 90 through 270). Note that since
L5 was not tracked at this site, it is not listed in the json file. I am using a minimum elevation
angle of 7 degrees because this particular receiver had a limit on the number of satellites it
could track. In some cases this meant the low elevation data are not available and that triggers
QC restrictions. <a class="reference download internal" download="" href="../_downloads/8920cd8e1442981c09577e31b13b12f2/nwot.json"><span class="xref download myst">A sample json file for this site.</span></a></p>
<p>Once you have a json file set up, run <code>gnssir</code> for the years 2009-2015:</p>
<p><code>gnssir nwot 2009 1 -doy_end 366 -year_end 2015</code></p>
</section>
<section id="compute-daily-average-rh-values">
<h1>Compute daily average RH values<a class="headerlink" href="#compute-daily-average-rh-values" title="Permalink to this heading"></a></h1>
<p>Use the <code>daily_avg</code> utility to compute RH for each day. A median filter of 0.25 meter is used
to eliminate large outliers and a minimum number of tracks is set to 10. This is relatively
low because of the small number of L2C transmitting satellites in the early years of
the dataset. The year inputs here are optional.</p>
<p><code>daily_avg nwot 0.25 10 -year1 2009 -year2 2015</code></p>
<p>produces this plot:</p>
<img src="nwot_RH.png" width="600"/>
<p>and <a class="reference download internal" download="" href="../_downloads/a4180bd3ddddf0902f338c90ad76f3cb/nwot_dailyRH.txt"><span class="xref download myst">this file</span></a>. The files will be stored in the $REFL_CODE/Files directory.</p>
<p>You are also shown how many successful retrievals there are each day so that you can change that
input if you prefer:</p>
<img src="retrievals_nwot.png" width="600"/>
</section>
<section id="validation">
<h1>Validation<a class="headerlink" href="#validation" title="Permalink to this heading"></a></h1>
<p>We installed the GPS site at Niwot Ridge because there was a long-standing experiment
for measuring snow depth (and snow water equivalent). We therefore have a way to assess
accuracy. We download the <em>in situ</em> data from</p>
<p>the <a class="reference external" href="https://portal.edirepository.org/nis/mapbrowse?packageid=knb-lter-nwt.31.18">Niwot Ridge facility.</a>
We will compare to pole 16, which is shown in the photograph above.
The relevant Niwot Ridge csv file is provided here:</p>
<p><a class="reference download internal" download="" href="../_downloads/af45d00fd6157c3274b351fd063b20e4/saddsnow.dw.data.csv"><span class="xref download myst">in situ data from the Niwot Ridge LTER</span></a></p>
<p>If the daily average RH file created above is stored in the same directory
as the Niwot Ridge <em>in situ</em> datafile, you can use
<a class="reference download internal" download="" href="../_downloads/62a03e6cbb97b1e158ba9f382ffa6f0e/nwot_usecase.py"><span class="xref download myst">this python script</span></a> to visually compare them:</p>
<p><code>python nwot_usecase.py</code></p>
<img src="nwot_usecase.png" width="600"/>
<p>We hae used the data from the fall to set the bare soil value
for reflector height (RH_baresoil). Snow depth is then defined as:</p>
<p><code>snow depth = RH_baresoil - RH</code></p>
<p>Please keep in mind that the pole measurements are not representative of the same
footprint as the GPS measurements. The latter cover an average over a much larger region.
We do not pursue a quantitative comparison at this site as there are at least two
publications in refereed journals and a PhD Dissertation:</p>
<p><a class="reference external" href="https://www.kristinelarson.net/wp-content/uploads/2015/10/GutmannEtAl_2012.pdf">Gutmann, E., K. M. Larson, M. Williams, F.G. Nievinski, and V. Zavorotny,
Snow measurement by GPS interferometric reflectometry: an evaluation at Niwot Ridge, Colorado, Hydrologic Processes, Vol. 26, 2951-2961, 2012</a></p>
<p><a class="reference external" href="https://www.kristinelarson.net/wp-content/uploads/2015/10/felipe_inv2_revised.pdf">Nievinski, F.G. and K.M. Larson, Inverse Modeling of GPS Multipath for Snow Depth Estimation, Part II: Application and Validation, IEEE TGRS, Vol. 52(10), 6564-6573, doi:10.1109/TGRS.2013.2297688, 2014</a></p>
<p><a class="reference external" href="https://www.researchgate.net/publication/258848060_Forward_and_Inverse_Modeling_of_GPS_Multipath_for_Snow_Monitoring">Nievinski, F.G., Ph.D. Dissertation, University of Colorado, 2013</a></p>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Dr. Kristine Larson and UNAVCO.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>