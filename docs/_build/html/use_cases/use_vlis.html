<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vlissingen &mdash; gnssrefl  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> gnssrefl
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pages/understand.html">Understanding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/README_install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/func_and_utils_doc.html">Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/modules.html">gnssrefl</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/first_drivethru.html">gnssrefl Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/news.html">News <a name="news"></a></a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/news.html#bugs-features-a-name-bugs-a">Bugs/Features <a name="bugs"></a></a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/contributions_questions.html">Community and Questions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">gnssrefl</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Vlissingen</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/use_cases/use_vlis.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="vlissingen">
<h1>Vlissingen<a class="headerlink" href="#vlissingen" title="Permalink to this heading"></a></h1>
<p align="center">
<img src="VLIS.jpeg" width="500"><BR>
</P>
<p><strong>Station Name:</strong> vlsi  or VLSI00NLD</p>
<p><strong>Location:</strong> Vlissingen, the Netherlands</p>
<p><strong>Archives:</strong> SONEL, BKG, BEV</p>
<p><a class="reference external" href="http://geodesy.unr.edu/NGLStationPages/stations/VLIS.sta">Station Page at NGL</a></p>
</section>
<section id="take-a-quick-look-at-the-site-reflection-zones">
<h1>Take a Quick Look at the Site Reflection Zones<a class="headerlink" href="#take-a-quick-look-at-the-site-reflection-zones" title="Permalink to this heading"></a></h1>
<p>The <a class="reference external" href="https://epncb.oma.be/_networkdata/siteinfo4onestation.php?station=VLIS00NLD">EUREF Page</a> page has a lot of information about the GNSS site here. It is currently tracking multiple GNSS constellations.<br />
If you are going to try and measure water levels, it is important to look at the reflection zones
around the site. This will allow you to set a good mask.
<a class="reference external" href="http://gnss-reflections.org/rzones">Type VLIS into the station name and first use the defaults at this web site.</a>
Try different azimuth constraints. I recommend only using 5-15 degree elevation angles.
Note that the height of the antenna above sea level is provided by the web app and returned on the right hand side.</p>
<p>Another thing you should try to do is get an idea of what the tidal range will be. At VLIS, there is a
colocated <a class="reference external" href="http://www.ioc-sealevelmonitoring.org/station.php?code=vlis">tide gauge</a>. There are other ways
you can get the tidal range without a colocated tide gauge sensor - e.g. there are various web sites that will at least give you high and low tide predictions.</p>
<p>GNSS-IR has a Nyquist.  While I won’t discuss it here (see <a class="reference external" href="https://link.springer.com/article/10.1007/s10291-018-0744-8">Roesler and Larson, 2018</a> for details), it is an issue at VLIS. The easiest VLIS data to find are the 30 second data
deposited by geodesists at various global archives. This sample rate would be fine for
an antenna 6 meters above the water e.g. But at VLIS - with the known tidal range - we are really too close to the L1 Nyquist to use 30 second data. You can use the 30 second data for L2/L5, but
you are basically throwing away half your data if ignore L1.</p>
<p>So what <em>can</em> you do? The good news is that this site reliably reports high-rate GNSS data.
The bad news is that the sample rate is 1 second. And you do not need 1 second data for this site; 15
second data is fine. If you retain the 1 second data, all the <code>gnssrefl</code> programs will be pretty slow.</p>
<p>To get you started so that you don’t have to download and manipulate 1 sec GNSS files (which come
in 96 separate files!), I have made some smaller 15 second RINEX files for you. They are
available in this <a class="reference external" href="https://morefunwithgps.com/public_html/vlis_2022.tar">tar file.</a>
After downloading, <code>tar -xvf vlis_tar.2022</code>. There should be 14 gzipped files in RINEX 2.11 format.
Instead of using <code>gnssrefl</code> I am going to show you how to use the web app. Open a browser and
type in <code>gnss-reflections.org</code>. You will be using the RINEX upload option which is in the center.
Load one of the RINEX files and press the submit button.  Depending on your internet connection, your
answer should pop up in about 10 seconds. The writing in magenta are comments I have added to
point out various things.</p>
<p align=center>
<img src=../_static/vlis-default.png width=800/>
</p>
<p>So what’s going on here? (If you have never used this site before, I recommend you give a
look to the <a class="reference external" href="http://gnss-reflections.org/overview">frequently asked questions page</a>.)
First, the most dominant reflections (which are colored) are coming
from the west. But this is where we should expect them. There is a large slab of concrete there and it
looks like it is about 6.5 meters below the antenna. The area pointing to the ocean is showing up in gray in
the periodograms (and also gray in the azimuth plot below) as unsuccesful.
That is because the defaults we used in our analysis
strategy (RH ranging from 0.5 to 8 meters) <strong>does not include the right answer</strong>.
And that is why we can’t see the tides.</p>
<p>Second attempt. Make the following changes:</p>
<ul class="simple">
<li><p>the RH range (5 to 18 meters) to include the
right answer (10 meters) and the tidal range (plus/minus two meters).</p></li>
<li><p>Use elevation angles of 5 to 15 because those looked best when we ran the reflection zone app.</p></li>
<li><p>Change the minimum amplitude to 2.</p></li>
<li><p>Use the L1L2CL5 frequency option. (default was L1 only)</p></li>
<li><p>set the azimuth range to 70 to 180</p></li>
</ul>
<p>Make sure your RINEX file is loaded and hit submit.</p>
<p align=center>
<img src=../_static/vlis-better-choices.png width=800/>
</p>
<p>Now you can see a broad swath of “successful” retrievals in the azimuth range you chose. The RH
changes in the top plot (azimuth on the x-axis) are the tides. The reflector height
answers are written out to a text file. Use the link called <strong>Numerical Results</strong>.
You will see L1, L2C, and L5 retrievals all together. The most retrievals are generally from
L1 - because every GPS satellite has L1. The second most are L2C (at least 24 satellites) and
the fewest are L5 (I am not sure how many L5 transmitting satellites there are, but it is fewer than L2C).</p>
<p>I also have <a class="reference external" href="https://github.com/kristinemlarson/gnssIR_api">a bash script</a> that will allow you to
more automatically query the API. Generally people <a class="reference external" href="https://github.com/kristinemlarson/gnssrefl/blob/master/docs/README_install.md">install the python code or the docker instead</a>.</p>
<p>If you are using the github install of <code>gnssrefl</code> and
have Python 3.9 or the <a class="reference external" href="https://github.com/kristinemlarson/gnssrefl/blob/master/docs/docker_cl_instructions.md">docker image</a>
installed, you can do this on your local machine. The advantage of doing it on a local machine is mostly that you can use multi-GNSS
signals. The web app is GPS only. For applications with a daily average, such as snow accumulation,
GPS can be enough. But for tides you generally want as many measurements as
possible, and that means multi-GNSS. The other
advantage of the using the <code>gnssrefl</code> package is that you can more easily use higher-rate data.
The web app strictly controls the maximum RH you can estimate and it also limits how large your RINEX
file can be. <code>gnssrefl</code> also provides links to many more data archives.</p>
</section>
<section id="make-snr-files">
<h1>Make SNR files<a class="headerlink" href="#make-snr-files" title="Permalink to this heading"></a></h1>
<p>To make your own 15 second multi-GNSS VLIS files with <code>rinex2snr</code> you need to :</p>
<ul class="simple">
<li><p>station vlis00nld (the longer station name will tell the code to find RINEX 3 instead of RINEX 2.11)</p></li>
<li><p>rate high</p></li>
<li><p>dec 15</p></li>
<li><p>archive bkg</p></li>
<li><p>orb gnss</p></li>
</ul>
</section>
<section id="take-a-quick-look-at-the-data">
<h1>Take a Quick Look at the Data<a class="headerlink" href="#take-a-quick-look-at-the-data" title="Permalink to this heading"></a></h1>
<p>Begin by making SNR files:</p>
<p><code>rinex2snr vlis00nld 2020 171 -doy_end 184 -rate high -dec 15 -orb gnss -archive bkg</code></p>
<p>Then use quickLook to make sure your strategy is a good one, where you should try
using different frequencies and the RH, elevation angle, and azimuth settings.</p>
<p><code>quickLook vlis 2020 171</code></p>
<p>This is the strategy I used:</p>
<p><code>make_json_input vlis 0 0 0 -h1 5 -h2 15 -e1 5 -e2 20 -peak2noise 3 -ampl 1 -allfreq T</code></p>
<p>Edit the json file and change the azimuth ranges of 0-90 to 70-90 and  delete the western azimuths. Be careful
when editing the file so that the commas and such are in the right places.</p>
<p>Now run <code>gnssir</code> for these same dates. This computes RH for each rising and setting satellite arc:</p>
<p><code>gnssir vlis 2022 171 -doy_end 184 </code></p>
<p>To put those results all together:</p>
<p><code>subdaily vlis 2022</code></p>
<p>Reports how many satellites were used in each constellation:</p>
<a class="reference internal image-reference" href="../_images/vlis_3.png"><img alt="../_images/vlis_3.png" src="../_images/vlis_3.png" style="width: 600px;" /></a>
<p>How the water levels look as a function of azimuth, constellation, and amplitude:</p>
<a class="reference internal image-reference" href="../_images/vlis_2.png"><img alt="../_images/vlis_2.png" src="../_images/vlis_2.png" style="width: 600px;" /></a>
<p>Time series with large outliers removed.</p>
<a class="reference internal image-reference" href="../_images/vlis-1.png"><img alt="../_images/vlis-1.png" src="../_images/vlis-1.png" style="width: 600px;" /></a>
<p>For comparisons with the local tide gauge you can use our utility <code>download_ioc</code>. The tide gauge name is … vlis!
You just provide the time periods (I think it is currently limited to 30 days). If you say <code>-plt T</code> it makes a crude
plot for you.</p>
<p>Additional corrections can be made using the <code>rhdot T</code> setting. I will add more information here when I get a chance.</p>
<p>Kristine M. Larson August 29, 2022</p>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Dr. Kristine Larson and UNAVCO.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>