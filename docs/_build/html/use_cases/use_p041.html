<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Marshall, Colorado, USA &mdash; gnssrefl  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> gnssrefl
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pages/understand.html">Understanding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/README_install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/func_and_utils_doc.html">Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/modules.html">gnssrefl API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/first_drivethru.html">gnssrefl Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/news.html">News <a name="news"></a></a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/news.html#bugs-features-a-name-bugs-a">Bugs/Features <a name="bugs"></a></a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/contributions_questions.html">Community and Questions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">gnssrefl</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Marshall, Colorado, USA</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/use_cases/use_p041.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="marshall-colorado-usa">
<h1>Marshall, Colorado, USA<a class="headerlink" href="#marshall-colorado-usa" title="Permalink to this heading"></a></h1>
<p align="center">
<img src="https://gnss-reflections.org/static/images/P041.jpg" width="500">
</P>
<p><strong>Station Name:</strong> p041</p>
<p><strong>Location:</strong> Boulder, CO, USA</p>
<p><strong>Archive:</strong> <a class="reference external" href="http://www.unavco.org">UNAVCO</a></p>
<p><strong>DOI:</strong>  	<a class="reference external" href="https://doi.org/10.7283/T5R49NQQ">https://doi.org/10.7283/T5R49NQQ</a></p>
<p><strong>Ellipsoidal Coordinates:</strong></p>
<ul class="simple">
<li><p>Latitude: 39.94949</p></li>
<li><p>Longitude: -105.19427</p></li>
<li><p>Height: 1728.842 m</p></li>
</ul>
<p><a class="reference external" href="https://www.unavco.org/instrumentation/networks/status/nota/overview/P041">Station Page at UNAVCO</a></p>
<p><a class="reference external" href="http://geodesy.unr.edu/NGLStationPages/stations/P041.sta">Station Page at Nevada Geodetic Laboratory</a></p>
<p><a class="reference external" href="https://goo.gl/maps/GwGV8PS4CQVQzYHC7">Google Map Link</a></p>
</section>
<section id="data-summary">
<h1>Data Summary<a class="headerlink" href="#data-summary" title="Permalink to this heading"></a></h1>
<p>The p041 antenna is ~2 meters above the soil surface. It is located at Marshall Mesa, Colorado.
The site is relatively planar and free of obstructions. Since October 2018 the site has
recorded multi-GNSS signals. Marshall Mesa has been featured in multiple publications on GNSS-IR:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.kristinelarson.net/wp-content/uploads/2015/10/larson_soil_grl2008.pdf">Use of GPS Receivers as a Soil Moisture Network for Water Cycle Studies (2008)</a></p></li>
<li><p><a class="reference external" href="https://www.kristinelarson.net/wp-content/uploads/2015/10/larsonetal_snow_2009.pdf">Can We Measure Snow Depth with GPS Receivers (2009)</a></p></li>
<li><p><a class="reference external" href="https://www.kristinelarson.net/wp-content/uploads/2015/10/small_etal_2010.pdf">Sensing Vegetation Growth with Reflected GPS Signals (2010)</a></p></li>
</ul>
<p>To get a sense of whether an azimuth or elevation mask is appropriate,
check the <a class="reference external" href="https://gnss-reflections.org/rzones?station=p041&amp;lat=39.9495&amp;lon=-105.1943&amp;height=1728.842&amp;msl=on&amp;RH=2&amp;eang=2&amp;azim1=0&amp;azim2=360">Reflection Zone Mapping in the web app</a>.<br />
In the linked page, the reflection zones from 5 to 25 degree elevation angles are plotted as
colored ellipses surrounding the station.</p>
</section>
<section id="reproduce-the-web-app">
<h1>Reproduce the Web App<a class="headerlink" href="#reproduce-the-web-app" title="Permalink to this heading"></a></h1>
<p>p041 is one of the example cases for the <a class="reference external" href="https://gnss-reflections.org/api?example=p041">GNSS-IR webapp.</a>
You can see from the title of the plot that the web app reproduces
results for the year 2019, day of year 150, and L1 frequency. You can make something that looks similar
to this using these commands:</p>
<p><code>rinex2snr p041 2019 150</code></p>
<p>and</p>
<p><code>quickLook p041 2019 150</code></p>
</section>
<section id="take-a-quick-look-at-the-data">
<h1>Take a Quick Look at the Data<a class="headerlink" href="#take-a-quick-look-at-the-data" title="Permalink to this heading"></a></h1>
<p>First make a SNR file:</p>
<p><code>rinex2snr p041 2020 132</code></p>
<p>Then use <strong>quickLook</strong> to analyze the reflection characteristics of the site <a class="reference internal" href="../pages/quickLook_desc.html"><span class="doc std std-doc">(For details on quickLook output)</span></a>.</p>
<p>The default return is for the L1 frequency:</p>
<p><code>quickLook p041 2020 132</code></p>
<a class="reference internal image-reference" href="../_images/p041-l1.x.png"><img alt="../_images/p041-l1.x.png" src="../_images/p041-l1.x.png" style="width: 600px;" /></a>
<p>The code also summarizes these RH retrievals in terms of
azimuth (x-axis) and QC metrics:</p>
<a class="reference internal image-reference" href="../_images/new-qc-p041-l1.png"><img alt="../_images/new-qc-p041-l1.png" src="../_images/new-qc-p041-l1.png" style="width: 600px;" /></a>
<p>Now try looking at the periodogram for L2C:</p>
<p><code>quickLook p041 2020 132 -fr 20</code></p>
<img src="../_static/p041-l2c.x.png" width="600">
<P>
<img src="../_static/new-qc-p041-l2c.png" width="600">
<p>Note that there are more colors in the L1 plots than in the L2C plots. That is the result of
the fact that there are more L1 satellites than L2C satellites.</p>
<p>Now try L5:</p>
<p><CODE>quickLook p041 2020 132 -fr 5</code></p>
<a class="reference internal image-reference" href="../_images/p041-l5.png"><img alt="../_images/p041-l5.png" src="../_images/p041-l5.png" style="width: 600px;" /></a>
<p>The L5 signal has only been available on satellites launched after 2010, so there are
fewer satellite tracks than either L1 or L2C.</p>
<p>The <strong>quickLook</strong> code has multiple options. For example, it is possible change the reflector height range:</p>
<p><code>quickLook p041 2020 132 -h1 0.5 -h2 10</code></p>
<p>To look at Glonass and Galileo signals, the SNR files must be created using the -orb gnss flag.
If you have already made a file using only the GPS data, you will need the overwrite flag.</p>
<p><code>rinex2snr p041 2020 132 -orb gnss -overwrite True</code></p>
<p>Beidou signals are tracked at this site, but unfortunately the data are not available in the RINEX 2.11 file.
They are very likely available in the RINEX 3 file, so you are encouraged to look there.</p>
<p><strong>quickLook</strong> is meant to be a visual assessment of the spectral characteristics at a given site on a given day. For routine analysis, one must use <strong>gnssir</strong>.</p>
</section>
<section id="analyze-the-data">
<h1>Analyze the Data<a class="headerlink" href="#analyze-the-data" title="Permalink to this heading"></a></h1>
<p>We will start by setting up the analysis parameters. These are stored
in a json file. In this case, the p041 RINEX data are multi-gnss, so you could
set the options to allow all frequencies from all constellations:</p>
<p><code>make_json_input p041 39.94949 -105.19427 1728.842 -allfreq True -e1 5 -e2 25</code></p>
<p>We are going to concentrate on GPS-only, which is the default. We have set stricter QC values by
setting the amplitude minimum to 8 and the peak 2 noise ratio to 3.2:</p>
<p><code>make_json_input p041 39.94949 -105.19427 1728.842 -e1 5 -e2 25 -peak2noise 3.2 -ampl 8 </code>
<a class="reference download internal" download="" href="../_downloads/dd681841911e54b8ac44d00f3c3cc126/p041.json"><span class="xref download myst">Here is a sample json file</span></a>.</p>
<p>We are going to look at a subset of p041 data from 2019/2020 to look at changes due to
snow accumulation. The series will begin doy 245 (2019) and end on doy 70 (2020).</p>
<p><code>rinex2snr p041 2019 245 -doy_end 365 -archive unavco</code></p>
<p><code>rinex2snr p041 2020 1 -doy_end 70 -archive unavco</code></p>
<p>Now run <strong>gnssir</strong> for 2019/2020:</p>
<p><code>gnssir p041 2019 1 -doy_end 366 -year_end 2020</code></p>
<p>The RH results from <strong>gnssir</strong> are stored in $REFL_CODE/2019/results/p041 and $REFL_CODE/2020/results/p041.</p>
<p>Typically a daily average is sufficient for climatology studies.
To ensure the average is meaningful and not impacted by large outliers,
a median filter (meters) is used and a minimum number of tracks is required. Here a median filter of 0.15 meter is used and 80 tracks are required. Either of these parameters can be changed depending on your site.
In this particular example, I only used three GPS frequencies, L1, L2C, and L5.</p>
<p><code>daily_avg p041 .15 80</code></p>
<p>Three plots are created. All RH retrievals:</p>
<p>A summary of how many values are being used in the daily average:</p>
<p>And the daily RH average:</p>
<p>The location of the output files are printed to the screen.</p>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Dr. Kristine Larson and UNAVCO.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>