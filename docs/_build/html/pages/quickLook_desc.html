<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quick Description of the quickLook Code &mdash; gnssrefl  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> gnssrefl
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="understand.html">Understanding</a></li>
<li class="toctree-l1"><a class="reference internal" href="README_install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="func_and_utils_doc.html">Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/modules.html">gnssrefl</a></li>
<li class="toctree-l1"><a class="reference internal" href="first_drivethru.html">gnssrefl Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="news.html">News <a name="news"></a></a></li>
<li class="toctree-l1"><a class="reference internal" href="news.html#bugs-features-a-name-bugs-a">Bugs/Features <a name="bugs"></a></a></li>
<li class="toctree-l1"><a class="reference internal" href="contributions_questions.html">Community and Questions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">gnssrefl</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Quick Description of the quickLook Code</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/pages/quickLook_desc.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="quick-description-of-the-quicklook-code">
<h1>Quick Description of the quickLook Code<a class="headerlink" href="#quick-description-of-the-quicklook-code" title="Permalink to this heading"></a></h1>
<p><code>quickLook</code> is meant to give you a visual assessment of the reflection characteristics
of your GNSS site. It is <strong>not</strong> meant for routine analysis of your data - instead it is
meant to give you a better understanding of how to choose settings for that routine analysis, which
is done in <code>gnssir</code>.</p>
<p><code>quickLook</code> takes all the SNR data at a site and splits it into four geographic
quadrants (northwest, northeast, southwest, southeast). Within those quadrants, it identifies rising
and setting arcs for one GNSS transmitter frequency and uses a periodogram to estimate the dominant Reflector Height (RH)
in meters.</p>
<p>Two plots are returned. One is a summary periodogram plot. This allows you to see for yourself the periodograms
that will be used to retrieve RH.  Each  color here represents a different satellite. Defaults were used, so the periodograms
were limited to the region 0.5 to 6 meters. The GPS L1 frequency is the default. (This site has good L1 SNR data at this time - in previous
years it was a different receiver with poor data quality).</p>
<p align=center>
<img src="../use_cases/p041-l1.png" width=600>
</p>
<p>The y-axis is the spectral amplitude in converted SNR units (volts/volts).  If you see a strong peak in the periodogram,
that means you will have a good estimate of the RH for that satellite arc. The data represented in gray are “failed” periodograms.</p>
<p>The second plot returned is a summary for various quality control metrics.</p>
<ul class="simple">
<li><p>the top plot is the color coded RH retrieval color: blue for good and gray for bad.  What you are looking for are RH that
are consistent with your site.  In this case the antenna is above level ground - and it is ~2 meters tall.  Even the failed RH
retrievals in general are consistent at this site.</p></li>
<li><p>the middle plot is the “peak to noise ratio” which is defined as peak spectral amplitude divided by the average
spectral value over a defined noise region.  In <code>quickLook</code> this will be the same region you used for your RH estimate.
So here the noise region would be 0.5 to 6 meters.  The peak to noise ratio of 3 seems to work - but also seems that one
could increase it a bit. However, this value is surface dependent. If you happen to check the peak to noise ratio on a day at peak
vegetation growth, you might be fooled into thinking the site did not work. Similarly, a windy day on a lake will produce lower peak to
noise ratios than a day without wind. I generally use 3.5 for snow, 3.2 for lakes, and 2.7 for tides.</p></li>
<li><p>the bottom plot is the spectral amplitude for the RH peak. This will depend -again - on the surface type. Different surfaces (water, ice, snow, bare soil) reflect
signals differently. It also reflects how smooth the surface is and which elevation angle limits were used.</p></li>
</ul>
<p align=center>
<img src="../use_cases/p041_l1_qc.png" width=600>
</p>
<p><strong>Common Questions:</strong></p>
<p>Why are spectral amplitudes bigger when lower elevation angles (5-15) are used? Because the GNSS antenna does a relatively poor job
of rejecting reflections there.  When you start to include higher elevation angles (&gt; 20), the reflection oscillations are still there,
but they are much smaller.</p>
<p>Is there something magical about a peak to noise ratio of 3? No. In fact we used a peak to noise ratio of 4 for most of PBO H2O.</p>
<p>Does a “gray” failed periodogram mean there is an obstruction of some kind on the ground? No. It can also mean that the satellite arc
is too small. The code also tries ot make sure that you have a long enough data series to retrieve a reliable spectral peak. So some arcs
have too little data - sometimes because the arc crosses your azimuth boundaries.</p>
<p><a class="reference external" href="https://gnss-reflections.org/overview">Additional discussion of the GNSS-IR method, with example periodogram links.</a></p>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Dr. Kristine Larson and UNAVCO.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>