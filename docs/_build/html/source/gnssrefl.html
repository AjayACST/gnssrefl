<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>gnssrefl package &mdash; gnssrefl  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="gnssrefl Use Cases" href="../pages/first_drivethru.html" />
    <link rel="prev" title="gnssrefl API Documentation" href="modules.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> gnssrefl
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../pages/understand.html">Understanding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/README_install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/func_and_utils_doc.html">Workflow</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">gnssrefl API Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">gnssrefl package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.cddis_highrate">gnssrefl.cddis_highrate module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.check_gnss">gnssrefl.check_gnss module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.check_rinex">gnssrefl.check_rinex module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.computemp1mp2">gnssrefl.computemp1mp2 module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.daily_avg">gnssrefl.daily_avg module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.daily_avg_cl">gnssrefl.daily_avg_cl module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.download_ioc">gnssrefl.download_ioc module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.download_orbits">gnssrefl.download_orbits module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.download_rinex">gnssrefl.download_rinex module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.download_simon">gnssrefl.download_simon module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.download_teqc">gnssrefl.download_teqc module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.download_tides">gnssrefl.download_tides module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.download_unr">gnssrefl.download_unr module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.filesizes">gnssrefl.filesizes module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.gnssir">gnssrefl.gnssir module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.gnssir_cl">gnssrefl.gnssir_cl module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.gnsssnr">gnssrefl.gnsssnr module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.gnsssnrbigger">gnssrefl.gnsssnrbigger module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.gps">gnssrefl.gps module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.gpssnr">gnssrefl.gpssnr module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.gpsweek">gnssrefl.gpsweek module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.installexe_cl">gnssrefl.installexe_cl module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.invsnr_cl">gnssrefl.invsnr_cl module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.invsnr_input">gnssrefl.invsnr_input module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.karnak_libraries">gnssrefl.karnak_libraries module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.llh2xyz">gnssrefl.llh2xyz module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.make_json_input">gnssrefl.make_json_input module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.nmea2snr">gnssrefl.nmea2snr module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.nmea2snr_cl">gnssrefl.nmea2snr_cl module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.phase_functions">gnssrefl.phase_functions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.plot_phase">gnssrefl.plot_phase module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.plot_results">gnssrefl.plot_results module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.prn2gps">gnssrefl.prn2gps module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.query_unr">gnssrefl.query_unr module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.quickLook">gnssrefl.quickLook module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.quickLook_cl">gnssrefl.quickLook_cl module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.quickLook_function">gnssrefl.quickLook_function module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.quickPhase">gnssrefl.quickPhase module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.quickPhase_function">gnssrefl.quickPhase_function module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.read_snr_files">gnssrefl.read_snr_files module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.refraction">gnssrefl.refraction module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.rinex2snr">gnssrefl.rinex2snr module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.rinex2snr_cl">gnssrefl.rinex2snr_cl module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.rinex3_rinex2">gnssrefl.rinex3_rinex2 module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.rinex3_snr">gnssrefl.rinex3_snr module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.rinpy">gnssrefl.rinpy module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.rnx2snr">gnssrefl.rnx2snr module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.spline_functions">gnssrefl.spline_functions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.subdaily">gnssrefl.subdaily module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.subdaily_cl">gnssrefl.subdaily_cl module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.update_snr_files">gnssrefl.update_snr_files module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.utils">gnssrefl.utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.veg_multiyr">gnssrefl.veg_multiyr module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.vwc">gnssrefl.vwc module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.vwc_input">gnssrefl.vwc_input module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.xyz2llh">gnssrefl.xyz2llh module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.ydoy">gnssrefl.ydoy module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl.ymd">gnssrefl.ymd module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-gnssrefl">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../pages/first_drivethru.html">gnssrefl Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/news.html">News <a name="news"></a></a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/news.html#bugs-features-a-name-bugs-a">Bugs/Features <a name="bugs"></a></a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/contributions_questions.html">Community and Questions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">gnssrefl</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">gnssrefl API Documentation</a> &raquo;</li>
      <li>gnssrefl package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/source/gnssrefl.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="gnssrefl-package">
<h1>gnssrefl package<a class="headerlink" href="#gnssrefl-package" title="Permalink to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="module-gnssrefl.cddis_highrate">
<span id="gnssrefl-cddis-highrate-module"></span><h2>gnssrefl.cddis_highrate module<a class="headerlink" href="#module-gnssrefl.cddis_highrate" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.cddis_highrate.bkg_highrate">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.cddis_highrate.</span></span><span class="sig-name descname"><span class="pre">bkg_highrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_rate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.cddis_highrate.bkg_highrate" title="Permalink to this definition"></a></dt>
<dd><p>picks up a highrate RINEX 3 file from BKG, merges and decimates it.
requires gfzrnx</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<em>string</em>) – 9 ch station name</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>month</strong> (<em>integer</em>) – </p></li>
<li><p><strong>day</strong> (<em>integer</em>) – </p></li>
<li><p><strong>stream</strong> (<em>string</em>) – R or S</p></li>
<li><p><strong>dec_rate</strong> (<em>integer</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.cddis_highrate.cddis_highrate">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.cddis_highrate.</span></span><span class="sig-name descname"><span class="pre">cddis_highrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_rate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.cddis_highrate.cddis_highrate" title="Permalink to this definition"></a></dt>
<dd><p>author: kristine larson
inputs: station name, year, month, day
picks up a higrate RINEX file from Geoscience Australia
you can input day =0 and it will assume month is day of year
not sure if it merges them …
2020 September 2 - moved to gz and new ftp site
??? does not appear to have Rinex 2 files anymore ???
??? goes they switched in 2020 …. ???
added dec rate to make the code a tiny bit faster</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.cddis_highrate.variableArchives">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.cddis_highrate.</span></span><span class="sig-name descname"><span class="pre">variableArchives</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cyyyy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cyy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cdoy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.cddis_highrate.variableArchives" title="Permalink to this definition"></a></dt>
<dd><p>deal with the insanity at the CDDIS archives, where they change
things alllllll the time.
files were Z until they were gz.  And soon will be a tar file ….</p>
</dd></dl>

</section>
<section id="module-gnssrefl.check_gnss">
<span id="gnssrefl-check-gnss-module"></span><h2>gnssrefl.check_gnss module<a class="headerlink" href="#module-gnssrefl.check_gnss" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.check_gnss.check_gnss">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.check_gnss.</span></span><span class="sig-name descname"><span class="pre">check_gnss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrEnd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">goal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">receiverrate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.check_gnss.check_gnss" title="Permalink to this definition"></a></dt>
<dd><p>input snr filename (without directory)
goal (as described in gnss_Stats), dec_rate (0 for nothing)
and receiverrate (‘low’ or ‘high’)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – four character station name</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – day of year</p></li>
<li><p><strong>snrEnd</strong> (<em>integer</em>) – snr filename choice, i.e. 66</p></li>
<li><p><strong>goal</strong> – </p></li>
<li><p><strong>dec_rate</strong> (<em>integer</em>) – </p></li>
<li><p><strong>receiverrate</strong> (<em>string</em>) – high or low</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>True for some unknown reason</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.check_gnss.gnss_stats">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.check_gnss.</span></span><span class="sig-name descname"><span class="pre">gnss_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ffull</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.check_gnss.gnss_stats" title="Permalink to this definition"></a></dt>
<dd><p>send the filename and return the constellation status
as defined below</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ffull</strong> (<em>string</em>) – SNR filename</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>stat</strong> – 0 for gps only, 100 for gps+glonass, 200 for gps+glonass+galileo,
300 for gps+glonass+galileo+beidou</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>integer</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.check_gnss.orbch">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.check_gnss.</span></span><span class="sig-name descname"><span class="pre">orbch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">goal</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.check_gnss.orbch" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.check_gnss.rerun_lsp">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.check_gnss.</span></span><span class="sig-name descname"><span class="pre">rerun_lsp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrEnd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mac</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.check_gnss.rerun_lsp" title="Permalink to this definition"></a></dt>
<dd><p>if an SNR file has been remade, this allows you to rerun the LSP code
should change that code to a callable function, but hey, not there yet.
:param station: four character station name
:type station: string
:param year:
:type year: integer
:param doy: day of year
:type doy: integer
:param snrEnd: SNR file ending, i.e. 66 or 99
:type snrEnd: integer
:param mac: old input kept for ???
:type mac: boolean</p>
</dd></dl>

</section>
<section id="module-gnssrefl.check_rinex">
<span id="gnssrefl-check-rinex-module"></span><h2>gnssrefl.check_rinex module<a class="headerlink" href="#module-gnssrefl.check_rinex" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.check_rinex.check_rinex_header">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.check_rinex.</span></span><span class="sig-name descname"><span class="pre">check_rinex_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rinexfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.check_rinex.check_rinex_header" title="Permalink to this definition"></a></dt>
<dd><p>commandline tool to look at header information in a RINEX file</p>
<dl class="simple">
<dt>rinexfile<span class="classifier">string</span></dt><dd><p>name of the file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.check_rinex.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.check_rinex.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.check_rinex.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.computemp1mp2">
<span id="gnssrefl-computemp1mp2-module"></span><h2>gnssrefl.computemp1mp2 module<a class="headerlink" href="#module-gnssrefl.computemp1mp2" title="Permalink to this heading"></a></h2>
<p>computes mp1mp2 using teqc
kristine larson
2020sep03 - modified environment variable requirement</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.computemp1mp2.ReadRecAnt">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.computemp1mp2.</span></span><span class="sig-name descname"><span class="pre">ReadRecAnt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">teqclog</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.computemp1mp2.ReadRecAnt" title="Permalink to this definition"></a></dt>
<dd><p>prints out Receiver and Antenna name
:param teqclog: the name of a teqc log
:type teqclog: string</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.computemp1mp2.check_directories">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.computemp1mp2.</span></span><span class="sig-name descname"><span class="pre">check_directories</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.computemp1mp2.check_directories" title="Permalink to this definition"></a></dt>
<dd><p>checks that directories exist for teqc logs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – 4 character station name</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.computemp1mp2.get_files">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.computemp1mp2.</span></span><span class="sig-name descname"><span class="pre">get_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">look</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.computemp1mp2.get_files" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – </p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – day of year</p></li>
<li><p><strong>look</strong> (<em>boolean</em>) – whether you should get the file if it does not exist locally</p></li>
<li><p><strong>etc.</strong> (<em>makes sure the files exist</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>navfile</strong> (<em>string</em>) – navigation/orbit file</p></li>
<li><p><strong>rinexfile</strong> (<em>string</em>) – name of the obs file</p></li>
<li><p><strong>foutname</strong> (<em>full name of the teqc log output</em>)</p></li>
<li><p><strong>mpdir</strong> (<em>directory for MP results</em>)</p></li>
<li><p><strong>goahead</strong> (<em>boolean</em>) – whether you should go ahead and run teqc</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.computemp1mp2.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.computemp1mp2.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.computemp1mp2.main" title="Permalink to this definition"></a></dt>
<dd><p>computes MP1 MP2 stats using teqc or reads existing log</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.computemp1mp2.readoutmp">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.computemp1mp2.</span></span><span class="sig-name descname"><span class="pre">readoutmp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">teqcfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rcvtype</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.computemp1mp2.readoutmp" title="Permalink to this definition"></a></dt>
<dd><p>teqcfile input is the full name of a teqc log
rcvtype is a string that includes the name of the receiver you are searching
for. it does not have to be exact (so NETR would work for NETRS)
returns MP1, MP2 (both in meters), and a boolean as to whether the values were found
if rcvtype is set to NONE, it will return data without restriction</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.computemp1mp2.run_teqc">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.computemp1mp2.</span></span><span class="sig-name descname"><span class="pre">run_teqc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">teqc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">navfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rinexfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foutname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mpdir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.computemp1mp2.run_teqc" title="Permalink to this definition"></a></dt>
<dd><p>run teqcs and stores the output</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>teqc</strong> (<em>string</em>) – location of the teqc executable</p></li>
<li><p><strong>navfile</strong> (<em>string</em>) – name of the RINEX nav file</p></li>
<li><p><strong>rinexfile</strong> (<em>string</em>) – name of the RINEX observation file</p></li>
<li><p><strong>foutname</strong> (<em>string</em>) – name of the output file</p></li>
<li><p><strong>mpdir</strong> (<em>string</em>) – location of the multipath directory on your system</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.computemp1mp2.sfilename">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.computemp1mp2.</span></span><span class="sig-name descname"><span class="pre">sfilename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.computemp1mp2.sfilename" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – 4 character station name</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – day of year</p></li>
<li><p><strong>returns</strong> – </p></li>
<li><p><strong>------------</strong> – </p></li>
<li><p><strong>xfile</strong> (<em>string</em>) – the full SNR filename on your local system</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.computemp1mp2.vegplt">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.computemp1mp2.</span></span><span class="sig-name descname"><span class="pre">vegplt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">winter</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.computemp1mp2.vegplt" title="Permalink to this definition"></a></dt>
<dd><p>input station name
tv: np array (year, doy, mp1, mp2)
and winter flag for wehther to throw out ~jan-apr
and ~oct-dec</p>
</dd></dl>

</section>
<section id="module-gnssrefl.daily_avg">
<span id="gnssrefl-daily-avg-module"></span><h2>gnssrefl.daily_avg module<a class="headerlink" href="#module-gnssrefl.daily_avg" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.daily_avg.daily_avg_stat_plots">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.daily_avg.</span></span><span class="sig-name descname"><span class="pre">daily_avg_stat_plots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obstimes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meanRH</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meanAmp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">txtdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ngps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nglo</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ngal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbei</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.daily_avg.daily_avg_stat_plots" title="Permalink to this definition"></a></dt>
<dd><p>make some plots of results - moved here to make it cleaner
:param obstimes:
:type obstimes: datetime object
:param meanRH: daily averaged Reflector Height values in meters
:type meanRH: numpy array
:param meanAmp: daily average RH amplitude
:type meanAmp: numpy array
:param station: 4 character
:type station: string
:param txtdir: directory for the results
:type txtdir: string
:param tv: is the variable of daily results
:type tv: ??
:param ngps: number of gps satellites each day
:type ngps: numpy array
:param nglo: number of glonass satellites each day
:type nglo: numpy array
:param ngal: number of galileo satellites each day
:type ngal: numpy array
:param nbei: number of beidou satellites each day
:type nbei: numpy array</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.daily_avg.fbias_daily_avg">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.daily_avg.</span></span><span class="sig-name descname"><span class="pre">fbias_daily_avg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.daily_avg.fbias_daily_avg" title="Permalink to this definition"></a></dt>
<dd><p>reads QC-RH values and the daily averages
computes residuals and estimate the frequency
bias for all available frequencies which is printed to the screen</p>
<dl class="simple">
<dt>station<span class="classifier">str</span></dt><dd><p>station name - 4char - lowercase</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.daily_avg.readin_plot_daily">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.daily_avg.</span></span><span class="sig-name descname"><span class="pre">readin_plot_daily</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alldatafile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csvformat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">howBig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ReqTracks</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">360</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.daily_avg.readin_plot_daily" title="Permalink to this definition"></a></dt>
<dd><p>worker code for daily_avg_cl.py
reads in daily files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>str</em>) – station name, 4 ch, lowercase</p></li>
<li><p><strong>extension</strong> (<em>str</em>) – folder extension - usually ‘’</p></li>
<li><p><strong>year1</strong> (<em>integer</em>) – first year</p></li>
<li><p><strong>year2</strong> (<em>integer</em>) – last year</p></li>
<li><p><strong>fr</strong> (<em>integer</em>) – 0 for all frequencies.  otherwise, it must be a legal frequency (101 for Glonass L1)</p></li>
<li><p><strong>alldatafile</strong> (<em>str</em>) – name of the output filename</p></li>
<li><p><strong>csvformat</strong> (<em>boolean</em>) – whether you want output as csv format</p></li>
<li><p><strong>howBig</strong> (<em>float</em>) – criterion for the median filter, i.e. how far in meters can a RH be from the median for that day, in meters</p></li>
<li><p><strong>ReqTracks</strong> (<em>integer</em>) – is the number of retrievals required per day</p></li>
<li><p><strong>azim1</strong> (<em>integer</em>) – minimum azimuth, degrees</p></li>
<li><p><strong>azim2</strong> (<em>integer</em>) – maximum azimuth, degrees</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>tv</strong> (<em>numpy array</em>) – with these values [year, doy, meanRHtoday, len(rh), month, day, stdRH, averageAmplitude]
len(rh) is the number of RH on a given day
stdRH is the standard deviation of the RH values (meters)
averageAmplitude is in volts/volts</p></li>
<li><p><strong>obstimes</strong> (<em>datetime objects for the times</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.daily_avg.write_out_RH_file">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.daily_avg.</span></span><span class="sig-name descname"><span class="pre">write_out_RH_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obstimes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csvformat</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.daily_avg.write_out_RH_file" title="Permalink to this definition"></a></dt>
<dd><p>write out the daily average RH values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obstimes</strong> (<em>datetime object</em>) – </p></li>
<li><p><strong>tv</strong> – </p></li>
<li><p><strong>outfile</strong> (<em>string</em>) – name of output file</p></li>
<li><p><strong>csvformat</strong> (<em>boolean</em>) – true if you want csv format output</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.daily_avg.write_out_all">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.daily_avg.</span></span><span class="sig-name descname"><span class="pre">write_out_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">allrh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csvformat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">NG</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">good</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gazim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gfreq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gsat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpeak2noise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gutcTime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tvall</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.daily_avg.write_out_all" title="Permalink to this definition"></a></dt>
<dd><p>writing out all the RH retrievals to a single file: file ID is allrh)
tvall had everything in it.  but it was slowing everything down, so i removed it</p>
<p>NG :
yr :
doy :
d :
good :
gazim :
gfreq :</p>
</dd></dl>

</section>
<section id="module-gnssrefl.daily_avg_cl">
<span id="gnssrefl-daily-avg-cl-module"></span><h2>gnssrefl.daily_avg_cl module<a class="headerlink" href="#module-gnssrefl.daily_avg_cl" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.daily_avg_cl.daily_avg">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.daily_avg_cl.</span></span><span class="sig-name descname"><span class="pre">daily_avg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">medfilter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ReqTracks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">txtfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2005</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2030</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">360</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.daily_avg_cl.daily_avg" title="Permalink to this definition"></a></dt>
<dd><dl>
<dt>station<span class="classifier">string</span></dt><dd><p>4 or 9 character ID of the station.</p>
</dd>
<dt>medfilter<span class="classifier">float</span></dt><dd><p>Median filter for daily reflector height (m). Start with 0.25</p>
</dd>
<dt>ReqTracks<span class="classifier">integer</span></dt><dd><p>Required number of tracks.</p>
</dd>
<dt>txtfile<span class="classifier">string, optional</span></dt><dd><p>Use this parameter to set your own output filename.
default is None.</p>
</dd>
<dt>plt<span class="classifier">boolean, optional</span></dt><dd><p>whether to print plots to screen or not.
default is True.</p>
</dd>
<dt>extension<span class="classifier">string, optional</span></dt><dd><p>extension for solution names.
default is ‘’. (empty string)</p>
</dd>
<dt>year1<span class="classifier">integer, optional</span></dt><dd><p>restrict to years starting with.
default is 2005.</p>
</dd>
<dt>year2<span class="classifier">integer, optional</span></dt><dd><p>restrict to years ending with.
default is 2021.</p>
</dd>
<dt>fr<span class="classifier">integer, optional</span></dt><dd><p>GNSS frequency.
value options:</p>
<blockquote>
<div><p>0 (default) : all
1 : GPS L1
2 : GPS L2
20 : GPS L2C
5 : GPS L5
101 : GLONASS L1
102 : GLONASS L2
201 : GALILEO E1
205 : GALILEO E5a
206 : GALILEO E6
207 : GALILEO E5b
208 : GALILEO E5
302 : BEIDOU B1
306 : BEIDOU B3
307 : BEIDOU B2</p>
</div></blockquote>
<p>default is 0. (all)</p>
</dd>
<dt>csv<span class="classifier">boolean, optional</span></dt><dd><p>Whether you want csv instead of a plain text file.
default is False (plain text).</p>
</dd>
<dt>azim1<span class="classifier">integer, optional</span></dt><dd><p>minimum azimuth, degrees
note: should be modified to allow negative azimuth</p>
</dd>
<dt>azim2<span class="classifier">integer, optional</span></dt><dd><p>maximum azimuth, degrees</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.daily_avg_cl.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.daily_avg_cl.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.daily_avg_cl.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.daily_avg_cl.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.daily_avg_cl.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.daily_avg_cl.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.download_ioc">
<span id="gnssrefl-download-ioc-module"></span><h2>gnssrefl.download_ioc module<a class="headerlink" href="#module-gnssrefl.download_ioc" title="Permalink to this heading"></a></h2>
<p>downloads IOC tide gauge files</p>
<p>originally used XML download. now uses json</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_ioc.download_ioc">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_ioc.</span></span><span class="sig-name descname"><span class="pre">download_ioc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outliers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sensor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_ioc.download_ioc" title="Permalink to this definition"></a></dt>
<dd><p>Downloads IOC tide gauge files</p>
<p>station : string</p>
<dl class="simple">
<dt>date1<span class="classifier">string</span></dt><dd><p>begin date in yyyymmdd.
Example value: 20150101</p>
</dd>
<dt>date2<span class="classifier">string</span></dt><dd><p>end date in yyyymmdd.
Example value: 20150101</p>
</dd>
<dt>output<span class="classifier">string, optional</span></dt><dd><p>Optional output filename
default is None
The file will be written to REFL_CODE/Files</p>
</dd>
<dt>plt: boolean, optional</dt><dd><p>plot comes to the screen
default is None</p>
</dd>
<dt>outliers: boolean, optional</dt><dd><p>tried to remove outliers, but it doesn’t work as yet
default is No</p>
</dd>
<dt>sensor: string, optional</dt><dd><p>type of sensor, prs(for pressure), rad (for radar), flt (for float)
default is None, which means it will print out what is there.
if there is more than one sensor you should specifically ask for the one
you want</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_ioc.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_ioc.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_ioc.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_ioc.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_ioc.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_ioc.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_ioc.quickp">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_ioc.</span></span><span class="sig-name descname"><span class="pre">quickp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sealevel</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_ioc.quickp" title="Permalink to this definition"></a></dt>
<dd><p>makes a quick plot of sea level for station s</p>
<p>Parameters</p>
<dl class="simple">
<dt>station<span class="classifier">string</span></dt><dd><p>station name</p>
</dd>
<dt>t<span class="classifier">numpy array in datetime format</span></dt><dd><p>time of the sea level observations</p>
</dd>
<dt>sealevel<span class="classifier">numpy array, float</span></dt><dd><p>meters (relative - not defined in a datum)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gnssrefl.download_orbits">
<span id="gnssrefl-download-orbits-module"></span><h2>gnssrefl.download_orbits module<a class="headerlink" href="#module-gnssrefl.download_orbits" title="Permalink to this heading"></a></h2>
<p>downloads Orbit files
author: kristine larson
2020sep03 - modified environment variable requirement</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_orbits.download_orbits">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_orbits.</span></span><span class="sig-name descname"><span class="pre">download_orbits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orbit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_orbits.download_orbits" title="Permalink to this definition"></a></dt>
<dd><p>command line interface for download_orbits
Parameters:
___________
orbit : string</p>
<blockquote>
<div><blockquote>
<div><p>value options:</p>
<blockquote>
<div><p>gps (default) : uses GPS broadcast orbit</p>
<p>gps+glo : will use JAXA orbits which have GPS and Glonass (usually available in 48 hours)</p>
<p>gnss : will use GFZ orbits, which is multi-GNSS (available in 3-4 days)</p>
<p>nav : GPS broadcast, adequate for reflectometry.</p>
<p>igs : IGS precise, GPS only</p>
<p>igr : IGS rapid, GPS only</p>
<p>jax : JAXA, GPS + Glonass, within a few days, missing block III GPS satellites</p>
<p>gbm : GFZ Potsdam, multi-GNSS, not rapid</p>
<p>grg : French group, GPS, Galileo and Glonass, not rapid</p>
<p>esa : ESA, multi-GNSS</p>
<p>gfr : GFZ rapid, GPS, Galileo and Glonass, since May 17 2021</p>
<p>wum : (disabled) Wuhan, multi-GNSS, not rapid</p>
<p>gnss2 : multi-GNSS, but uses IGN instead of CDDIS</p>
<p>brdc : rinex 3 broadcast file from CDDIS</p>
<p>ultra : ultra orbits from GFZ</p>
<p>rapid : rapid orbits from GFZ</p>
</div></blockquote>
</div></blockquote>
<dl class="simple">
<dt>year<span class="classifier">integer</span></dt><dd><p>year</p>
</dd>
<dt>month<span class="classifier">integer</span></dt><dd><p>month</p>
</dd>
<dt>day<span class="classifier">integer</span></dt><dd><p>day</p>
</dd>
<dt>doy_end<span class="classifier">integer - optional</span></dt><dd><p>allow multiple download</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_orbits.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_orbits.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_orbits.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_orbits.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_orbits.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_orbits.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.download_rinex">
<span id="gnssrefl-download-rinex-module"></span><h2>gnssrefl.download_rinex module<a class="headerlink" href="#module-gnssrefl.download_rinex" title="Permalink to this heading"></a></h2>
<p>downloads RINEX files
2020sep03 - modified environment variable requirement
2022feb15 - updated rinex3 to use karnak.py</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_rinex.download_rinex">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_rinex.</span></span><span class="sig-name descname"><span class="pre">download_rinex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'low'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'R'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samplerate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_rinex.download_rinex" title="Permalink to this definition"></a></dt>
<dd><p>command line interface for download_rinex.
Parameters:
___________
station : string</p>
<blockquote>
<div><p>4 or 9 character ID of the station.</p>
</div></blockquote>
<dl>
<dt>year<span class="classifier">integer</span></dt><dd><blockquote>
<div><p>Year</p>
</div></blockquote>
<dl class="simple">
<dt>month<span class="classifier">integer</span></dt><dd><p>month</p>
</dd>
<dt>day<span class="classifier">integer</span></dt><dd><p>day</p>
</dd>
</dl>
</dd>
<dt>rate<span class="classifier">string, optional</span></dt><dd><p>sample rate.
value options:</p>
<blockquote>
<div><p>low (default) : standard rate data
high : high rate data</p>
</div></blockquote>
</dd>
<dt>archive<span class="classifier">str, optional</span></dt><dd><p>Select which archive to get the files from.
Default is None. None means that the code will search and find an archive with the data for you.
value options:</p>
<blockquote>
<div><p>unavco
sonel (global sea level observing system)
sopac (Scripps Orbit and Permanent Array Center)
cddis (NASA’s Archive of Space Geodesy Data)
ngs (National Geodetic Survey)
nrcan (Natural Resources Canada)
bkg (German Agency for Cartography and Geodesy)
nz (GNS, New Zealand)
ga (Geoscience Australia)
bev (Austria Federal Office of Metrology and Surveying)
jeff
special
all</p>
</div></blockquote>
</dd>
<dt>version<span class="classifier">int, optional</span></dt><dd><p>Version of Rinex file.
Default is 2.
value options:</p>
<blockquote>
<div><p>2 : Rinex 2
3 : Rinex 3</p>
</div></blockquote>
</dd>
<dt>strip<span class="classifier">boolean, optional</span></dt><dd><p>Whether to strip only SNR observables.  Uses teqc or gfzrnx.
Default is False.</p>
</dd>
<dt>doy_end<span class="classifier">int, optional</span></dt><dd><p>End day of year to be downloaded. This is to create a range from doy to doy_end of days to get the snr files.
Default is None. (meaning only a single day using the doy parameter)</p>
</dd>
<dt>stream<span class="classifier">str, optional</span></dt><dd><p>Whether to get stream defined filenames.
Default is ‘R’.
value options:</p>
<blockquote>
<div><p>R
S</p>
</div></blockquote>
</dd>
<dt>samplerate<span class="classifier">int, optional</span></dt><dd><p>Sample rate in seconds for RINEX3 only.
Default is 30.</p>
</dd>
<dt>debug<span class="classifier">boolean, optional</span></dt><dd><p>provides screen output helpful for debugging
Default is False</p>
</dd>
<dt>dec<span class="classifier">integer, optional</span></dt><dd><p>some highrate file downloads allow decimation. Default is 1 sec, i.e. no decimation</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_rinex.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_rinex.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_rinex.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_rinex.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_rinex.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_rinex.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.download_simon">
<span id="gnssrefl-download-simon-module"></span><h2>gnssrefl.download_simon module<a class="headerlink" href="#module-gnssrefl.download_simon" title="Permalink to this heading"></a></h2>
<p>downloads Simon Williams GNSS-IR sea level files</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_simon.download_simon">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_simon.</span></span><span class="sig-name descname"><span class="pre">download_simon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_simon.download_simon" title="Permalink to this definition"></a></dt>
<dd><p>Downloads IOC tide gauge files in json format,
converts it to plain txt or csv format</p>
<p>station : string</p>
<dl class="simple">
<dt>output<span class="classifier">string, optional</span></dt><dd><p>Optional output filename
default is None</p>
</dd>
<dt>plt: boolean, optional</dt><dd><p>plot comes to the screen
default is None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_simon.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_simon.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_simon.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_simon.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_simon.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_simon.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_simon.quickp">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_simon.</span></span><span class="sig-name descname"><span class="pre">quickp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sealevel</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_simon.quickp" title="Permalink to this definition"></a></dt>
<dd><p>makes quick plot of the tide gauge data</p>
<dl class="simple">
<dt>station: string</dt><dd><p>4 character ID of the station</p>
</dd>
<dt>t: datetime object array</dt><dd><p>time</p>
</dd>
<dt>sealevel: numpy array</dt><dd><p>water level in meters</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gnssrefl.download_teqc">
<span id="gnssrefl-download-teqc-module"></span><h2>gnssrefl.download_teqc module<a class="headerlink" href="#module-gnssrefl.download_teqc" title="Permalink to this heading"></a></h2>
<p>download a year of teqc logs from unavco
can do multiple years as well
2022 september 15, updated to https access</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_teqc.download_teqc">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_teqc.</span></span><span class="sig-name descname"><span class="pre">download_teqc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_teqc.download_teqc" title="Permalink to this definition"></a></dt>
<dd><p>Download teqc logs from UNAVCO per year.
Parameters:
___________
station : string</p>
<blockquote>
<div><p>4 character ID of the station</p>
</div></blockquote>
<dl class="simple">
<dt>year<span class="classifier">integer</span></dt><dd><p>Year</p>
</dd>
<dt>year_end<span class="classifier">int, optional</span></dt><dd><p>end year. This is to create a range from year to year_end to get the snr files for more than one year.
Default is None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_teqc.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_teqc.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_teqc.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_teqc.mpfile_unavco">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_teqc.</span></span><span class="sig-name descname"><span class="pre">mpfile_unavco</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_teqc.mpfile_unavco" title="Permalink to this definition"></a></dt>
<dd><p>picks up teqc log from unavco if it exists
stores it in $REFL_CODE / year / mp / station directory
does not check that directory exists.  Assumes you previously
ran check_directories from the veg library</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – four character station name</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – day of year</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_teqc.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_teqc.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_teqc.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.download_tides">
<span id="gnssrefl-download-tides-module"></span><h2>gnssrefl.download_tides module<a class="headerlink" href="#module-gnssrefl.download_tides" title="Permalink to this heading"></a></h2>
<p>downloads NOAA tide gauge files
kristine larson</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_tides.download_tides">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_tides.</span></span><span class="sig-name descname"><span class="pre">download_tides</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datum</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'mllw'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_tides.download_tides" title="Permalink to this definition"></a></dt>
<dd><p>Downloads NOAA tide gauge files
Downloads a json and converts it to plain txt with columns!</p>
<dl class="simple">
<dt>station<span class="classifier">string</span></dt><dd><p>7 character ID of the station.</p>
</dd>
<dt>date1<span class="classifier">string</span></dt><dd><p>start date.
Example value: 20150101</p>
</dd>
<dt>date2<span class="classifier">string</span></dt><dd><p>end date.
Example value: 20150110</p>
</dd>
<dt>output<span class="classifier">string, optional</span></dt><dd><p>Optional output filename
default is None</p>
</dd>
<dt>plt: boolean, optional</dt><dd><p>plot comes to the screen
default is None</p>
</dd>
<dt>datum: string, optional</dt><dd><p>set to lwd for lakes?
default is mllw</p>
</dd>
</dl>
<p>If you ask for 31 days of data or less, it will downlaod exactly what you ask for.
But if you want a longer time series, this code needs to query the NOAA API every month.
To make the code easier to write, I start with the first day of the first month you ask for and end with
last day in the last month.</p>
<p>Output is written to REFL_CODE/Files/</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_tides.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_tides.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_tides.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_tides.multimonthdownload">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_tides.</span></span><span class="sig-name descname"><span class="pre">multimonthdownload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_tides.multimonthdownload" title="Permalink to this definition"></a></dt>
<dd><p>downloads NOAA measurements &gt; one month</p>
<p>station : string</p>
<p>datum : string</p>
<p>fout - fileID for writing results</p>
<dl class="simple">
<dt>year1<span class="classifier">integer</span></dt><dd><p>year when first measurements will be downloaded</p>
</dd>
<dt>month1<span class="classifier">integer</span></dt><dd><p>month when first measurements will be downloaded</p>
</dd>
<dt>year2<span class="classifier">integer</span></dt><dd><p>last yaer when measurements will be downloaded</p>
</dd>
<dt>month2<span class="classifier">integer</span></dt><dd><p>last month when measurements will be downloaded</p>
</dd>
<dt>csv<span class="classifier">boolean</span></dt><dd><p>whether output file is csv format</p>
</dd>
</dl>
<dl class="simple">
<dt>tt<span class="classifier">list of times</span></dt><dd><p>modified julian day</p>
</dd>
</dl>
<p>obstimes : list of datetime objects</p>
<dl class="simple">
<dt>slevel<span class="classifier">list</span></dt><dd><p>water level in meters</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_tides.noaa2me">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_tides.</span></span><span class="sig-name descname"><span class="pre">noaa2me</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_tides.noaa2me" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>date1</strong> (<em>string</em>) – time in format YYYYMMDD for year month and day</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>year1</strong> (<em>integer</em>)</p></li>
<li><p><strong>month1</strong> (<em>integer</em>)</p></li>
<li><p><strong>day1</strong> (<em>integer</em>)</p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – day of year</p></li>
<li><p><strong>modjulday</strong> (<em>float</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_tides.noaa_command">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_tides.</span></span><span class="sig-name descname"><span class="pre">noaa_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstimes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slevel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_tides.noaa_command" title="Permalink to this definition"></a></dt>
<dd><p>downloads/writes data within one year</p>
<p>Parameters</p>
<p>station : string</p>
<p>year : integer</p>
<p>month1 : integer</p>
<p>month2 : integer</p>
<p>datum : string</p>
<p>metadata : boolean</p>
<dl class="simple">
<dt>tt<span class="classifier">numpy array</span></dt><dd><p>modified julian date for water measurements</p>
</dd>
</dl>
<p>obstimes : numpy array</p>
<p>slevel : numpy array</p>
<dl class="simple">
<dt>csv<span class="classifier">boolean</span></dt><dd><p>True if csv output wanted
default is False</p>
</dd>
</dl>
<p>fout - fileID for writing the results
year that you want to write out
month1 and month2 are the starting and ending months
metadata = boolean to decide whether to write the metadata to the screen
tt - MJD</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_tides.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_tides.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_tides.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_tides.pickup_from_noaa">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_tides.</span></span><span class="sig-name descname"><span class="pre">pickup_from_noaa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">printmeta</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_tides.pickup_from_noaa" title="Permalink to this definition"></a></dt>
<dd><p>station: str
date1: str , beginning time, 20120101 is January 1, 2012
date2: str, end time , same format
datum: str</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_tides.quickp">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_tides.</span></span><span class="sig-name descname"><span class="pre">quickp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sealevel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noaa_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_tides.quickp" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_tides.write_out_data">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_tides.</span></span><span class="sig-name descname"><span class="pre">write_out_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstimes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">slevel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csv</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_tides.write_out_data" title="Permalink to this definition"></a></dt>
<dd><p>input: data record from NOAA API
tt - MJD
obstimes - datetime
slevel - water level in meters
csv - whether csv format or not (boolean)</p>
</dd></dl>

</section>
<section id="module-gnssrefl.download_unr">
<span id="gnssrefl-download-unr-module"></span><h2>gnssrefl.download_unr module<a class="headerlink" href="#module-gnssrefl.download_unr" title="Permalink to this heading"></a></h2>
<p>downloads East North Vertical nevada reno position files
IGS2014 frame
author: kristine larson</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_unr.download_unr">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_unr.</span></span><span class="sig-name descname"><span class="pre">download_unr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_unr.download_unr" title="Permalink to this definition"></a></dt>
<dd><p>Command line interface for download_blewitt
Parameters:
___________
station : string</p>
<blockquote>
<div><p>4 character ID of the station name</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_unr.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_unr.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_unr.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.download_unr.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.download_unr.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.download_unr.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.filesizes">
<span id="gnssrefl-filesizes-module"></span><h2>gnssrefl.filesizes module<a class="headerlink" href="#module-gnssrefl.filesizes" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.filesizes.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.filesizes.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.filesizes.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.gnssir">
<span id="gnssrefl-gnssir-module"></span><h2>gnssrefl.gnssir module<a class="headerlink" href="#module-gnssrefl.gnssir" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gnssir.apply_refraction_corr">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gnssir.</span></span><span class="sig-name descname"><span class="pre">apply_refraction_corr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lsp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ele</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gnssir.apply_refraction_corr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gnssir.gnssir_guts">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gnssir.</span></span><span class="sig-name descname"><span class="pre">gnssir_guts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lsp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gnssir.gnssir_guts" title="Permalink to this definition"></a></dt>
<dd><p>my attempt to separate the inputs to the code and the guts of the code
inputs are station name, year, day of year (integers)
snr_type is an integer (99, 66, etc). lsp is a json</p>
<p>check to see if there were any results before sending a plot to the screen</p>
<p>Parameters</p>
<p>station: string</p>
<p>year : integer</p>
<p>doy : integer</p>
<p>snr_type : integer</p>
<p>extension : string</p>
<p>lsp : dictionary</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gnssir.local_update_plot">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gnssir.</span></span><span class="sig-name descname"><span class="pre">local_update_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">px</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">failure</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gnssir.local_update_plot" title="Permalink to this definition"></a></dt>
<dd><p>input plt_screen integer value from gnssIR_lomb.
(value of one means update the SNR and LSP plot)
and values of the SNR data (x,y) and LSP (px,pz)
added fail criterion to put out bad periodograms in gray</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gnssir.plot2screen">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gnssir.</span></span><span class="sig-name descname"><span class="pre">plot2screen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pltname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gnssir.plot2screen" title="Permalink to this definition"></a></dt>
<dd><p>Parameter</p>
<dl class="simple">
<dt>station<span class="classifier">string</span></dt><dd><p>4 character station ID</p>
</dd>
</dl>
<p>painful painful
<a class="reference external" href="https://www.semicolonworld.com/question/57658/matplotlib-adding-an-axes-using-the-same-arguments-as-a-previous-axes">https://www.semicolonworld.com/question/57658/matplotlib-adding-an-axes-using-the-same-arguments-as-a-previous-axes</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gnssir.read_json_file">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gnssir.</span></span><span class="sig-name descname"><span class="pre">read_json_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gnssir.read_json_file" title="Permalink to this definition"></a></dt>
<dd><p>picks up json instructions for periodogram
inputs are the station name and an extension (which can just be ‘’)</p>
<p>Parameter</p>
<dl class="simple">
<dt>station<span class="classifier">string</span></dt><dd><p>4 character station name</p>
</dd>
</dl>
<p>extension : string</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gnssir.set_refraction_params">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gnssir.</span></span><span class="sig-name descname"><span class="pre">set_refraction_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dmjd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lsp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gnssir.set_refraction_params" title="Permalink to this definition"></a></dt>
<dd><p>Parameters</p>
<dl class="simple">
<dt>station: string</dt><dd><p>4 character station name</p>
</dd>
<dt>dmjd<span class="classifier">float</span></dt><dd><p>modified julian date</p>
</dd>
</dl>
<p>lsp : dictionary</p>
<p>called from guts.  pick up refr info</p>
</dd></dl>

</section>
<section id="module-gnssrefl.gnssir_cl">
<span id="gnssrefl-gnssir-cl-module"></span><h2>gnssrefl.gnssir_cl module<a class="headerlink" href="#module-gnssrefl.gnssir_cl" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gnssir_cl.gnssir">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gnssir_cl.</span></span><span class="sig-name descname"><span class="pre">gnssir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">66</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ampl</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">360</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nooverwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compress</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">screenstats</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delTmax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mmdd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gzip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gnssir_cl.gnssir" title="Permalink to this definition"></a></dt>
<dd><p>This is the main driver for estimating Reflector Height using GNSS Interferometric Reflectometry.</p>
<dl>
<dt>station<span class="classifier">string</span></dt><dd><p>4 or 9 character ID of the station
lowercase please</p>
</dd>
<dt>year<span class="classifier">integer</span></dt><dd><p>Year</p>
</dd>
<dt>doy<span class="classifier">integer</span></dt><dd><p>Day of year</p>
</dd>
<dt>snr<span class="classifier">integer, optional</span></dt><dd><p>SNR format. This tells the code what elevation angles to save data for. Will be the snr file ending.
value options:</p>
<blockquote>
<div><p>66 (default) : saves all data with elevation angles less than 30 degress
99 : saves all data with elevation angles between 5 and 30 degrees
88 : saves all data with elevation angles between 5 and 90 degrees
50 : saves all data with elevation angles less than 10 degrees</p>
</div></blockquote>
</dd>
<dt>plt<span class="classifier">boolean, optional</span></dt><dd><p>Send plots to screen or not.
Default is False.</p>
</dd>
<dt>fr<span class="classifier">integer, optional</span></dt><dd><p>GNSS frequency.
value options:</p>
<blockquote>
<div><p>1 (default) : GPS L1
2 : GPS L2
20 : GPS L2C
5 : GPS L5
101 : GLONASS L1
102 : GLONASS L2
201 : GALILEO E1
205 : GALILEO E5a
206 : GALILEO E6
207 : GALILEO E5b
208 : GALILEO E5
302 : BEIDOU B1
306 : BEIDOU B3
307 : BEIDOU B2</p>
</div></blockquote>
</dd>
<dt>ampl<span class="classifier">float, optional</span></dt><dd><p>minimum spectral peak amplitude.
default is None</p>
</dd>
<dt>sat<span class="classifier">integer, optional</span></dt><dd><p>satellite number to only look at that single satellite.
default is None.</p>
</dd>
<dt>doy_end<span class="classifier">int, optional</span></dt><dd><p>end day of year. This is to create a range from doy to doy_end of days.
If year_end parameter is used - then day_end will end in the day of the year_end.
Default is None. (meaning only a single day using the doy parameter)</p>
</dd>
<dt>year_end<span class="classifier">int, optional</span></dt><dd><p>end year. This is to create a range from year to year_end to get the snr files for more than one year.
doy_end will be for year_end.
Default is None.</p>
</dd>
<dt>azim1<span class="classifier">integer, optional</span></dt><dd><p>lower limit azimuth.
If the azimuth angles are changed in the json (using ‘azval’ key) and not here, then the json overrides these.
If changed here, then it overrides what you requested in the json.
default is 0.</p>
</dd>
<dt>azim2<span class="classifier">integer, optional</span></dt><dd><p>upper limit azimuth.
If the azimuth angles are changed in the json (using ‘azval’ key) and not changed here, then the json overrides these.
If changed here, then it overrides what you requested in the json.
default is 360.</p>
</dd>
<dt>nooverwrite<span class="classifier">boolean, optional</span></dt><dd><p>Use to overwrite lomb scargle result files or not.
Default is True (do not overwrite files).</p>
</dd>
<dt>extension<span class="classifier">string, optional</span></dt><dd><p>extension for result file, useful for testing strategies.
default is ‘’. (empty string)</p>
</dd>
<dt>compress<span class="classifier">boolean, optional</span></dt><dd><p>xz compress SNR files after use.
default is False.</p>
</dd>
<dt>screenstats<span class="classifier">boolean, optional</span></dt><dd><p>whether to print stats to the screen or not.
default is True.</p>
</dd>
<dt>delTmax<span class="classifier">integer, optional</span></dt><dd><p>satellite arc length in minutes.
default is None.</p>
</dd>
<dt>e1<span class="classifier">float, optional</span></dt><dd><p>use to override the minimum elevation angle.
default is None.</p>
</dd>
<dt>e2<span class="classifier">float, optional</span></dt><dd><p>use to override the maximum elevation angle.
default is None.</p>
</dd>
<dt>mmdd<span class="classifier">boolean, optional</span></dt><dd><p>adds columns in results for month, day, hour, and minute.
default is False.</p>
</dd>
<dt>gzip<span class="classifier">boolean, optional</span></dt><dd><p>gzip compress SNR files after use.
default is False.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gnssir_cl.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gnssir_cl.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gnssir_cl.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gnssir_cl.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gnssir_cl.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gnssir_cl.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.gnsssnr">
<span id="gnssrefl-gnsssnr-module"></span><h2>gnssrefl.gnsssnr module<a class="headerlink" href="#module-gnssrefl.gnsssnr" title="Permalink to this heading"></a></h2>
<p>This module ‘gnsssnr’ is auto-generated with f2py (version:1.23.3).
Functions:</p>
<blockquote>
<div><p>foo(rawf,outf,sp3file,snrtype,decfac,errf)
read_sp3_200sats(inputfile,gps_weeks,gps_seconds,nsat,satnames,xyz,haveorbit,ipointer,nepochs,reltime,errid)
newsat(constell,satnum,nsatnum)
fill_pointer(nsat,satid,satnames,haveorbit,ipointer)
rel_time(gps_week,gps_second,epochweek,epochsec,rt)
read_header_25obs(fileid,rawf,xrec,yrec,zrec,iobs,nobs,iymd,station,fid)
pick_9points(sp3_nsat,sp3_satnames,sp3_gps_weeks,sp3_gps_seconds,sp3_xyz,ichoice,gpsweek,gpstime,ihr,t9,x9,y9,z9,ipointer,nepochs,sp3_rel_seconds,reltime)
polint(xa,ya,x,y,dy,n=shape(xa, 0))
get_azel_sp3(tc,prn,stationxyz,east,north,up,azimuth,elev,t9,x9,y9,z9)
azel(azimuth,elev,staxyz,east,north,staup,satpos)
geoxyz2(alat,along,hght,x,y,z,iflag)
julday(itimes,stime,utc)
mjdgps(tjul,isec,nweek)
envtrans(xrec,yrec,zrec,stationxyz,lat,long_bn,height,north,east,up)
convert_time(itime,sec,msec,gpsweek,tc)
pickup_snr(obs,iobs,itrack,s1,s2,s5,s6,s7,s8)
read_block_gnss(fileid,flag,inline_bn,numsat,nobs,satid,prn,obs,lli)
write_gnss_to_file(outid,prn,tod,s1,s2,s5,az,elev,edot,prn_pick,s6,s7,s8,tod2)
checkfornonsense(s1,s2,s5,s6,s7,s8)</p>
</div></blockquote>
<p>.</p>
</section>
<section id="module-gnssrefl.gnsssnrbigger">
<span id="gnssrefl-gnsssnrbigger-module"></span><h2>gnssrefl.gnsssnrbigger module<a class="headerlink" href="#module-gnssrefl.gnsssnrbigger" title="Permalink to this heading"></a></h2>
<p>This module ‘gnsssnrbigger’ is auto-generated with f2py (version:1.23.3).
Functions:</p>
<blockquote>
<div><p>foo(rawf,outf,sp3file,snrtype,decfac,errf)
read_sp3_200sats(inputfile,gps_weeks,gps_seconds,nsat,satnames,xyz,haveorbit,ipointer,nepochs,reltime,errid)
newsat(constell,satnum,nsatnum)
fill_pointer(nsat,satid,satnames,haveorbit,ipointer)
rel_time(gps_week,gps_second,epochweek,epochsec,rt)
read_header_25obs(fileid,rawf,xrec,yrec,zrec,iobs,nobs,iymd,station,fid)
pick_9points(sp3_nsat,sp3_satnames,sp3_gps_weeks,sp3_gps_seconds,sp3_xyz,ichoice,gpsweek,gpstime,ihr,t9,x9,y9,z9,ipointer,nepochs,sp3_rel_seconds,reltime)
polint(xa,ya,x,y,dy,n=shape(xa, 0))
get_azel_sp3(tc,prn,stationxyz,east,north,up,azimuth,elev,t9,x9,y9,z9)
azel(azimuth,elev,staxyz,east,north,staup,satpos)
geoxyz2(alat,along,hght,x,y,z,iflag)
julday(itimes,stime,utc)
mjdgps(tjul,isec,nweek)
envtrans(xrec,yrec,zrec,stationxyz,lat,long_bn,height,north,east,up)
convert_time(itime,sec,msec,gpsweek,tc)
pickup_snr(obs,iobs,itrack,s1,s2,s5,s6,s7,s8)
read_block_gnss(fileid,flag,inline_bn,numsat,nobs,satid,prn,obs,lli)
write_gnss_to_file(outid,prn,tod,s1,s2,s5,az,elev,edot,prn_pick,s6,s7,s8,tod2)
checkfornonsense(s1,s2,s5,s6,s7,s8)</p>
</div></blockquote>
<p>.</p>
</section>
<section id="module-gnssrefl.gps">
<span id="gnssrefl-gps-module"></span><h2>gnssrefl.gps module<a class="headerlink" href="#module-gnssrefl.gps" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.LSPresult_name">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">LSPresult_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.LSPresult_name" title="Permalink to this definition"></a></dt>
<dd><p>given station name, year, doy, and extension
returns the location of the LSP result
also returns boolean if it already exists (so that
information can be used)
extension is now used</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.UNR_highrate">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">UNR_highrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.UNR_highrate" title="Permalink to this definition"></a></dt>
<dd><p>picks up the 5 minute time series from UNR website for a given station</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – 4 character station name</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>filename</strong> (<em>string</em>) – output filename</p></li>
<li><p><strong>goodDownload</strong> (<em>boolean</em>) – whether you were successful</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.arc_scaleF">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">arc_scaleF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">satNu</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.arc_scaleF" title="Permalink to this definition"></a></dt>
<dd><p>input a frequency and put out a scale factor cf which is wavelength*0.5</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.avoid_cddis">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">avoid_cddis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.avoid_cddis" title="Permalink to this definition"></a></dt>
<dd><p>work around for people that can’t use CDDIS ftps
this will get multi-GNSS files for GFZ from the IGN</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.azimuth_angle">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">azimuth_angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">RecSat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">East</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">North</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.azimuth_angle" title="Permalink to this definition"></a></dt>
<dd><p>computes azimuth angle</p>
<dl class="simple">
<dt>RecSat<span class="classifier">3-vector (numpy?)</span></dt><dd><p>meters</p>
</dd>
</dl>
<p>East :</p>
<p>North : 3-vector (numpy?)</p>
<p>inputs are receiver satellite vector (meters)
east and north unit vectors, computed with the up vector
:returns: <strong>azangle</strong> – azimuth angle in degrees
:rtype: float</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.back2thefuture">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">back2thefuture</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iyear</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idoy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.back2thefuture" title="Permalink to this definition"></a></dt>
<dd><p>user inputs iyear and idoy
and the code checks that this is not a day in the future
also don’t allow the dates to agree exactly because we
do not have the current day’s orbit file available (though
it could be chagned to allow it.</p>
<p>reject data before the year 2000</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.bfg_data">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">bfg_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fstation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samplerate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.bfg_data" title="Permalink to this definition"></a></dt>
<dd><p>Picks up a RINEX3 file from BFG network</p>
<dl class="simple">
<dt>fstation: string</dt><dd><p>4 char station ID</p>
</dd>
<dt>year: integer</dt><dd><p>year</p>
</dd>
<dt>doy: integer</dt><dd><p>day of year</p>
</dd>
<dt>samplerate: integer</dt><dd><p>sample rate of the receiver (default is 30)</p>
</dd>
<dt>debug: boolean</dt><dd><p>directory file listing provided if true
default is false</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.bfg_password">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">bfg_password</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.bfg_password" title="Permalink to this definition"></a></dt>
<dd><p>Picks up BFG userid and password that is stored in a pickle file
in your REFL_CODE/Files/passwords area
If it does not exist, it asks you to input the values and stores them for you.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>userid</strong> (<em>string</em>)</p></li>
<li><p><strong>password</strong> (<em>string</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.big_Disk_in_DC">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">big_Disk_in_DC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.big_Disk_in_DC" title="Permalink to this definition"></a></dt>
<dd><p>author: kristine larson
picks up a RINEX file from CORS.
changed it to pick up gzip o file instead of d file.  Not sure why they have
both but the d file appears to be 30 sec, and that I do not want
allow doy to be sent to code in the month spot.  set day to zero</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.big_Disk_in_DC_hourly">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">big_Disk_in_DC_hourly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idtag</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.big_Disk_in_DC_hourly" title="Permalink to this definition"></a></dt>
<dd><p>picks up a RINEX file from CORS. and gunzips it
# updated for new access protocol, 2021 aug 28
:param station:
:type station: string
:param year:
:type year: integer
:param month:
:type month: integer
:param day: day of the month. if zero, it means month is really day of year
:type day: integer
:param idtag: small case letter from a to x (i think)
:type idtag: character</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.big_Disk_work_hard">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">big_Disk_work_hard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.big_Disk_work_hard" title="Permalink to this definition"></a></dt>
<dd><p>attempts to pick up subdaily files from the NGS archive
creates a single RINEX file</p>
<p>parameters</p>
<dl class="simple">
<dt>station: string</dt><dd><p>4 character id station name</p>
</dd>
<dt>year: integer</dt><dd><p>year</p>
</dd>
<dt>month: integer</dt><dd><p>month</p>
</dd>
<dt>day: integer</dt><dd><p>day
if day is 0, then month is presumed to be the day of year</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.binary">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">binary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.binary" title="Permalink to this definition"></a></dt>
<dd><p>changes python string to bytes for use in
fortran code using f2py via numpy
input is a string, output is bytes with null at the end</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.cdate2nums">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">cdate2nums</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.cdate2nums" title="Permalink to this definition"></a></dt>
<dd><p>returns fractional year from ch date, e.g. 2012-02-15
if time is blank, return 3000</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.cddis_download">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">cddis_download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.cddis_download" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p><a class="reference external" href="https://cddis.nasa.gov/Data_and_Derived_Products/CDDIS_Archive_Access.html">https://cddis.nasa.gov/Data_and_Derived_Products/CDDIS_Archive_Access.html</a>
attempt to use more secure download protocol that is CDDIS compliant</p>
<p>input: filename and directory (without leading location)</p>
<p>this will replace using wget.download when CDDIS turns off anonymous ftp</p>
<p>was supposed to returns whether file was created but now it just returns true</p>
</div></blockquote>
<p>#   –no-check-certificate</p>
<blockquote>
<div><p>this is no longer used</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.cddis_download_2022">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">cddis_download_2022</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.cddis_download_2022" title="Permalink to this definition"></a></dt>
<dd><p><a class="reference external" href="https://cddis.nasa.gov/Data_and_Derived_Products/CDDIS_Archive_Access.html">https://cddis.nasa.gov/Data_and_Derived_Products/CDDIS_Archive_Access.html</a></p>
<p>this does not seem to work</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.cddis_download_2022B">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">cddis_download_2022B</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.cddis_download_2022B" title="Permalink to this definition"></a></dt>
<dd><p>rewrote because cddis_download was failing
parameter:</p>
<dl class="simple">
<dt>filename<span class="classifier">string</span></dt><dd><p>name of the rinex file or orbit file</p>
</dd>
<dt>directory<span class="classifier">string</span></dt><dd><p>where the file lives at CDDIS</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.char_month_converter">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">char_month_converter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">month</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.char_month_converter" title="Permalink to this definition"></a></dt>
<dd><p>integer month to 3 character month</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.check_environ_variables">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">check_environ_variables</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.check_environ_variables" title="Permalink to this definition"></a></dt>
<dd><p>This is my attempt to make the code useable by people
that have not set EXE, REFL_CODE, or ORBITS environment
variables.  If that is the case, these variables will be
set to .</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.check_inputs">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">check_inputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.check_inputs" title="Permalink to this definition"></a></dt>
<dd><p>inputs to Lomb Scargle and Rinex translation codes
are checked for sensibility. Returns true or false to
code can exit. Error messages sent to the screen
author: kristine m. larson
2019sep22</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.confused_obstimes">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">confused_obstimes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tvd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.confused_obstimes" title="Permalink to this definition"></a></dt>
<dd><p>takes lsp results - returns list of MJD values</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gnssrefl.gps.constants">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">constants</span></span><a class="headerlink" href="#gnssrefl.gps.constants" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.bei_L2">
<span class="sig-name descname"><span class="pre">bei_L2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1561.098</span></em><a class="headerlink" href="#gnssrefl.gps.constants.bei_L2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.bei_L5">
<span class="sig-name descname"><span class="pre">bei_L5</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1176.45</span></em><a class="headerlink" href="#gnssrefl.gps.constants.bei_L5" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.bei_L6">
<span class="sig-name descname"><span class="pre">bei_L6</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1268.52</span></em><a class="headerlink" href="#gnssrefl.gps.constants.bei_L6" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.bei_L7">
<span class="sig-name descname"><span class="pre">bei_L7</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1207.14</span></em><a class="headerlink" href="#gnssrefl.gps.constants.bei_L7" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.c">
<span class="sig-name descname"><span class="pre">c</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">299792458</span></em><a class="headerlink" href="#gnssrefl.gps.constants.c" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.fL1">
<span class="sig-name descname"><span class="pre">fL1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1575.42</span></em><a class="headerlink" href="#gnssrefl.gps.constants.fL1" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.fL2">
<span class="sig-name descname"><span class="pre">fL2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1227.6</span></em><a class="headerlink" href="#gnssrefl.gps.constants.fL2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.fL5">
<span class="sig-name descname"><span class="pre">fL5</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1176.45</span></em><a class="headerlink" href="#gnssrefl.gps.constants.fL5" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.gal_L1">
<span class="sig-name descname"><span class="pre">gal_L1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1575.42</span></em><a class="headerlink" href="#gnssrefl.gps.constants.gal_L1" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.gal_L5">
<span class="sig-name descname"><span class="pre">gal_L5</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1176.45</span></em><a class="headerlink" href="#gnssrefl.gps.constants.gal_L5" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.gal_L6">
<span class="sig-name descname"><span class="pre">gal_L6</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1278.7</span></em><a class="headerlink" href="#gnssrefl.gps.constants.gal_L6" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.gal_L7">
<span class="sig-name descname"><span class="pre">gal_L7</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1207.14</span></em><a class="headerlink" href="#gnssrefl.gps.constants.gal_L7" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.gal_L8">
<span class="sig-name descname"><span class="pre">gal_L8</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1191.795</span></em><a class="headerlink" href="#gnssrefl.gps.constants.gal_L8" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.mu">
<span class="sig-name descname"><span class="pre">mu</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">398600500000000.0</span></em><a class="headerlink" href="#gnssrefl.gps.constants.mu" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.omegaEarth">
<span class="sig-name descname"><span class="pre">omegaEarth</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">7.2921151467e-05</span></em><a class="headerlink" href="#gnssrefl.gps.constants.omegaEarth" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.wL1">
<span class="sig-name descname"><span class="pre">wL1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.19029367279836487</span></em><a class="headerlink" href="#gnssrefl.gps.constants.wL1" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.wL2">
<span class="sig-name descname"><span class="pre">wL2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.24421021342456825</span></em><a class="headerlink" href="#gnssrefl.gps.constants.wL2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.wL5">
<span class="sig-name descname"><span class="pre">wL5</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.25482804879085386</span></em><a class="headerlink" href="#gnssrefl.gps.constants.wL5" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.wbL2">
<span class="sig-name descname"><span class="pre">wbL2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.19203948631027648</span></em><a class="headerlink" href="#gnssrefl.gps.constants.wbL2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.wbL5">
<span class="sig-name descname"><span class="pre">wbL5</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.25482804879085386</span></em><a class="headerlink" href="#gnssrefl.gps.constants.wbL5" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.wbL6">
<span class="sig-name descname"><span class="pre">wbL6</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.2363324646044209</span></em><a class="headerlink" href="#gnssrefl.gps.constants.wbL6" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.wbL7">
<span class="sig-name descname"><span class="pre">wbL7</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.2483493695843067</span></em><a class="headerlink" href="#gnssrefl.gps.constants.wbL7" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.wgL1">
<span class="sig-name descname"><span class="pre">wgL1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.19029367279836487</span></em><a class="headerlink" href="#gnssrefl.gps.constants.wgL1" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.wgL5">
<span class="sig-name descname"><span class="pre">wgL5</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.25482804879085386</span></em><a class="headerlink" href="#gnssrefl.gps.constants.wgL5" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.wgL6">
<span class="sig-name descname"><span class="pre">wgL6</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.23445097208101978</span></em><a class="headerlink" href="#gnssrefl.gps.constants.wgL6" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.wgL7">
<span class="sig-name descname"><span class="pre">wgL7</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.2483493695843067</span></em><a class="headerlink" href="#gnssrefl.gps.constants.wgL7" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.constants.wgL8">
<span class="sig-name descname"><span class="pre">wgL8</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.251547000952345</span></em><a class="headerlink" href="#gnssrefl.gps.constants.wgL8" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.dec31">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">dec31</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.dec31" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<em>integer</em>) – year</p></li>
<li><p><strong>Returns</strong> – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – day of year for December 31</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.define_and_xz_snr">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">define_and_xz_snr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.define_and_xz_snr" title="Permalink to this definition"></a></dt>
<dd><p>finds and checks for existence of a SNR file
uncompresses if that is needed (xz or gz)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – station name, 4 characters</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – year</p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – day of year</p></li>
<li><p><strong>snr</strong> (<em>integer</em>) – kind of snr file (66,77, 88 etc)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>fname</strong> (<em>string</em>) – name of the SNR file</p></li>
<li><p><strong>fname2</strong> (<em>string</em>) – no longer used but kept for backwards capability</p></li>
<li><p><strong>snre</strong> (<em>boolean</em>) – whether the file exists or not</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.define_filename">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">define_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.define_filename" title="Permalink to this definition"></a></dt>
<dd><p>Return the SNR filename</p>
<dl class="simple">
<dt>station<span class="classifier">string</span></dt><dd><p>name  (4 char lowercase)</p>
</dd>
<dt>year<span class="classifier">integer</span></dt><dd><p>year</p>
</dd>
<dt>doy<span class="classifier">integer</span></dt><dd><p>day of year</p>
</dd>
<dt>snr<span class="classifier">integer</span></dt><dd><p>SNR file type (e.g. 99, 66)</p>
</dd>
</dl>
<dl class="simple">
<dt>fname<span class="classifier">string</span></dt><dd><p>snrfile name to be used</p>
</dd>
<dt>fname2<span class="classifier">string</span></dt><dd><p>snrfile name to be used - with xz compression extension</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.define_filename_prevday">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">define_filename_prevday</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.define_filename_prevday" title="Permalink to this definition"></a></dt>
<dd><p>finds filename for day before the input date</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – 4 character station name</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – year</p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – day of year</p></li>
<li><p><strong>snr</strong> (<em>integer</em>) – SNR file type (66,88, etc)</p></li>
<li><p><strong>Returns</strong> – </p></li>
<li><p><strong>---------------</strong> – </p></li>
<li><p><strong>day</strong> (<em>returns snr filename for the PREVIOUS</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.define_quick_filename">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">define_quick_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.define_quick_filename" title="Permalink to this definition"></a></dt>
<dd><p>given station name, year, doy, snr type
returns snr filename but without default directory structure
19mar25: return compressed filename too</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.diffraction_correction">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">diffraction_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">el_deg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">press</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1013.25</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.diffraction_correction" title="Permalink to this definition"></a></dt>
<dd><p>Computes and return the elevation correction for refraction in the atmosphere.</p>
<p>Computes and return the elevation correction for refraction in the atmosphere such that the elevation of the
satellite plus the correction is the observed angle of incidence.</p>
<p>Based on an empirical model by G.G. Bennet.
This code was provided by Chalmers Group, Joakim Strandberg and Thomas Hobiger</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>el_deg</strong> (<em>array_like</em>) – A vector of true satellite elevations in degrees for which the correction is calculated.</p></li>
<li><p><strong>temp</strong> (<em>float</em><em>, </em><em>optional</em>) – Air temperature at ground level in degrees celsius, default 20 C.</p></li>
<li><p><strong>press</strong> (<em>float</em><em>, </em><em>optional</em>) – Air pressure at ground level in hPa, default 1013.25 hPa.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>corr_el_deg</strong> (<em>1d-array</em>) – The elevation correction in degrees.</p></li>
<li><p><em>References</em></p></li>
<li><p><em>———-</em> – Bennett, G. G. ‘The calculation of astronomical refraction in marine navigation.’
Journal of Navigation 35.02 (1982): 255-259.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.doy2ymd">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">doy2ymd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.doy2ymd" title="Permalink to this definition"></a></dt>
<dd><p>inputs: year and day of year (doy)
returns: some kind of datetime construct which can be used to get MM and DD</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.elev_angle">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">elev_angle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">up</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RecSat</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.elev_angle" title="Permalink to this definition"></a></dt>
<dd><p>computes satellite elevation angle</p>
<dl class="simple">
<dt>up<span class="classifier">3 vector float</span></dt><dd><p>unit vector in the up direction</p>
</dd>
<dt>RecSat<span class="classifier">3 vector numpy</span></dt><dd><p>Cartesian vector pointing from receiver to satellite in meters</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>angle</strong> – elevation angle in radians</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.fdoy2mjd">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">fdoy2mjd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fdoy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.fdoy2mjd" title="Permalink to this definition"></a></dt>
<dd><p>input year and fractional doy??
returns MJD - maybe?</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.findConstell">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">findConstell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cc</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.findConstell" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>cc<span class="classifier">string  is one character (from rinex satellite line)</span></dt><dd><p>constellation definition
G : GPS
R : Glonass
E : Galileo
C : Beidou</p>
</dd>
<dt>out<span class="classifier">integer</span></dt><dd><p>value added to satellite number for our system,
0 for GPS, 100 for Glonass, 200 for Galileo, 300 for everything else</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.find_satlist">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">find_satlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrExist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.find_satlist" title="Permalink to this definition"></a></dt>
<dd><p>inputs: frequency and boolean numpy array that tells you
if a signal is (potentially) legal
outputs: list of satellites to use</p>
<p>you should now use find_satlist_wdate</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.find_satlist_wdate">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">find_satlist_wdate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrExist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.find_satlist_wdate" title="Permalink to this definition"></a></dt>
<dd><p>inputs: frequency and boolean numpy array that tells you
if a signal is (potentially) legal
outputs: list of satellites to use</p>
<p>now includes date informaiton so that accurate lists of l2c and l5
transmitting satellites are reasonable (previously it was a full list for
current day, that may or may not be correct in the past)
june 24, 2021: updated for SVN78</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.freq_out">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">freq_out</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ofac</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hifac</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.freq_out" title="Permalink to this definition"></a></dt>
<dd><p>inputs: x
ofac: oversamping factor
hifac
outputs: two sets of frequencies arrays</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.ftitle">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">ftitle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.ftitle" title="Permalink to this definition"></a></dt>
<dd><p>frequency title for plots
:param freq:
:type freq: integer
:param returns:
:param ———–:
:param returnf: nice string for the constellation/frequency for the title of a plot
:type returnf: string</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.ga_highrate">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">ga_highrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deleteOld</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.ga_highrate" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station9</strong> (<em>string</em>) – nine character station name appropriate for rinex 3</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – day of year</p></li>
<li><p><strong>dec</strong> (<em>integer</em>) – decimation value.  1 or 0 means no decimation</p></li>
<li><p><strong>deleteOld</strong> (<em>boolean</em>) – delete old rinex 3 files</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>rinex2</strong> (<em>string</em>) – rinex2 filename created by merging 96 files!</p></li>
<li><p><strong>fexist</strong> (<em>boolean</em>) – whether a rinex2 file was successfully created</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.getMJD">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">getMJD</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fract_hour</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.getMJD" title="Permalink to this definition"></a></dt>
<dd><p>inputs are year, month, day and fractional hour
return is modified julian day (real8)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.get_cddis_navfile">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">get_cddis_navfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">navfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cyyyy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cyy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cdoy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.get_cddis_navfile" title="Permalink to this definition"></a></dt>
<dd><p>tries to download navigation file from CDDIS</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>navfile</strong> (<em>string</em>) – name of GPS broadcast orbit file</p></li>
<li><p><strong>cyyyy</strong> (<em>string</em>) – 4 char year</p></li>
<li><p><strong>cyy</strong> (<em>string</em>) – 2 char year</p></li>
<li><p><strong>cdoy</strong> (<em>string</em>) – 3 char day of year</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>navfile</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.get_cddis_navfile_test">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">get_cddis_navfile_test</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">navfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cyyyy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cyy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cdoy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.get_cddis_navfile_test" title="Permalink to this definition"></a></dt>
<dd><p>kristine larson
inputs navfile name with character string verisons of year, 2ch year and doy
tries to download from CDDIS archive</p>
<p>20jun11, implemented new CDDIS security requirements
21jan06, gz instead of Z
try to get galileo nav files</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.get_noaa_obstimes">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">get_noaa_obstimes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.get_noaa_obstimes" title="Permalink to this definition"></a></dt>
<dd><p>send a noaa file variable. returns datetime obstimes in a list.
i guess one could learn how to use pandas … nah</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.get_noaa_obstimes_plus">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">get_noaa_obstimes_plus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.get_noaa_obstimes_plus" title="Permalink to this definition"></a></dt>
<dd><p>send a noaa file variable. returns obstimes.
updated 2022June11
and relative gps time (in seconds)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.get_obstimes">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">get_obstimes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tvd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.get_obstimes" title="Permalink to this definition"></a></dt>
<dd><p>send a LSP results, so the variable created when you read
in the results file.  return obstimes for plotting
author: kristine larson</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.get_obstimes_plus">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">get_obstimes_plus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tvd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.get_obstimes_plus" title="Permalink to this definition"></a></dt>
<dd><p>send a LSP results file, so the variable created when you read
in the results file.  return obstimes for matplotlib plotting purposes
2022jun10 - added MJD output
author: kristine larson</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.get_ofac_hifac">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">get_ofac_hifac</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elevAngles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxH</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desiredPrec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.get_ofac_hifac" title="Permalink to this definition"></a></dt>
<dd><p>computes two factors - ofac and hifac - that are inputs to the
Lomb-Scargle Periodogram code.
We follow the terminology and discussion from Press et al. (1992)
in their LSP algorithm description.</p>
<p>INPUT
elevAngles:  vector of satellite elevation angles in degrees
cf:(L-band wavelength/2 ) in meters
maxH:maximum LSP grid frequency in meters
desiredPrec:  the LSP frequency grid spacing in meters
i.e. how precise you want he LSP reflector height to be estimated
OUTPUT
ofac: oversampling factor
hifac: high-frequency factor</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.get_orbits_setexe">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">get_orbits_setexe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orbtype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fortran</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.get_orbits_setexe" title="Permalink to this definition"></a></dt>
<dd><p>picks up and stores orbits as needed
also sets executable location (gpsonly vs gnss)
:param year:
:type year: integer
:param month:
:type month: integer
:param day:
:type day: integer
:param orbtype: orbit source, e.g. nav, gps…
:type orbtype: string
:param fortran: whether you are using forran code for translation
:type fortran: boolean</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>foundit</strong> (<em>boolean</em>) – whether orbit file was found</p></li>
<li><p><strong>f</strong> (<em>string</em>) – name of the orbit file</p></li>
<li><p><strong>orbdir</strong> (<em>string</em>) – location of the orbit file</p></li>
<li><p><strong>snrexe</strong> (<em>string</em>) – location of SNR executable. only relevant for fortran users</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.get_sopac_navfile">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">get_sopac_navfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">navfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cyyyy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cyy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cdoy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.get_sopac_navfile" title="Permalink to this definition"></a></dt>
<dd><p>downloads navigation file from SOPAC</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>navfile</strong> (<em>string</em><em> (</em><em>which was sent</em><em>)</em>) – name of GPS broadcast orbit file</p></li>
<li><p><strong>cyyyy</strong> (<em>string</em>) – 4 char year</p></li>
<li><p><strong>cyy</strong> (<em>string</em>) – 2 char year</p></li>
<li><p><strong>cdoy</strong> (<em>string</em>) – 3 char day of year</p></li>
<li><p><strong>returns</strong> – </p></li>
<li><p><strong>---------</strong> – </p></li>
<li><p><strong>navfile</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.getnavfile">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">getnavfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.getnavfile" title="Permalink to this definition"></a></dt>
<dd><p>picks up nav file
and stores it in the ORBITS directory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>month</strong> (<em>integer</em>) – if day is zero, the month value is really the day of year</p></li>
<li><p><strong>day</strong> (<em>integer</em>) – day</p></li>
<li><p><strong>returns</strong> – </p></li>
<li><p><strong>----------</strong> – </p></li>
<li><p><strong>navname</strong> (<em>string</em>) – name of navigation file</p></li>
<li><p><strong>navdir</strong> (<em>string</em>) – location of where the file should be stored</p></li>
<li><p><strong>foundit</strong> (<em>boolean</em>) – whether the file was found</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.getseries">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">getseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">site</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.getseries" title="Permalink to this definition"></a></dt>
<dd><p>originally from brendan crowell.
picks up two UNR time series - stores in subdirectory called tseries
input is station name (four character, lower case)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.getsp3file">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">getsp3file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.getsp3file" title="Permalink to this definition"></a></dt>
<dd><p>retrieves IGS sp3 precise orbit file from CDDIS
inputs are year, month, and day
modified in 2019 to use wget
returns the name of the file and its directory</p>
<p>year : integer</p>
<p>month : integer</p>
<p>day : integer</p>
<p>20jun14 - add CDDIS secure ftp</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>name</strong> (<em>string</em>) – filename for the orbits</p></li>
<li><p><strong>fdir</strong> (<em>string</em>) – directory for the orbits</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.getsp3file_flex">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">getsp3file_flex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pCtr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.getsp3file_flex" title="Permalink to this definition"></a></dt>
<dd><p>returns the name of the orbit file and its directory from CDDIS
only gets the old-style filenames</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>month</strong> (<em>integer</em>) – </p></li>
<li><p><strong>day</strong> (<em>integer</em>) – </p></li>
<li><p><strong>pCtr</strong> (<em>string</em>) – 3 character orbit processing center</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>name</strong> (<em>string</em>) – filename for the orbits</p></li>
<li><p><strong>fdir</strong> (<em>string</em>) – directory for the orbits</p></li>
<li><p><strong>fexist</strong> (<em>boolean</em>) – whether the orbit file was successfully found</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.getsp3file_mgex">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">getsp3file_mgex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pCtr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.getsp3file_mgex" title="Permalink to this definition"></a></dt>
<dd><p>retrieves MGEX sp3 orbit files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>month</strong> (<em>integer</em>) – </p></li>
<li><p><strong>day</strong> (<em>integer</em>) – </p></li>
<li><p><strong>pCtr</strong> (<em>string</em>) – name of the orbit center</p></li>
<li><p><strong>code</strong> (<em>this is spaghetti</em>) – </p></li>
<li><p><strong>apologize</strong> (<em>i</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.gfz_version">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">gfz_version</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.gfz_version" title="Permalink to this definition"></a></dt>
<dd><p>return string with location of gfzrnx executable</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.glonass_channels">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">glonass_channels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.glonass_channels" title="Permalink to this definition"></a></dt>
<dd><p>inputs frequency and prn number
returns wavelength for glonass satellite in meters
logic from Simon Williams, matlab
converted to function by KL, 2017 November
converted to python by KL 2018 September</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.gnssSNR_version">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">gnssSNR_version</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.gnssSNR_version" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>gpse</strong> – location of gnssSNR executable</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.gpsSNR_version">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">gpsSNR_version</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.gpsSNR_version" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>gpse</strong> – location of gpsSNR executable</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.hatanaka_version">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">hatanaka_version</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.hatanaka_version" title="Permalink to this definition"></a></dt>
<dd><p>return string with location of hatanaka executable</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.hatanaka_warning">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">hatanaka_warning</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.hatanaka_warning" title="Permalink to this definition"></a></dt>
<dd><p>return warning about missing Hatanaka executable</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.highrate_nz">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">highrate_nz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.highrate_nz" title="Permalink to this definition"></a></dt>
<dd><p>author: kristine larson
inputs: station name, year, month, day
picks up a RINEX file from GNS New zealand
you can input day =0 and it will assume month is day of year
you can also try this site - not coded up yet, but I think
the data stay there for a couple months for some sites.
<a class="reference external" href="ftp://ftp.geonet.org.nz/rtgps/rinex1Hz/PositioNZ/2021/062/">ftp://ftp.geonet.org.nz/rtgps/rinex1Hz/PositioNZ/2021/062/</a>
21sep02 - started to change from ftp to https - but did not finish</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.ign_orbits">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">ign_orbits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.ign_orbits" title="Permalink to this definition"></a></dt>
<dd><p>inputs are filename of MGEX sp3 and directory at IGN</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.ign_rinex3">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">ign_rinex3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station9ch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.ign_rinex3" title="Permalink to this definition"></a></dt>
<dd><p>download rinex 3 from IGN
inputs: 9 character station name, year, day of year and srate
is sample rate in seconds
note: this code works - but it does not turn it into RINEX 2 for you</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.igsname">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">igsname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.igsname" title="Permalink to this definition"></a></dt>
<dd><p>returns the name of an IGS orbit file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>month</strong> (<em>integer</em>) – </p></li>
<li><p><strong>day</strong> (<em>integer</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>name</strong> (<em>string</em>) – IGS orbit name</p></li>
<li><p><strong>clockname</strong> (<em>string</em>) – COD clockname</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.inout">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">inout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c3gz</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.inout" title="Permalink to this definition"></a></dt>
<dd><p>Takes a Hatanaka rinex3 file that has been gzipped
gunzips it and decompresses it</p>
<dl class="simple">
<dt>c3gz<span class="classifier">string</span></dt><dd><p>name of a gzipped hatanaka compressed RINEX 3 filename</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>translated</strong> (<em>boolean</em>) – whether file was successfully translated or not</p></li>
<li><p><strong>rnx</strong> (<em>string</em>) – filename of the uncompressed and de-Hatanaka’ed RINEX file</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.kgpsweek">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">kgpsweek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hour</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minute</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">second</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.kgpsweek" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>string</em>) – 4 char</p></li>
<li><p><strong>month</strong> (<em>string</em>) – 2 char</p></li>
<li><p><strong>day</strong> (<em>string</em>) – 2 char</p></li>
<li><p><strong>hour</strong> (<em>string</em>) – 2 char</p></li>
<li><p><strong>minute</strong> (<em>string</em>) – 2 char</p></li>
<li><p><strong>second</strong> (<em>integer?</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>GPS_wk</strong> (<em>integer</em>) – GPS week</p></li>
<li><p><strong>GPS_sec_wk</strong> (<em>intger</em>) – GPS second of the week</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.kgpsweekC">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">kgpsweekC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.kgpsweekC" title="Permalink to this definition"></a></dt>
<dd><p>takes in time tag from a RINEX file and converts to gps week/sec
so the input is a character string of length 26.  in this
kind of string, the year is only two characters</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>gpsw</strong> (<em>integer</em>) – GPS week</p></li>
<li><p><strong>gpss</strong> (<em>integer</em>) – GPS seconds</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.l2c_l5_list">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">l2c_l5_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.l2c_l5_list" title="Permalink to this definition"></a></dt>
<dd><p>for given year and day of year, returns a satellite list of
L2C and L5 transmitting satellites</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>launch</em>) – year</p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – day of year</p></li>
<li><p><strong>array</strong> (<em>to update this numpy</em>) – </p></li>
<li><p><strong>number</strong> (<em>the data are stored in a simple triple of PRN</em>) – </p></li>
<li><p><strong>year</strong> – </p></li>
</ul>
</dd>
</dl>
<p>:param :
:param and launch date.:
:param date:
:type date: march 27, 2021
:param june 24:
:type june 24: updated for SVN78
:param 2021:
:type 2021: updated for SVN78</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.llh2xyz">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">llh2xyz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.llh2xyz" title="Permalink to this definition"></a></dt>
<dd><p>inputs lat,lon (in degrees) and ellipsoidal height (in meters)
returns Cartesian values in meters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lat</strong> (<em>float</em>) – latitude in degrees</p></li>
<li><p><strong>lon</strong> (<em>float</em>) – longitude in degrees</p></li>
<li><p><strong>height</strong> (<em>float</em>) – ellipsoidal height in meters</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>)</p></li>
<li><p><strong>y</strong> (<em>float</em>)</p></li>
<li><p><strong>z</strong> (<em>float</em>)</p></li>
<li><p><strong>Ref</strong> (<em>Decker, B. L., World Geodetic System 1984,</em>)</p></li>
<li><p><em>Defense Mapping Agency Aerospace Center.</em></p></li>
<li><p><em>modified from matlab version kindly provided by CCAR</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.make_nav_dirs">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">make_nav_dirs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">yyyy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.make_nav_dirs" title="Permalink to this definition"></a></dt>
<dd><p>input year and it makes sure output directories are created for orbits</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.make_snrdir">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">make_snrdir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.make_snrdir" title="Permalink to this definition"></a></dt>
<dd><p>given a year and station name, it makes various directories needed
for SNR file/analysis outputs</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.mjd">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">mjd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hour</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minute</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">second</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.mjd" title="Permalink to this definition"></a></dt>
<dd><p>inputs: year, month, day, hour, minute,second
output: modified julian day
using information from <a class="reference external" href="http://infohost.nmt.edu/~shipman/soft/sidereal/ims/web/MJD-fromDatetime.html">http://infohost.nmt.edu/~shipman/soft/sidereal/ims/web/MJD-fromDatetime.html</a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.mjd_to_date">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">mjd_to_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.mjd_to_date" title="Permalink to this definition"></a></dt>
<dd><p># KL converted from this reference
# <a class="reference external" href="https://gist.github.com/jiffyclub/1294443">https://gist.github.com/jiffyclub/1294443</a></p>
<blockquote>
<div><p>Converts Modified Julian Day to y,m,d</p>
<dl class="simple">
<dt>Algorithm from ‘Practical Astronomy with your Calculator or Spreadsheet’,</dt><dd><p>4th ed., Duffet-Smith and Zwart, 2011.</p>
</dd>
</dl>
<dl class="simple">
<dt>jd<span class="classifier">float</span></dt><dd><p>Julian Day</p>
</dd>
</dl>
<dl class="simple">
<dt>year<span class="classifier">int</span></dt><dd><p>Year as integer. Years preceding 1 A.D. should be 0 or negative.
The year before 1 A.D. is 0, 10 B.C. is year -9.</p>
</dd>
<dt>month<span class="classifier">int</span></dt><dd><p>Month as integer, Jan = 1, Feb. = 2, etc.</p>
</dd>
<dt>day<span class="classifier">float</span></dt><dd><p>Day, may contain fractional part.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.month_converter">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">month_converter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">month</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.month_converter" title="Permalink to this definition"></a></dt>
<dd><p>brendan gave this to me - give it a 3 char month, returns integer</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.myfavoritegpsobs">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">myfavoritegpsobs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.myfavoritegpsobs" title="Permalink to this definition"></a></dt>
<dd><p>returns list of SNR obs needed for gfzrnx.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.myfavoriteobs">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">myfavoriteobs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.myfavoriteobs" title="Permalink to this definition"></a></dt>
<dd><p>returns list of SNR obs needed for gfzrnx.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.myfindephem">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">myfindephem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">week</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sweek</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ephem</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.myfindephem" title="Permalink to this definition"></a></dt>
<dd><p># inputs are gps week, seconds of week
# ephemerides and PRN number
# returns the closest ephemeris block after the epoch
# if one does not exist, returns the first one</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.myreadnav">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">myreadnav</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.myreadnav" title="Permalink to this definition"></a></dt>
<dd><p>input is navfile name
output is complicated - broadcast ephemeris blocks</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.myscan">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">myscan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rinexfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.myscan" title="Permalink to this definition"></a></dt>
<dd><p>stripping the header code came from pyrinex.
data are stored into a variable called table
columns 0,1,2 are PRN, GPS week, GPS seconds, and observables
rows are the different observations. these should be stored
properly - this is a kluge</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.nav_name">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">nav_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.nav_name" title="Permalink to this definition"></a></dt>
<dd><p>returns the name and location of the navigation file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>month</strong> (<em>integer</em>) – </p></li>
<li><p><strong>day</strong> (<em>integer</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>navfilename</strong> (<em>string</em>) – name of the navigation file</p></li>
<li><p><strong>navfiledir</strong> (<em>string</em>) – local directory where navigation file will be stored</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.navfile_retrieve">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">navfile_retrieve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">navfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cyyyy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cyy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cdoy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.navfile_retrieve" title="Permalink to this definition"></a></dt>
<dd><p>retrieves navfile from either SOPAC or CDDIS</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>navfile</strong> (<em>string</em>) – name of the broadcast orbit file</p></li>
<li><p><strong>cyyyy</strong> (<em>string</em>) – 4 character yaer</p></li>
<li><p><strong>cyy</strong> (<em>string</em>) – 2 character year</p></li>
<li><p><strong>cdoy</strong> (<em>string</em>) – 3 character day of year</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>FileExists</strong> – whether the file was found</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.new_big_Disk_in_DC">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">new_big_Disk_in_DC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.new_big_Disk_in_DC" title="Permalink to this definition"></a></dt>
<dd><p>21aug28 uses https instead of ftp</p>
<p>picks up gzip o file
removed Z option and now only use gz with d file</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.new_rinex3_rinex2">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">new_rinex3_rinex2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r3_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r2_filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpsonly</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.new_rinex3_rinex2" title="Permalink to this definition"></a></dt>
<dd><p>assuming gfzrnx executable exists, the rinex 3 file is hatanaka
uncompressed and translated into a rinex 2 file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>r3_filename</strong> (<em>string</em>) – rinex 3 format filename. either Hatanaka compressed or uncompressed allowed</p></li>
<li><p><strong>r2_filename</strong> (<em>string</em>) – rinex 2.11 file</p></li>
<li><p><strong>dec</strong> (<em>integer</em>) – decimation factor. default is 0 or 1 which means none</p></li>
<li><p><strong>gpsonly</strong> (<em>boolean</em>) – whether you want only GPS signals. Default is false</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fexists</strong> – whether rinex 2 file was created and exists</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.nextdoy">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">nextdoy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.nextdoy" title="Permalink to this definition"></a></dt>
<dd><p>given a year/doy returns the subsequent year/doy</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>nyear</strong> (<em>integer</em>) – next year</p></li>
<li><p><strong>ndoy</strong> (<em>integer</em>) – next day of year</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.nicerTime">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">nicerTime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">UTCtime</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.nicerTime" title="Permalink to this definition"></a></dt>
<dd><p>input float hour
output HH:MM string
2021 may 3, changed to deal with hour boundaries
since thsi only does hours and minutes, it rounds up or down
depending on seconds &lt; or &gt; 30
fails near midnite …</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.norm">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">norm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vect</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.norm" title="Permalink to this definition"></a></dt>
<dd><p>given a three vector - return its norm</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.open_outputfile">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">open_outputfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.open_outputfile" title="Permalink to this definition"></a></dt>
<dd><p>inputs: station name, year, doy, and station name
opens output file in REFL_CODE/year/results/station directory
return fileID
if the results directory does not exist, it tries to make it. i think
june 2019, added snrending to output name
july 2020, no longer open frej file</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.open_plot">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">open_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plt_screen</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.open_plot" title="Permalink to this definition"></a></dt>
<dd><p>simple code to open a figure, called by gnssIR_lomb</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.orbfile_cddis">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">orbfile_cddis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secure_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secure_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.orbfile_cddis" title="Permalink to this definition"></a></dt>
<dd><p>tries to download a file from a directory at CDDIS
file2 is like this: <a href="#id1"><span class="problematic" id="id2">GFZ0MGXRAP_</span></a>’ + cyyyy + cdoy + ‘0000_01D_05M_ORB.SP3.gz
it then stores it the year directory (with a given name)</p>
<dl class="simple">
<dt>name<span class="classifier">string</span></dt><dd><p>the name of the orbit file you want to download from CDDIS</p>
</dd>
</dl>
<p>year : integer</p>
<dl class="simple">
<dt>secure_file<span class="classifier">string</span></dt><dd><p>name of the file at CDDIS</p>
</dd>
<dt>secure_dir<span class="classifier">string</span></dt><dd><p>where the file lives at CDDIS</p>
</dd>
<dt>file2<span class="classifier">string</span></dt><dd><p>name without the compression???</p>
</dd>
</dl>
<p>Returns:</p>
<dl class="simple">
<dt>foundit<span class="classifier">boolean</span></dt><dd><p>whether the file was found</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.prevdoy">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">prevdoy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.prevdoy" title="Permalink to this definition"></a></dt>
<dd><p>given year and doy, return previous year and doy
:param year:
:type year: integer
:param doy:
:type doy: integer</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>pyear</strong> (<em>integer</em>) – previous year</p></li>
<li><p><strong>pdoy</strong> (<em>integer</em>) – previous day of year</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.print_file_stats">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">print_file_stats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ele</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.print_file_stats" title="Permalink to this definition"></a></dt>
<dd><p>inputs</p>
<p>ele</p>
<p>sat</p>
<p>s1</p>
<p>s2</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.propagate">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">propagate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">week</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sec_of_week</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ephem</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.propagate" title="Permalink to this definition"></a></dt>
<dd><p>inputs are GPS week, seconds of the week, and the appropriate
ephemeris block from the navigation message
returns the x,y,z, coordinates of the satellite
and relativity correction (also in meters), so you add,
not subtract</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.queryUNR">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">queryUNR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.queryUNR" title="Permalink to this definition"></a></dt>
<dd><p>use UNR database to get a priori lat/long in degrees
and ellipsoidal height (meters)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.queryUNR_modern">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">queryUNR_modern</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.queryUNR_modern" title="Permalink to this definition"></a></dt>
<dd><p>queries the UNR database that has been stored in sql</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – 4 character station name</p></li>
<li><p><strong>returns</strong> – </p></li>
<li><p><strong>lat</strong> (<em>float</em>) – latitude in degrees</p></li>
<li><p><strong>lon</strong> (<em>float</em>) – longitude in degrees</p></li>
<li><p><strong>ht</strong> (<em>float</em>) – ellipsoidal ht in meters</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.quick_plot">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">quick_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plt_screen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pltname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.quick_plot" title="Permalink to this definition"></a></dt>
<dd><p>inputs plt_screen variable (1 means go ahead) and integer variable gj
which if &gt; 0 there is something to plot
also station name for the title
pltname is png filename, if requested</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.rapid_gfz_orbits">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">rapid_gfz_orbits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.rapid_gfz_orbits" title="Permalink to this definition"></a></dt>
<dd><p>input year, month, day OR
year, doy, 0
downloads rapid GFZ sp3 file and stores in $ORBITS
november 5, 2021 fixed their ftp address</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.read_files">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">read_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.read_files" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.read_simon_williams">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">read_simon_williams</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfilename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.read_simon_williams" title="Permalink to this definition"></a></dt>
<dd><p>input: filename of GNSS based water level measurements from
the archived at PSMSL created by Simon Williams</p>
<p>return lists of datetime obstimes, MJD, and mod-water-level in meters
2022 july 4
also returns PRN, frequency, and azimuth numpy arrays</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.read_sp3">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">read_sp3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.read_sp3" title="Permalink to this definition"></a></dt>
<dd><p>borrowed from Ryan Hardy, who got it from David Wiese …</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.read_sp3file">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">read_sp3file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.read_sp3file" title="Permalink to this definition"></a></dt>
<dd><p>input: file_path is the sp3file name</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>sp3</strong> (<em>ndarray</em>)</p></li>
<li><p><em>colums are satnum, gpsweek, gps_sow, x,y,z</em></p></li>
<li><p><em>x,y,z are in meters</em></p></li>
<li><p><em>satnum has 0, 100, 200, 300 added for gps, glonass, galileo,beidou,</em></p></li>
<li><p><em>respectively.  all other satellites are ignored</em></p></li>
<li><p><strong>author</strong> (<em>kristine larson</em>)</p></li>
<li><p><em>some of this code came from joakim</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.removeDC">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">removeDC</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">satNu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ele</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pele</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">az1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">az2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seconds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.removeDC" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>#   remove direct signal using given elevation angle (pele) and azimuth</dt><dd><p>(az1,az2) constraints, return x,y as primary used data and windowed
azimuth, time, and edot</p>
</dd>
</dl>
<p>#   removed zero points, which 10^0 have value 1.  used 5 to be sure?</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.result_directories">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">result_directories</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.result_directories" title="Permalink to this definition"></a></dt>
<dd><p>inputs station, year, and extension
makes output directories for results</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.rewrite_UNR_highrate">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">rewrite_UNR_highrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.rewrite_UNR_highrate" title="Permalink to this definition"></a></dt>
<dd><p>takes a filename from was already retrieved? from
UNReno, reads it, rewrites as all numbers for other uses.
no header, but year, month, day, day of year, seconds vertical, east, north
the latter three are in meters
stores in $REFL_CODE/yyyy/pos/station
author: kristine larson</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.rewrite_tseries">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">rewrite_tseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.rewrite_tseries" title="Permalink to this definition"></a></dt>
<dd><p>given a station name, look at a daily blewitt position (ENV)
file and write a new file that is more human friendly</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>station</strong> (<em>string</em>) – 4 character station name</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.rewrite_tseries_igs">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">rewrite_tseries_igs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.rewrite_tseries_igs" title="Permalink to this definition"></a></dt>
<dd><p>given a station name, look at a daily blewitt position (ENV)
file and write a new file that is less insane to understand</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.rewrite_tseries_wrapids">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">rewrite_tseries_wrapids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.rewrite_tseries_wrapids" title="Permalink to this definition"></a></dt>
<dd><p>given a station name, look at a daily blewitt position (ENV)
file and write a new file that is less insane to understand</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.rinex3_nav">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">rinex3_nav</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.rinex3_nav" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.rinex_ga_highrate">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">rinex_ga_highrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.rinex_ga_highrate" title="Permalink to this definition"></a></dt>
<dd><p>no longer supported</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – 4 character station ID, lowercase</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>month</strong> (<em>integer</em>) – </p></li>
<li><p><strong>day</strong> (<em>integer</em>) – </p></li>
</ul>
</dd>
</dl>
<p>inputs: station name, year, month, day
picks up a higrate RINEX file from Geoscience Australia
you can input day =0 and it will assume month is day of year
not sure if it merges them …
2020 September 2 - moved to gz and new ftp site
??? does not appear to have Rinex 2 files anymore ???
??? goes they switched in 2020 …. ???</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.rinex_ga_highrate_rinex3">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">rinex_ga_highrate_rinex3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station9ch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.rinex_ga_highrate_rinex3" title="Permalink to this definition"></a></dt>
<dd><p>author: kristine larson
inputs: station name, year, month, day</p>
<p>year : integer</p>
<p>doy : integer</p>
<p>stream : string
picks up a higrate RINEX file from Geoscience Australia
you can input day =0 and it will assume month is day of year
not sure if it merges them …
2020 September 2 - moved to gz and new ftp site
??? does not appear to have Rinex 2 files anymore ???
??? goes they switched in 2020 …. ???</p>
<p>Remote working directory: /rinex/highrate/2021/002</p>
<p><a class="reference external" href="ftp://ftp.data.gnss.ga.gov.au/highrate/2021/002/13/YULA00AUS_S_20210021300_15M_01S_MO.crx.gz">ftp://ftp.data.gnss.ga.gov.au/highrate/2021/002/13/YULA00AUS_S_20210021300_15M_01S_MO.crx.gz</a>”</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.rinex_jp">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">rinex_jp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.rinex_jp" title="Permalink to this definition"></a></dt>
<dd><p>author: Naoya Kadota
2021oct25
Picks up RINEX file from Japanese GSI GeoNet archive
URL : <a class="reference external" href="https://www.gsi.go.jp/ENGLISH/index.html">https://www.gsi.go.jp/ENGLISH/index.html</a></p>
<p>station : string</p>
<p>year : integer</p>
<p>month: integer</p>
<p>day : integer</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.rinex_name">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">rinex_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.rinex_name" title="Permalink to this definition"></a></dt>
<dd><p>given station (4 char), year, month, day, return rinexfile name
and the hatanaka equivalent</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.rinex_nrcan_highrate">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">rinex_nrcan_highrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.rinex_nrcan_highrate" title="Permalink to this definition"></a></dt>
<dd><p>picks up 1-Hz RINEX 2.11 files from NRCAN
requires gfzrnx or teqc</p>
<p>parameters</p>
<dl class="simple">
<dt>station: string</dt><dd><p>4 character station name</p>
</dd>
<dt>year: integer</dt><dd><p>year</p>
</dd>
<dt>month: integer</dt><dd><p>month or day of year if day is set to zero</p>
</dd>
<dt>day: integer</dt><dd><p>day</p>
</dd>
</dl>
<p>if day is 0, assume month slot is doy</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.rinex_sopac">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">rinex_sopac</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.rinex_sopac" title="Permalink to this definition"></a></dt>
<dd><p>picks up a hatanaka RINEX file from SOPAC - converts to o
can also be called as station, year, doy, 0</p>
<dl class="simple">
<dt>station<span class="classifier">string</span></dt><dd><p>4 char station name</p>
</dd>
</dl>
<p>year : integer</p>
<p>month : integer</p>
<p>day : integer</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.rinex_unavco">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">rinex_unavco</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.rinex_unavco" title="Permalink to this definition"></a></dt>
<dd><p>This is being used by the vegetaiton code!!!!!
author: kristine larson
picks up a RINEX file from default unavco area, i.e. not highrate.
it tries to pick up an o file,
but if it does not work, it tries the “d” version, which must be
decompressed.  the location of this executable is defined in the crnxpath
variable.</p>
<p>station: string</p>
<p>year : integer</p>
<p>month : integer</p>
<p>day: integer</p>
<p>WARNING: only rinex version 2.11 in this world</p>
<p>if day is zero, assumes month is really doy</p>
<p>21sep01  changed from ftp to https</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.rinex_unavco_highrate">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">rinex_unavco_highrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.rinex_unavco_highrate" title="Permalink to this definition"></a></dt>
<dd><p>picks up a RINEX file from unavco.  it tries to pick up an o file,
but if it does not work, it tries the “d” version, which must be
decompressed.  the location of this executable is defined in the crnxpath
variable. This is from the main unavco directory - not the highrate directory.</p>
<p>WARNING: only rinex version 2 in this world
21sep02 - update from ftp to https, also added doy work around</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.rot3">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">rot3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vector</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.rot3" title="Permalink to this definition"></a></dt>
<dd><p>input a vector (3) and output the same vector rotated by an angle
in radians apparently.
original code from ryan hardy</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.snr_exist">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">snr_exist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrEnd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.snr_exist" title="Permalink to this definition"></a></dt>
<dd><p>check to see if the SNR file already exists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – four character station name</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – </p></li>
<li><p><strong>snrEnd</strong> (<em>string</em>) – 2 character snr type, i.e. 66, 99</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>snre</strong> – whether SNR file exists</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.snr_name">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">snr_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.snr_name" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – </p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>month</strong> (<em>integer</em>) – </p></li>
<li><p><strong>day</strong> (<em>integer</em>) – </p></li>
<li><p><strong>option</strong> (<em>integer</em>) – snr filename delimeter</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fname</strong> – snr filename</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.sp3_interpolator">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">sp3_interpolator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tow</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clock0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.sp3_interpolator" title="Permalink to this definition"></a></dt>
<dd><p>author: originally from ryan hardy</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>float</em>) – </p></li>
<li><p><strong>tow</strong> (<em>float</em>) – </p></li>
<li><p><strong>x0</strong> (<em>float</em>) – </p></li>
<li><p><strong>y0</strong> (<em>float</em>) – </p></li>
<li><p><strong>z0</strong> (<em>float</em>) – </p></li>
<li><p><strong>clock0</strong> (<em>float</em>) – </p></li>
</ul>
</dd>
</dl>
<p>inputs are??? tow is GPS seconds
xyz are the precise satellite coordinates (in meters)
clocks are likely satellite clock corrections (microseconds)
i believe n is the order fit, based on what i recall.
these values do not agree with my test cases in matlab or fortran
presumably there is an issue with the estimation of the coefficients.
they are good enough for calculating an elevation angle used in reflectometry</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.sp3_name">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">sp3_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pCtr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.sp3_name" title="Permalink to this definition"></a></dt>
<dd><p>inputs are year month and day and processing center
returns sp3 file name and directory</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.store_orbitfile">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">store_orbitfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orbtype</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.store_orbitfile" title="Permalink to this definition"></a></dt>
<dd><p>the function moves the file into the appropriate directory</p>
<p>inputs:</p>
<p>orbit filename</p>
<p>year : integer</p>
<dl class="simple">
<dt>orbtype<span class="classifier">string</span></dt><dd><p>(nav or sp3)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.store_snrfile">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">store_snrfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.store_snrfile" title="Permalink to this definition"></a></dt>
<dd><p>simple code to move an snr file to the right place
inputs are the filename, the year, and the station name</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.strip_compute">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">strip_compute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxH</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desiredP</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pfitV</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minH</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.strip_compute" title="Permalink to this definition"></a></dt>
<dd><p>strips snr data
:param x: elevation angles in degrees
:type x: numpy array
:param y: SNR data
:type y: numpy array
:param cf: scale factor for given frequency
:type cf: float
:param maxH: maximum reflector height in meters
:type maxH: float
:param desiredP: precision of Lomb Scargle in meters
:type desiredP: float
:param pfitV: polynomial order for DC model
:type pfitV: integer
:param minH: minimum reflector height in meters
:type minH: float</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>maxF</strong> (<em>float</em>) – maximum Reflector height (meters)</p></li>
<li><p><strong>maxAmp</strong> (<em>float</em>) – amplitude of periodogram</p></li>
<li><p><strong>eminObs</strong> (<em>float</em>) – minimum observed elevation angle in degrees</p></li>
<li><p><strong>emaxObs</strong> (<em>float</em>) – maximum observed elevation angle in degrees</p></li>
<li><p><strong>riseSet</strong> (<em>integer</em>) – 1 for rise and -1 for set</p></li>
<li><p><strong>px</strong> (<em>numpy array</em>) – periodogram, x-axis, RH, meters</p></li>
<li><p><strong>pz</strong> (<em>numpy array</em>) – periodogram, y-axis, volts/volts</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.teqc_version">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">teqc_version</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.teqc_version" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>gpse</strong> – location of teqcexecutable</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.translate_dates">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">translate_dates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.translate_dates" title="Permalink to this definition"></a></dt>
<dd><p>input integer year month and day
output???
i do not think this is used</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.ultra_gfz_orbits">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">ultra_gfz_orbits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hour</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.ultra_gfz_orbits" title="Permalink to this definition"></a></dt>
<dd><p>input year, month, day OR
year, doy, 0
hour is needed to figur out which ultra file to pick up
downloads rapid GFZ sp3 file and stores in $ORBITS</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.up">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">up</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.up" title="Permalink to this definition"></a></dt>
<dd><p>returns the up unit vector, and local east and north unit vectors needed
for azimuth calc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>latitude</strong> (<em>float</em>) – radians</p></li>
<li><p><strong>longitude</strong> (<em>float</em>) – radians</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>East</strong> (<em>three vector</em>) – local transformation unit vector</p></li>
<li><p><strong>North</strong> (<em>three vector</em>) – local transformation unit vector</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.update_plot">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">update_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plt_screen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">px</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pz</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.update_plot" title="Permalink to this definition"></a></dt>
<dd><p>input plt_screen integer value from gnssIR_lomb.
(value of one means update the SNR and LSP plot)
and values of the SNR data (x,y) and LSP (px,pz)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.update_quick_plot">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">update_quick_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.update_quick_plot" title="Permalink to this definition"></a></dt>
<dd><p>input plt_screen integer value from gnssIR_lomb.
(value of one means update the SNR and LSP plot)
and values of the SNR data (x,y) and LSP (px,pz)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.warn_and_exit">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">warn_and_exit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snrexe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fortran</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.warn_and_exit" title="Permalink to this definition"></a></dt>
<dd><p>if snr executable does not exist, exit
2020sep04 - send it fortran boolean.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gnssrefl.gps.wgs84">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">wgs84</span></span><a class="headerlink" href="#gnssrefl.gps.wgs84" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>wgs84 parameters for Earth radius and flattening</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.wgs84.a">
<span class="sig-name descname"><span class="pre">a</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">6378137.0</span></em><a class="headerlink" href="#gnssrefl.gps.wgs84.a" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.wgs84.e">
<span class="sig-name descname"><span class="pre">e</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.08181919084262149</span></em><a class="headerlink" href="#gnssrefl.gps.wgs84.e" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.gps.wgs84.f">
<span class="sig-name descname"><span class="pre">f</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0033528106647474805</span></em><a class="headerlink" href="#gnssrefl.gps.wgs84.f" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.window_data">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">window_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ele</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seconds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">az1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">az2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">satNu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pfitV</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pele</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">screenstats</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.window_data" title="Permalink to this definition"></a></dt>
<dd><p>also calculates the scale factor for various GNNS frequencies.  currently
returns meanTime in UTC hours and mean azimuth in degrees
cf, which is the wavelength/2
currently works for GPS, GLONASS, GALILEO, and Beidou
new: pele are the elevation angle limits for the polynomial fit. these are appplied
before you start windowing the data
20aug10 added screenstats boolean
:param s1: SNR L1 data, floats
:type s1: numpy array
:param s2: SNR L2 data, floats
:type s2: numpy array
:param s5: SNR L5 data
:type s5: numpy array
:param s6: SNR L6 data
:type s6: numpy array
:param s7: SNR L7 data
:type s7: numpy array
:param s8: SNR L8 data
:type s8: numpy array
:param sat: satellite number
:type sat: numpy array
:param ele: elevation angle (Degrees)
:type ele: numpy array
:param azi: azimuth angle (Degrees)
:type azi: numpy array
:param seconds: seconds of the day (GPS time)
:type seconds: numpy array
:param edot:
:type edot: numpy array
:param f: requested frequency
:type f: integer
:param az1: minimum azimuth limit, degrees
:type az1: float
:param az2: maximum azimuth limit, degrees
:type az2: float
:param e1: minimum elevation angle limit, degrees
:type e1: float
:param e2: maximum elevation angle limit, degrees
:type e2: float
:param satNu: requested satellite number
:type satNu: integer
:param pfitV: polynomial order for DC fit
:type pfitV: integer
:param screenstats: Whether statistics come to the screen
:type screenstats: boolean</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>x</strong> (<em>numpy array of</em>)</p></li>
<li><p><strong>y</strong> (<em>numpy array of</em>)</p></li>
<li><p><strong>Nvv</strong> (<em>integer</em>) – number of points in x</p></li>
<li><p><strong>cf</strong> (<em>float</em>) – scale factor</p></li>
<li><p><strong>meanTime</strong> (<em>float</em>) – UTC hour</p></li>
<li><p><strong>avgAzim</strong> (<em>float</em>) – average azimuth of the tracks</p></li>
<li><p><strong>outFact1</strong> (<em>float</em>)</p></li>
<li><p><em>outFact2</em></p></li>
<li><p><strong>delT</strong> (<em>float</em>) – track length in minutes (I think)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.write_QC_fails">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">write_QC_fails</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delT</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delTmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eminObs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emaxObs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ediff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxAmp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Noise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">PkNoise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reqamp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tooclose2edge</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.write_QC_fails" title="Permalink to this definition"></a></dt>
<dd><p>prints out various QC fails to the screen</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.xyz2llh">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">xyz2llh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.xyz2llh" title="Permalink to this definition"></a></dt>
<dd><p>given xyz vector, computes latitude, longitude and height</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xyz</strong> (<em>list</em><em> or </em><em>np array</em>) – X,Y,Z in meters</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – tolerance in meters for the calculation (1E-8 is good enough)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>lat</strong> (<em>float</em>) – latitude in radians</p></li>
<li><p><strong>lon</strong> (<em>float</em>) – longitude in radians</p></li>
<li><p><strong>h</strong> (<em>float</em>) – ellipsoidal height in WGS84 in meters</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.xyz2llhd">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">xyz2llhd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.xyz2llhd" title="Permalink to this definition"></a></dt>
<dd><p>converts three vector from cartesian coordinates to latitude,longitude,height</p>
<dl class="simple">
<dt>xyz<span class="classifier">three vector of floats</span></dt><dd><p>Cartesian position in meters</p>
</dd>
</dl>
<dl class="simple">
<dt>lat<span class="classifier">float</span></dt><dd><p>latitude in degrees</p>
</dd>
<dt>lon<span class="classifier">float</span></dt><dd><p>longitude in degrees</p>
</dd>
<dt>h<span class="classifier">float</span></dt><dd><p>ellipsoidal height in WGS84 in meters</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.ydoy2useful">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">ydoy2useful</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.ydoy2useful" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – day of year</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>year</strong> (<em>integer</em>)</p></li>
<li><p><strong>month</strong> (<em>integer</em>)</p></li>
<li><p><strong>day</strong> (<em>integer</em>)</p></li>
<li><p><strong>cyyyy</strong> (<em>string</em>) – four character year</p></li>
<li><p><strong>cdoy</strong> (<em>string</em>) – three character day of year</p></li>
<li><p><strong>YMD</strong> (<em>string</em>) – date as in ‘19-12-01’ for December 1, 2019</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.ydoy2ymd">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">ydoy2ymd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.ydoy2ymd" title="Permalink to this definition"></a></dt>
<dd><p>inputs: year and day of year (doy)
returns: year, month, day
author: kristine larson</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.ydoych">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">ydoych</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.ydoych" title="Permalink to this definition"></a></dt>
<dd><p>Converts year and doy to various character strings</p>
<dl class="simple">
<dt>year<span class="classifier">integer</span></dt><dd><p>year</p>
</dd>
<dt>doy<span class="classifier">integer</span></dt><dd><p>day of year</p>
</dd>
</dl>
<dl class="simple">
<dt>cyyyy<span class="classifier">string</span></dt><dd><p>4 character year</p>
</dd>
<dt>cyy<span class="classifier">string</span></dt><dd><p>2 character year</p>
</dd>
<dt>cdoy<span class="classifier">string</span></dt><dd><p>3 character day of year</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.ymd2doy">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">ymd2doy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.ymd2doy" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>month</strong> (<em>integer</em>) – </p></li>
<li><p><strong>day</strong> (<em>integer</em>) – day of the month</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>doy</strong> (<em>integer</em>) – day of year</p></li>
<li><p><strong>cdoy</strong> (<em>string</em>) – three character day of year</p></li>
<li><p><strong>cyyyy</strong> (<em>string</em>) – four character year</p></li>
<li><p><strong>cyy</strong> (<em>string</em>) – two character year</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.ymd_hhmmss">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">ymd_hhmmss</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">utc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtime</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.ymd_hhmmss" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – </p></li>
<li><p><strong>UTC</strong> (<em>float</em>) – </p></li>
<li><p><strong>dtime</strong> (<em>logical</em>) – </p></li>
</ul>
</dd>
</dl>
<p>inputs: year, day of year, UTC (fractional hours)
dtime is a logical for whether you want a datetime object
since i save things in year, doy and UTC hours …
this gives back datetime obj and the input for that
(year month day hour minute second, in integers i believe)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gps.zenithdelay">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gps.</span></span><span class="sig-name descname"><span class="pre">zenithdelay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gps.zenithdelay" title="Permalink to this definition"></a></dt>
<dd><p>the output is a very simple zenith troposphere delay in meters
this is NOT to be used for precise geodetic applications</p>
<dl class="simple">
<dt>h: float</dt><dd><p>ellipsoidal (height) in meters</p>
</dd>
</dl>
<dl class="simple">
<dt>zd<span class="classifier">float</span></dt><dd><p>simple zenith delay for the troposphere in meters</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gnssrefl.gpssnr">
<span id="gnssrefl-gpssnr-module"></span><h2>gnssrefl.gpssnr module<a class="headerlink" href="#module-gnssrefl.gpssnr" title="Permalink to this heading"></a></h2>
<p>This module ‘gpssnr’ is auto-generated with f2py (version:1.23.3).
Functions:</p>
<blockquote>
<div><p>foo(rawf,outf,broadf,snrtype,decfac,errf)
write_to_file(outid,prn_pick,prn,elev,azimuth,tod,s1,s2,s5)
checkfornonsense(s1,s2,s5)
read_block_gps(fileid,flag,inline_bn,numsat,nobs,satid,prn,obs,lli)
get_azel(tc,prn,stationxyz,east,north,localv,azimuth,elev,ihr)
read_header_20obs(fileid,rawf,xrec,yrec,zrec,iobs,nobs,iymd,station,fid)
azel(azimuth,elev,staxyz,east,north,staup,satpos)
bcephx(tc,isv,recf,ierr,hr)
geoxyz2(alat,along,hght,x,y,z,iflag)
julday(itimes,stime,utc)
mjdgps(tjul,isec,nweek)
read_broadcast4(filename,bele,iymd)
rearrange_bele(bele)
closest_eph(ihr,bele,isat,whichephem)
envtrans(xrec,yrec,zrec,stationxyz,lat,long_bn,height,north,east,up)
convert_time(itime,sec,msec,gpsweek,tc)
name2ydoy(rawfilename,year,doy)</p>
</div></blockquote>
<dl class="simple">
<dt>COMMON blocks:</dt><dd><p>/new_borbit/ naode(24,150),ncrs(24,150),ndeltan(24,150),nem0(24,150),ncuc(24,150),ne(24,150),ncus(24,150),nroota(24,150),ntoe(24,150),ncic(24,150),nomega0(24,150),ncis(24,150),nxi0(24,150),ncrc(24,150),nper0(24,150),nomegad(24,150),ntoc(24,150),nxclk(24,150,3),nsclk(24,150,3),nridot(24,150),nistano(24,150)</p>
</dd>
</dl>
<p>.</p>
</section>
<section id="module-gnssrefl.gpsweek">
<span id="gnssrefl-gpsweek-module"></span><h2>gnssrefl.gpsweek module<a class="headerlink" href="#module-gnssrefl.gpsweek" title="Permalink to this heading"></a></h2>
<dl class="field-list simple">
<dt class="field-odd">param year</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type year</dt>
<dd class="field-even"><p>integer</p>
</dd>
<dt class="field-odd">param month</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type month</dt>
<dd class="field-even"><p>integer</p>
</dd>
<dt class="field-odd">param day</dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type day</dt>
<dd class="field-even"><p>integer</p>
</dd>
</dl>
<p>computes GPS week (and day of week)</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.gpsweek.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.gpsweek.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.gpsweek.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.installexe_cl">
<span id="gnssrefl-installexe-cl-module"></span><h2>gnssrefl.installexe_cl module<a class="headerlink" href="#module-gnssrefl.installexe_cl" title="Permalink to this heading"></a></h2>
<p>installs non-python executables for the gnssrefl code</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.installexe_cl.checkexist">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.installexe_cl.</span></span><span class="sig-name descname"><span class="pre">checkexist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exe</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.installexe_cl.checkexist" title="Permalink to this definition"></a></dt>
<dd><p>exe - executable name to check</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.installexe_cl.download_chmod_move">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.installexe_cl.</span></span><span class="sig-name descname"><span class="pre">download_chmod_move</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exedir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.installexe_cl.download_chmod_move" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>string</em>) – external location of the executable</p></li>
<li><p><strong>savename</strong> (<em>string</em>) – name of the executable</p></li>
<li><p><strong>exedir</strong> (<em>string</em>) – name of local executable directory (EXE environment variable)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.installexe_cl.installexe">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.installexe_cl.</span></span><span class="sig-name descname"><span class="pre">installexe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opsys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.installexe_cl.installexe" title="Permalink to this definition"></a></dt>
<dd><p>Command line interface to install non-python executables, specifically
CRX2RNX and gfzrnx. downloading Teqc will be an added feature here in the future.
<a class="reference external" href="https://stackoverflow.com/questions/12791997/how-do-you-do-a-simple-chmod-x-from-within-python">https://stackoverflow.com/questions/12791997/how-do-you-do-a-simple-chmod-x-from-within-python</a></p>
<p>note: this code used to try to download fortran exe but this is no longer necessary
because we have the fortran code within gnssrefl</p>
<dl class="simple">
<dt>opsys<span class="classifier">string</span></dt><dd><p>operating system (linux64 or macos)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.installexe_cl.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.installexe_cl.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.installexe_cl.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.installexe_cl.newchip_gfzrnx">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.installexe_cl.</span></span><span class="sig-name descname"><span class="pre">newchip_gfzrnx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exedir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.installexe_cl.newchip_gfzrnx" title="Permalink to this definition"></a></dt>
<dd><p>installs the gfzrnx executable and stores in the EXE directory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exedir</strong> (<em>string</em>) – location of the executable directory</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.installexe_cl.newchip_hatanaka">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.installexe_cl.</span></span><span class="sig-name descname"><span class="pre">newchip_hatanaka</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exedir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.installexe_cl.newchip_hatanaka" title="Permalink to this definition"></a></dt>
<dd><p>compiles hatanaka code if an existing executable is not there
stores in EXE</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exedir</strong> (<em>string</em>) – location of the executable directory</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.installexe_cl.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.installexe_cl.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.installexe_cl.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.invsnr_cl">
<span id="gnssrefl-invsnr-cl-module"></span><h2>gnssrefl.invsnr_cl module<a class="headerlink" href="#module-gnssrefl.invsnr_cl" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.invsnr_cl.invsnr">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.invsnr_cl.</span></span><span class="sig-name descname"><span class="pre">invsnr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pktnlim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">screenstats</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tempres</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polydeg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrfit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doplot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lspfigs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrfigs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">knot_space</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rough_in</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">risky</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr_ending</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">66</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'txt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outlier_limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_dots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_out</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refraction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_override</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.invsnr_cl.invsnr" title="Permalink to this definition"></a></dt>
<dd><p>Wrapper to call invsnr code.
Parameters:
___________
station : string</p>
<blockquote>
<div><p>Character ID of the station</p>
</div></blockquote>
<dl>
<dt>year<span class="classifier">integer</span></dt><dd><p>Year</p>
</dd>
<dt>doy<span class="classifier">integer</span></dt><dd><p>Day of year</p>
</dd>
<dt>signal<span class="classifier">string</span></dt><dd><p>signal to use.
value options:
L1
L2
L5
L6
L7
L1+L2
L1+L2+L5
L1+L5
ALL</p>
</dd>
<dt>pktnlim: float, optional</dt><dd><p>Peak2noise ratio limit for Quality Control.
Default is 4</p>
</dd>
<dt>constel: str, optional</dt><dd><p>Only a single constellation.
Default is None which is gps, glonass, and galileo.
value options:</p>
<blockquote>
<div><p>G : GPS
E : Galileo
R : Glonass
C : Beidou
withBeidou : adds Beidou to the default.</p>
</div></blockquote>
</dd>
<dt>screenstats: boolean, optional</dt><dd><p>Whether to print out stats to the screen.
Default is False</p>
</dd>
<dt>tempres: integer, optional</dt><dd><p>SNR file decimator (seconds)
Default is 1 (everything)</p>
</dd>
<dt>polydeg<span class="classifier">integer, optional</span></dt><dd><p>polynomial degree for direct signal removal
Default is 2</p>
</dd>
<dt>snrfit<span class="classifier">boolean, optional</span></dt><dd><p>Whether to do the inversion or not
Default is True</p>
</dd>
<dt>doplot<span class="classifier">boolean, optional</span></dt><dd><p>Whether to plot to the screen or not
Default is True</p>
</dd>
<dt>doy_end<span class="classifier">integer, optional</span></dt><dd><p>day of year to end analysis.
Default is None.</p>
</dd>
<dt>lspfigs<span class="classifier">boolean, optional</span></dt><dd><p>Whether or not to make LSP plots
Note: Don’t turn these on unless you really need plots because it is slow to make one per satellite arc.
Default is False</p>
</dd>
<dt>snrfigs<span class="classifier">boolean, optional</span></dt><dd><p>Whether or not to make SNR plots
Note: Don’t turn these on unless you really need plots because it is slow to make one per satellite arc.
Default is False</p>
</dd>
<dt>knot_space<span class="classifier">float, optional</span></dt><dd><p>Knot spacing in hours
Default is 3</p>
</dd>
<dt>rough_in<span class="classifier">float, optional</span></dt><dd><p>Roughness
Default is 0.1</p>
</dd>
<dt>risky<span class="classifier">boolean, optional</span></dt><dd><p>Risky taker related to gaps/knot spacing
Default is False</p>
</dd>
<dt>snr_ending<span class="classifier">integer, optional</span></dt><dd><p>SNR file ending.
Default is 66</p>
</dd>
<dt>outfile_type<span class="classifier">string, optional</span></dt><dd><p>output file type.
Default is ‘txt’
value options:</p>
<blockquote>
<div><p>txt
csv</p>
</div></blockquote>
</dd>
<dt>outfile_name<span class="classifier">string, optional</span></dt><dd><p>output file name.
Default is ‘’</p>
</dd>
<dt>outlier_limit<span class="classifier">float, optional</span></dt><dd><p>Outliers plotted. (meters)
Default is 0.5</p>
</dd>
<dt>no_dots<span class="classifier">boolean, optional</span></dt><dd><p>To plot lombscargle or not.
Default is False</p>
</dd>
<dt>delta_out<span class="classifier">integer, optional</span></dt><dd><p>Output increment, in seconds.
Default is 300</p>
</dd>
<dt>refraction<span class="classifier">boolean, optional</span></dt><dd><p>Default is True</p>
</dd>
<dt>json_override<span class="classifier">boolean, optional</span></dt><dd><p>Override json file name
Default is False</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.invsnr_cl.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.invsnr_cl.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.invsnr_cl.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.invsnr_cl.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.invsnr_cl.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.invsnr_cl.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.invsnr_input">
<span id="gnssrefl-invsnr-input-module"></span><h2>gnssrefl.invsnr_input module<a class="headerlink" href="#module-gnssrefl.invsnr_input" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.invsnr_input.invsnr_input">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.invsnr_input.</span></span><span class="sig-name descname"><span class="pre">invsnr_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">360</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.invsnr_input.invsnr_input" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>station<span class="classifier">string</span></dt><dd><p>Character ID of the station</p>
</dd>
<dt>h1<span class="classifier">float</span></dt><dd><p>Lower limit reflector height (m)</p>
</dd>
<dt>h2<span class="classifier">float</span></dt><dd><p>Upper limit reflector height (m)</p>
</dd>
<dt>e1<span class="classifier">float</span></dt><dd><p>Lower limit elev. angle (deg)</p>
</dd>
<dt>e2<span class="classifier">float</span></dt><dd><p>Upper limit elev. angle (deg)</p>
</dd>
<dt>a1<span class="classifier">float, optional</span></dt><dd><p>Lower limit azimuth angle (deg)</p>
</dd>
<dt>a2<span class="classifier">float, optional</span></dt><dd><p>Upper limit azimuth angle (deg)</p>
</dd>
<dt>lat<span class="classifier">float, optional</span></dt><dd><p>Latitude (degrees)</p>
</dd>
<dt>lon<span class="classifier">float, optional</span></dt><dd><p>Longitude (degrees)</p>
</dd>
<dt>height<span class="classifier">float, optional</span></dt><dd><p>Ellipsoidal height (meters)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.invsnr_input.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.invsnr_input.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.invsnr_input.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.invsnr_input.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.invsnr_input.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.invsnr_input.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.karnak_libraries">
<span id="gnssrefl-karnak-libraries-module"></span><h2>gnssrefl.karnak_libraries module<a class="headerlink" href="#module-gnssrefl.karnak_libraries" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.karnak_libraries.filename_plus">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.karnak_libraries.</span></span><span class="sig-name descname"><span class="pre">filename_plus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station9ch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.karnak_libraries.filename_plus" title="Permalink to this definition"></a></dt>
<dd><p>function to create RINEX 3 filenames for one day files.</p>
<dl class="simple">
<dt>station9ch<span class="classifier">string</span></dt><dd><p>9 character station name</p>
</dd>
</dl>
<p>year : integer</p>
<dl class="simple">
<dt>doy<span class="classifier">integer</span></dt><dd><p>day of year</p>
</dd>
<dt>srate<span class="classifier">integer</span></dt><dd><p>receiver sample rate</p>
</dd>
<dt>stream<span class="classifier">string</span></dt><dd><p>R or S ; latter means the file was streamed.</p>
</dd>
<dt>output<span class="classifier">string</span></dt><dd><p>compliant filename with crx.gz on the end as this is how the files
are stored at GNSS archives as far as I know.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.karnak_libraries.ga_stuff">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.karnak_libraries.</span></span><span class="sig-name descname"><span class="pre">ga_stuff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rinexv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.karnak_libraries.ga_stuff" title="Permalink to this definition"></a></dt>
<dd><p>takes 9 ch station name and year and doy
and returns some things that GA wants to download a Rinex 3 file
:param station: 9 character station name
:type station: string
:param year:
:type year: integer
:param doy: day of year
:type doy: integer
:param rinexv: rinex version
:type rinexv: integer</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.karnak_libraries.ga_stuff_highrate">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.karnak_libraries.</span></span><span class="sig-name descname"><span class="pre">ga_stuff_highrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rinexv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.karnak_libraries.ga_stuff_highrate" title="Permalink to this definition"></a></dt>
<dd><p>takes 9 ch station name and year and doy
and returns some things that GA wants to download a Rinex 3 file</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.karnak_libraries.gogetit">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.karnak_libraries.</span></span><span class="sig-name descname"><span class="pre">gogetit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.karnak_libraries.gogetit" title="Permalink to this definition"></a></dt>
<dd><p>the purpose of this function is to to download RINEX 2 files
code will try to get the file and chck to see if it was successful</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir1</strong> (<em>string</em>) – the main https directory address</p></li>
<li><p><strong>filename</strong> (<em>string</em>) – name of the GNSS files</p></li>
<li><p><strong>ext</strong> (<em>string</em>) – kind of ending to the filename, (Z, gz etc)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>foundit</strong> (<em>boolean</em>) – whether file was found</p></li>
<li><p><strong>f</strong> (<em>string</em>) – name of the file</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.karnak_libraries.gsi_data">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.karnak_libraries.</span></span><span class="sig-name descname"><span class="pre">gsi_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.karnak_libraries.gsi_data" title="Permalink to this definition"></a></dt>
<dd><p># kluge  so i don’t have to rewrite this code
# calling the original rinex downloader</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.karnak_libraries.just_bkg">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.karnak_libraries.</span></span><span class="sig-name descname"><span class="pre">just_bkg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cyyyy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cdoy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.karnak_libraries.just_bkg" title="Permalink to this definition"></a></dt>
<dd><p>looks for bkg files in two directories</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cyyyy</strong> (<em>string</em>) – four character year</p></li>
<li><p><strong>cdoy</strong> (<em>string</em>) – three character day of year</p></li>
<li><p><strong>file_name</strong> (<em>string</em>) – expected RINEX filename</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.karnak_libraries.make_rinex2_ofiles">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.karnak_libraries.</span></span><span class="sig-name descname"><span class="pre">make_rinex2_ofiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.karnak_libraries.make_rinex2_ofiles" title="Permalink to this definition"></a></dt>
<dd><p>take a rinex2 file gunzip or uncompress and
then Hatanaka decompress it</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_name</strong> (<em>string</em>) – rinex2 filename</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>new_name</strong> (<em>string</em>) – filename after multiple decompression processes</p></li>
<li><p><strong>fexist</strong> (<em>boolean</em>) – whether file was successfully created</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.karnak_libraries.rinex2_highrate">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.karnak_libraries.</span></span><span class="sig-name descname"><span class="pre">rinex2_highrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archive</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strip_snr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.karnak_libraries.rinex2_highrate" title="Permalink to this definition"></a></dt>
<dd><p>kluge to download highrate data since i have revamped the rinex2 code
strip_snr is boolean as to whether you want to strip out the non-SNR data
it can be slow with highrate data. it requires gfzrnx</p>
<dl class="simple">
<dt>station: string</dt><dd><p>4 character station ID.  lowercase</p>
</dd>
<dt>year: integer</dt><dd><p>year</p>
</dd>
<dt>doy: integer</dt><dd><p>day of year</p>
</dd>
</dl>
<p>archive: string</p>
<p>strip_snr: boolean</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.karnak_libraries.rinex2names">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.karnak_libraries.</span></span><span class="sig-name descname"><span class="pre">rinex2names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.karnak_libraries.rinex2names" title="Permalink to this definition"></a></dt>
<dd><p>rinex2 filename</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – </p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – day of year</p></li>
<li><p><strong>results</strong> – </p></li>
<li><p><strong>--------</strong> – </p></li>
<li><p><strong>f1</strong> (<em>string</em>) – hatanaka rinex filename</p></li>
<li><p><strong>f2</strong> (<em>string</em>) – regular rinex filename</p></li>
<li><p><strong>cyyyy</strong> (<em>string</em>) – four character year</p></li>
<li><p><strong>cdoy</strong> (<em>string</em>) – three character day of year</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.karnak_libraries.serial_cddis_files">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.karnak_libraries.</span></span><span class="sig-name descname"><span class="pre">serial_cddis_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cyyyy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cdoy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.karnak_libraries.serial_cddis_files" title="Permalink to this definition"></a></dt>
<dd><p>only looks in the hatanaka decompression section of cddis
:param dname: rinex2 filename without compression extension
:type dname: string
:param cyyyy: four character year
:type cyyyy: string
:param cdoy: three character day of yaer
:type cdoy: string</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.karnak_libraries.strip_rinexfile">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.karnak_libraries.</span></span><span class="sig-name descname"><span class="pre">strip_rinexfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rinexfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.karnak_libraries.strip_rinexfile" title="Permalink to this definition"></a></dt>
<dd><p>uses either teqc or gfzrnx to reduce observables</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rinexfile</strong> (<em>string</em>) – name of the rinex2 file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.karnak_libraries.swapRS">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.karnak_libraries.</span></span><span class="sig-name descname"><span class="pre">swapRS</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.karnak_libraries.swapRS" title="Permalink to this definition"></a></dt>
<dd><p>profound function that swaps R to S and vice versa
:param stream: RINEX 3 file streaming acronym (S or R)
:type stream: string
:param newstream: the opposite of what was in stream
:type newstream: string</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.karnak_libraries.universal">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.karnak_libraries.</span></span><span class="sig-name descname"><span class="pre">universal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station9ch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archive</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.karnak_libraries.universal" title="Permalink to this definition"></a></dt>
<dd><p>main code for seamless archive for rinex 3 files …</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station9ch</strong> (<em>string</em>) – nine character station name</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – year</p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – day of year</p></li>
<li><p><strong>archive</strong> (<em>string</em>) – archive name</p></li>
<li><p><strong>srate</strong> (<em>integer</em>) – receiver samplerate</p></li>
<li><p><strong>stream</strong> (<em>string</em>) – one character: R or S</p></li>
<li><p><strong>debug</strong> (<em>boolean</em>) – whether debugging statements printed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>file_name</strong> (<em>string</em>) – name of rinexfile</p></li>
<li><p><strong>foundit</strong> (<em>boolean</em>) – whether file was found</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.karnak_libraries.universal_all">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.karnak_libraries.</span></span><span class="sig-name descname"><span class="pre">universal_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station9ch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.karnak_libraries.universal_all" title="Permalink to this definition"></a></dt>
<dd><p>function to check multiple archives for RINEX 3 data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station9ch</strong> (<em>string</em>) – 9 character station name</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – doy of year</p></li>
<li><p><strong>srate</strong> (<em>integer</em>) – receiver sample rate</p></li>
<li><p><strong>stream</strong> (<em>string</em>) – R or S</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>file_name</strong> (<em>string</em>) – rinex filename</p></li>
<li><p><strong>foundit</strong> (<em>boolean</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.karnak_libraries.universal_rinex2">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.karnak_libraries.</span></span><span class="sig-name descname"><span class="pre">universal_rinex2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archive</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.karnak_libraries.universal_rinex2" title="Permalink to this definition"></a></dt>
<dd><p>seamless archive for rinex 2 files …</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – four character station name</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – </p></li>
<li><p><strong>archive</strong> (<em>string</em>) – name of the GNSS archive</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>file_name</strong> (<em>string</em>) – filename that was downloaded</p></li>
<li><p><strong>foundit</strong> (<em>boolean</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gnssrefl.llh2xyz">
<span id="gnssrefl-llh2xyz-module"></span><h2>gnssrefl.llh2xyz module<a class="headerlink" href="#module-gnssrefl.llh2xyz" title="Permalink to this heading"></a></h2>
<p>converts latlonht to cartesian coordinates
author: kristine larson</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.llh2xyz.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.llh2xyz.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.llh2xyz.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.make_json_input">
<span id="gnssrefl-make-json-input-module"></span><h2>gnssrefl.make_json_input module<a class="headerlink" href="#module-gnssrefl.make_json_input" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.make_json_input.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.make_json_input.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.make_json_input.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.make_json_input.make_json">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.make_json_input.</span></span><span class="sig-name descname"><span class="pre">make_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">long</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">height</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">6.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nr1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nr2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peak2noise</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ampl</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">6.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allfreq</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l2c</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xyz</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">refraction</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.make_json_input.make_json" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>station<span class="classifier">string</span></dt><dd><p>4 or 9 character ID of the station.</p>
</dd>
<dt>lat<span class="classifier">float</span></dt><dd><p>latitude in degrees.</p>
</dd>
<dt>long<span class="classifier">float</span></dt><dd><p>longitude in degrees.</p>
</dd>
<dt>height<span class="classifier">float</span></dt><dd><p>ellipsoidal height in meters.</p>
</dd>
<dt>e1<span class="classifier">integer, optional</span></dt><dd><p>elevation angle lower limit in degrees.
default is 5.</p>
</dd>
<dt>e2<span class="classifier">integer, optional</span></dt><dd><p>elevation angle upper limit in degrees.
default is 25.</p>
</dd>
<dt>h1<span class="classifier">float, optional</span></dt><dd><p>reflector height lower limit in meters.
default is 0.5.</p>
</dd>
<dt>h2<span class="classifier">float, optional</span></dt><dd><p>reflector height upper limit in meters.
default is 6.</p>
</dd>
<dt>nr1<span class="classifier">float, optional</span></dt><dd><p>noise region lower limit for QC in meters.
default is None.</p>
</dd>
<dt>nr2<span class="classifier">float, optional</span></dt><dd><p>noise region upper limit for QC in meters.
default is None.</p>
</dd>
<dt>peak2noise<span class="classifier">float, optional</span></dt><dd><p>peak to noise ratio used for QC.
default is 2.7 (just a starting point for water - should be 3 or 3.5 for snow …)</p>
</dd>
<dt>ampl<span class="classifier">float, optional</span></dt><dd><p>spectral peak amplitude for QC.
default is 6.0</p>
</dd>
<dt>allfreq<span class="classifier">Boolean, optional</span></dt><dd><p>True requests all GNSS frequencies.
default is False (defaults to use GPS frequencies).</p>
</dd>
<dt>l1<span class="classifier">boolean, optional</span></dt><dd><p>set to True to use only GPS L1 frequency.
default is False.</p>
</dd>
<dt>l2c<span class="classifier">boolean, optional</span></dt><dd><p>set to Trye to use only GPS L2C frequency.
default is False.</p>
</dd>
<dt>xyz<span class="classifier">boolean, optional</span></dt><dd><p>set to True if using Cartesian coordinates.
default is False.</p>
</dd>
<dt>refraction<span class="classifier">boolean, optional</span></dt><dd><p>set to False to turn off refraction correction.
default is True.</p>
</dd>
<dt>extension<span class="classifier">string, optional</span></dt><dd><p>provide extension name so you can try different strategies.
default is None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.make_json_input.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.make_json_input.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.make_json_input.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.nmea2snr">
<span id="gnssrefl-nmea2snr-module"></span><h2>gnssrefl.nmea2snr module<a class="headerlink" href="#module-gnssrefl.nmea2snr" title="Permalink to this heading"></a></h2>
<p>to convert nmea files to snr files
Makan Karegar, Uni Bonn, Aug 05, 2021</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.nmea2snr.NMEA2SNR">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.nmea2snr.</span></span><span class="sig-name descname"><span class="pre">NMEA2SNR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csnr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.nmea2snr.NMEA2SNR" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>locdir</strong> (<em>string</em>) – directory where your SNR files are kept</p></li>
<li><p><strong>fname</strong> (<em>string</em>) – NMEA filename</p></li>
<li><p><strong>snrfile</strong> (<em>string</em>) – name of output file for SNR data</p></li>
<li><p><strong>csnr</strong> (<em>string</em>) – snr option, i.e. ‘66’ or ‘99’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.nmea2snr.angle_range_positive">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.nmea2snr.</span></span><span class="sig-name descname"><span class="pre">angle_range_positive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ang</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.nmea2snr.angle_range_positive" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.nmea2snr.azimuth_diff">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.nmea2snr.</span></span><span class="sig-name descname"><span class="pre">azimuth_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">azim1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.nmea2snr.azimuth_diff" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.nmea2snr.azimuth_diff1">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.nmea2snr.</span></span><span class="sig-name descname"><span class="pre">azimuth_diff1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">azim</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.nmea2snr.azimuth_diff1" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.nmea2snr.azimuth_diff2">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.nmea2snr.</span></span><span class="sig-name descname"><span class="pre">azimuth_diff2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">azim1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.nmea2snr.azimuth_diff2" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.nmea2snr.azimuth_mean">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.nmea2snr.</span></span><span class="sig-name descname"><span class="pre">azimuth_mean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">azim1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.nmea2snr.azimuth_mean" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>azim1</strong> (<em>float</em>) – azimuth degrees</p></li>
<li><p><strong>azim2</strong> (<em>float</em>) – azimuth degrees</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>azim</strong> – degrees</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.nmea2snr.elev_limits">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.nmea2snr.</span></span><span class="sig-name descname"><span class="pre">elev_limits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snroption</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.nmea2snr.elev_limits" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>snroption</strong> (<em>integer</em>) – snrfile number</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>emin</strong> (<em>float</em>) – min elevation angle (degrees)</p></li>
<li><p><strong>emax</strong> (<em>float</em>) – max elevation angle (degrees)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.nmea2snr.fix_angle_azimuth">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.nmea2snr.</span></span><span class="sig-name descname"><span class="pre">fix_angle_azimuth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azimuth</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.nmea2snr.fix_angle_azimuth" title="Permalink to this definition"></a></dt>
<dd><p>interpolate elevation angles and azimuth to retrieve decimal values thru time
this is for NMEA files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>list of floats</em>) – GPS seconds of the week</p></li>
<li><p><strong>angle</strong> (<em>list of floats</em>) – elevation angles  (degrees)</p></li>
<li><p><strong>azimuth</strong> (<em>list of floats</em>) – azimuth angles (degrees)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>angle_fixed</strong> (<em>list of floats</em>) – interpolated elevation angles</p></li>
<li><p><strong>azim_fixed</strong> (<em>list of floats</em>) – interpolated azimuth angles</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.nmea2snr.quickname">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.nmea2snr.</span></span><span class="sig-name descname"><span class="pre">quickname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cyy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cdoy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csnr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.nmea2snr.quickname" title="Permalink to this definition"></a></dt>
<dd><p>given station name, year, doy, snr type
returns snr file name and its path under REFL_CODE/year/snr/station/</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – </p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>cyy</strong> (<em>string</em>) – two character yar</p></li>
<li><p><strong>cdoy</strong> (<em>integer</em>) – three character day of year</p></li>
<li><p><strong>csnr</strong> (<em>string</em>) – snr type, e.g. ‘66’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.nmea2snr.read_nmea">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.nmea2snr.</span></span><span class="sig-name descname"><span class="pre">read_nmea</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.nmea2snr.read_nmea" title="Permalink to this definition"></a></dt>
<dd><p>read GPGGA sentence (includes snr data) in NMEA files
:param fname: NMEA filename
:type fname: string</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>t</strong> (<em>list of integers</em>) – timetags in GPS seconds</p></li>
<li><p><strong>prn</strong> (<em>list of integers</em>) – GPS satellite numbers</p></li>
<li><p><strong>az</strong> (<em>list of floats ??</em>) – azimuth values (degrees)</p></li>
<li><p><strong>elv</strong> (<em>list of floats ??</em>) – elevation angles (degrees)</p></li>
<li><p><strong>snr</strong> (<em>list of floats</em>) – snr values</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.nmea2snr.run_nmea2snr">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.nmea2snr.</span></span><span class="sig-name descname"><span class="pre">run_nmea2snr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isnr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.nmea2snr.run_nmea2snr" title="Permalink to this definition"></a></dt>
<dd><p>runs the nmea2snr conversion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – name</p></li>
<li><p><strong>year_list</strong> (<em>list of integers</em>) – </p></li>
<li><p><strong>doy_list</strong> (<em>list of days of year</em>) – </p></li>
<li><p><strong>isnr</strong> (<em>integer</em>) – snr file type</p></li>
<li><p><strong>overwrite</strong> (<em>boolean</em>) – whether make a new SNR file even if one already exists</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gnssrefl.nmea2snr_cl">
<span id="gnssrefl-nmea2snr-cl-module"></span><h2>gnssrefl.nmea2snr_cl module<a class="headerlink" href="#module-gnssrefl.nmea2snr_cl" title="Permalink to this heading"></a></h2>
<p>command line tool for the nmea2snr module
This translates the nmea files to SNR files
Makan Karegar, Uni Bonn, Aug 05, 2021</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.nmea2snr_cl.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.nmea2snr_cl.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.nmea2snr_cl.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.phase_functions">
<span id="gnssrefl-phase-functions-module"></span><h2>gnssrefl.phase_functions module<a class="headerlink" href="#module-gnssrefl.phase_functions" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.phase_functions.apriori_file_exist">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.phase_functions.</span></span><span class="sig-name descname"><span class="pre">apriori_file_exist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.phase_functions.apriori_file_exist" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – </p></li>
<li><p><strong>fr</strong> (<em>integer</em>) – frequency</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>boolean as to whether the apriori file exists</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.phase_functions.convert_phase">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.phase_functions.</span></span><span class="sig-name descname"><span class="pre">convert_phase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt2screen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polyorder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">99</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circles</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.phase_functions.convert_phase" title="Permalink to this definition"></a></dt>
<dd><p>conversion from phase to VWC. Using Clara Chew algorithm
from Matlab write_vegcorrect_smc.m
input is the station name</p>
<p><a class="reference external" href="https://scipy-cookbook.readthedocs.io/items/SignalSmooth.html">https://scipy-cookbook.readthedocs.io/items/SignalSmooth.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – </p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>year_end</strong> (<em>integer</em>) – </p></li>
<li><p><strong>plt2screen</strong> (<em>boolean</em>) – plots come to the screen</p></li>
<li><p><strong>fr</strong> (<em>integer</em>) – frequency</p></li>
<li><p><strong>polyorder</strong> (<em>integer</em>) – override on the polynomial order used in leveling</p></li>
<li><p><strong>circles</strong> (<em>boolean</em>) – final plot using circles (instead of line)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.phase_functions.daily_phase_plot">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.phase_functions.</span></span><span class="sig-name descname"><span class="pre">daily_phase_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datetime_dates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xdir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.phase_functions.daily_phase_plot" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – </p></li>
<li><p><strong>fr</strong> (<em>integer</em>) – </p></li>
<li><p><strong>datetime_dates</strong> – </p></li>
<li><p><strong>tv</strong> (<em>list of results</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.phase_functions.low_pct">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.phase_functions.</span></span><span class="sig-name descname"><span class="pre">low_pct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basepercent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.phase_functions.low_pct" title="Permalink to this definition"></a></dt>
<dd><p>emulated amp_normK code from PBO H2O
inputs are the amplitudes  and a percentage
used to define the bottom level. returns
normalized amplitudes
this is meant to be used by individual tracks (I think)
in this case they are the top values, not the bottom … ugh</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.phase_functions.make_snow_filter">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.phase_functions.</span></span><span class="sig-name descname"><span class="pre">make_snow_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">medfilter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ReqTracks</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.phase_functions.make_snow_filter" title="Permalink to this definition"></a></dt>
<dd><p>runs daily_avg code so you have some idea of when the soil moisture products are
contaminated by snow. make a file with these years and doys saved</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – name, 4 ch</p></li>
<li><p><strong>medfilter</strong> (<em>float</em>) – how much you allow the individual tracks to deviate from the daily median (meters)</p></li>
<li><p><strong>ReqTracks</strong> (<em>integer</em>) – number of tracks to compute trustworthy daily average</p></li>
<li><p><strong>year1</strong> (<em>integer</em>) – start year</p></li>
<li><p><strong>year2</strong> (<em>integer</em>) – end year</p></li>
<li><p><strong>$REFL_CODE/Files/snowmask_{ssss}.txt</strong> (<em>creates output file into a file</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>snowmask_exists</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.phase_functions.phase_tracks">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.phase_functions.</span></span><span class="sig-name descname"><span class="pre">phase_tracks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pele</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">screenstats</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_lsp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gzip</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.phase_functions.phase_tracks" title="Permalink to this definition"></a></dt>
<dd><p>This does the main work of estimating phase and other parameters from the SNR files
it uses tracks that were predefined by the apriori.py code</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>station</em>) – 4 char id, lowercase</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – day of year</p></li>
<li><p><strong>snr_type</strong> (<em>integer</em>) – is the file extension (i.e. 99, 66 etc)</p></li>
<li><p><strong>fr_list</strong> (<em>list of integers</em>) – frequency, [1], [20] or [1,20]</p></li>
<li><p><strong>e1</strong> (<em>float</em>) – min elevation angle (degrees)</p></li>
<li><p><strong>e2</strong> (<em>float</em>) – max elevation angle (degrees)</p></li>
<li><p><strong>pele</strong> (<em>list of floats</em>) – elevation angle limits for the polynomial removal.  units: degrees</p></li>
<li><p><strong>screenstats</strong> (<em>boolean</em>) – whether statistics are printed to the screen</p></li>
<li><p><strong>compute_lsp</strong> (<em>boolean</em>) – this is always true</p></li>
<li><p><strong>gzip</strong> (<em>boolean</em>) – whether you want SNR files gzipped after running the code</p></li>
<li><p><strong>allowed</strong> (<em>only GPS frequencies are</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.phase_functions.read_apriori_rh">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.phase_functions.</span></span><span class="sig-name descname"><span class="pre">read_apriori_rh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.phase_functions.read_apriori_rh" title="Permalink to this definition"></a></dt>
<dd><p>read the track dependent a prori reflector heights needed for
phase &amp; thus soil moisture.
:param station: four character ID, lowercase
:type station: string
:param fr: frequency (e.g. 1,20)
:type fr: integer</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>results</strong> – column 2 is RH in meters
column 3 is sat
column 4 is azimuth etc
column 5 is number of values used in average
column 6 is minimum azimuth degrees
column 7 is maximum azimuth degrees</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.phase_functions.test_func">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.phase_functions.</span></span><span class="sig-name descname"><span class="pre">test_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rh_apriori</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.phase_functions.test_func" title="Permalink to this definition"></a></dt>
<dd><p>This is least squares for estimating a sine wave given a fixed frequency, freqLS</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.phase_functions.test_func_new">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.phase_functions.</span></span><span class="sig-name descname"><span class="pre">test_func_new</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rh_apriori</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.phase_functions.test_func_new" title="Permalink to this definition"></a></dt>
<dd><p>This is least squares for estimating a sine wave given a fixed frequency, freqLS</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.phase_functions.vwc_plot">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.phase_functions.</span></span><span class="sig-name descname"><span class="pre">vwc_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vwcdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circles</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.phase_functions.vwc_plot" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – </p></li>
<li><p><strong>t_datetime</strong> (<em>datetime</em>) – observations time</p></li>
<li><p><strong>vwcdata</strong> (<em>numpy array of floats</em><em> (</em><em>I think</em><em>)</em>) – volumetric water content</p></li>
<li><p><strong>plot_path</strong> (<em>string</em>) – where to put the plot</p></li>
<li><p><strong>circles</strong> (<em>boolean</em>) – circles in the plot. default is a line (really .-)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.phase_functions.write_avg_phase">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.phase_functions.</span></span><span class="sig-name descname"><span class="pre">write_avg_phase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minvalperday</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vxyz</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.phase_functions.write_avg_phase" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – </p></li>
<li><p><strong>phase</strong> (<em>numpy list of phase values</em>) – </p></li>
<li><p><strong>fr</strong> (<em>integer</em>) – frequency</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>year_end</strong> (<em>integer</em>) – </p></li>
<li><p><strong>minvalperday</strong> (<em>integer</em>) – required number of satellite tracks to trust the daily average</p></li>
<li><p><strong>compilation</strong> (<em>vxyz is from some other</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tv</strong> – year, doy, meanph, nvals</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy array with elements</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gnssrefl.plot_phase">
<span id="gnssrefl-plot-phase-module"></span><h2>gnssrefl.plot_phase module<a class="headerlink" href="#module-gnssrefl.plot_phase" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.plot_phase.daily_phase_plot">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.plot_phase.</span></span><span class="sig-name descname"><span class="pre">daily_phase_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datetime_dates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xdir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.plot_phase.daily_phase_plot" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – </p></li>
<li><p><strong>fr</strong> (<em>integer</em>) – </p></li>
<li><p><strong>datetime_dates</strong> – </p></li>
<li><p><strong>tv</strong> (<em>list of results</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.plot_phase.do_quad">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.plot_phase.</span></span><span class="sig-name descname"><span class="pre">do_quad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vquad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_end</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.plot_phase.do_quad" title="Permalink to this definition"></a></dt>
<dd><p>stacks all the phase results for a given quadrant
returns 3 vector (year, doy, phase)
requires 5 for an average</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.plot_phase.load_avg_phase">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.plot_phase.</span></span><span class="sig-name descname"><span class="pre">load_avg_phase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.plot_phase.load_avg_phase" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>station</strong> (<em>string</em>) – 4 character ID, lowercase</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>avg_exist</strong> (<em>boolean</em>)</p></li>
<li><p><strong>avg_date</strong> (<em>??</em>)</p></li>
<li><p><strong>avg_phase</strong> (<em>??</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.plot_phase.load_sat_phase">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.plot_phase.</span></span><span class="sig-name descname"><span class="pre">load_sat_phase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.plot_phase.load_sat_phase" title="Permalink to this definition"></a></dt>
<dd><p>given station name and frequency, pick up the phase data from local results section
return to main code whether dataexist, and np arrays of year, doy, hr, phase, azdata, ssat</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – four character</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>year_end</strong> (<em>integer</em>) – </p></li>
<li><p><strong>freq</strong> (<em>integer</em>) – GPS frequency (1,20)</p></li>
<li><p><strong>amplitudes</strong> (<em>return reflector heights and</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.plot_phase.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.plot_phase.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.plot_phase.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.plot_phase.normAmp">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.plot_phase.</span></span><span class="sig-name descname"><span class="pre">normAmp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basepercent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.plot_phase.normAmp" title="Permalink to this definition"></a></dt>
<dd><p>emulated amp_normK code from PBO H2O
inputs are the amplitudes  and a percentage
used to define the bottom level. returns
normalized amplitudes
this is meant to be used by individual tracks (I think)
in this case they are the top values, not the bottom … ugh</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.plot_phase.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.plot_phase.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.plot_phase.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.plot_phase.plot_phase">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.plot_phase.</span></span><span class="sig-name descname"><span class="pre">plot_phase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt2screen</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">screenstats</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_req_pts_track</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.plot_phase.plot_phase" title="Permalink to this definition"></a></dt>
<dd><p>Code to pick up phase results, make quadrant plots, daily average files and converts to volumetric water content (VWC).
Parameters:
___________
station : string</p>
<blockquote>
<div><p>4 character ID of the station</p>
</div></blockquote>
<dl class="simple">
<dt>year<span class="classifier">integer</span></dt><dd><p>Year</p>
</dd>
<dt>year_end<span class="classifier">integer</span></dt><dd><p>Day of year</p>
</dd>
<dt>fr<span class="classifier">integer, optional</span></dt><dd><p>GNSS frequency. Currently only supports l2c.
Default is 20 (l2c)</p>
</dd>
<dt>sat: integer, optional</dt><dd><p>Satellite number.
Default is None</p>
</dd>
<dt>plt2screen: boolean, optional</dt><dd><p>Whether to produce plots to the screen.
Default is True</p>
</dd>
<dt>min_req_pts_track<span class="classifier">integer</span></dt><dd><p>how many points needed to keep a satellite track
default is 50</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>Returns two files</em></p></li>
<li><p><em>- Returns daily phase results in a file at $REFL_CODE/&lt;year&gt;/phase/&lt;station&gt;_phase.txt</em> –    with columns: Year DOY Ph Phsig NormA MM DD</p>
<ul>
<li><dl class="simple">
<dt>Returns the VWC results in a file at $$REFL_CODE/&lt;year&gt;/phase/&lt;station&gt;_vwc.txt</dt><dd><p>with columns: FracYr Year DOY  VWC Month Day</p>
</dd>
</dl>
</li>
</ul>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gnssrefl.plot_results">
<span id="gnssrefl-plot-results-module"></span><h2>gnssrefl.plot_results module<a class="headerlink" href="#module-gnssrefl.plot_results" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.plot_results.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.plot_results.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.plot_results.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.prn2gps">
<span id="gnssrefl-prn2gps-module"></span><h2>gnssrefl.prn2gps module<a class="headerlink" href="#module-gnssrefl.prn2gps" title="Permalink to this heading"></a></h2>
<p>author: kristine larson
prn to gps conversion script
gps number also known as SVN</p>
<p>some of these functions are no longer called.</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.prn2gps.download_prn_gps">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.prn2gps.</span></span><span class="sig-name descname"><span class="pre">download_prn_gps</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.prn2gps.download_prn_gps" title="Permalink to this definition"></a></dt>
<dd><p>try to download a file from JPL …</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.prn2gps.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.prn2gps.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.prn2gps.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.prn2gps.read_jpl_file">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.prn2gps.</span></span><span class="sig-name descname"><span class="pre">read_jpl_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.prn2gps.read_jpl_file" title="Permalink to this definition"></a></dt>
<dd><p>send filename with prn gps conversion info</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.prn2gps.read_jpl_pickle_file">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.prn2gps.</span></span><span class="sig-name descname"><span class="pre">read_jpl_pickle_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.prn2gps.read_jpl_pickle_file" title="Permalink to this definition"></a></dt>
<dd><p>read in PRN_GPS info</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.prn2gps.write_jpl_pickle_file">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.prn2gps.</span></span><span class="sig-name descname"><span class="pre">write_jpl_pickle_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tv</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.prn2gps.write_jpl_pickle_file" title="Permalink to this definition"></a></dt>
<dd><p>write out PRN_GPS info</p>
</dd></dl>

</section>
<section id="module-gnssrefl.query_unr">
<span id="gnssrefl-query-unr-module"></span><h2>gnssrefl.query_unr module<a class="headerlink" href="#module-gnssrefl.query_unr" title="Permalink to this heading"></a></h2>
<p>extracts coordinates for stations that were in the UNR
database (when I downloaded it ;-)
input four character station name, lowercase</p>
<p>2021 November 2
modified to use UNR database. Downloads it if you don’t have it.</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.query_unr.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.query_unr.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.query_unr.main" title="Permalink to this definition"></a></dt>
<dd><p>command line interface for query_unr</p>
</dd></dl>

</section>
<section id="module-gnssrefl.quickLook">
<span id="gnssrefl-quicklook-module"></span><h2>gnssrefl.quickLook module<a class="headerlink" href="#module-gnssrefl.quickLook" title="Permalink to this heading"></a></h2>
<p>author: kristine m. larson
wrapper for the quickLook function code
#</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.quickLook.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.quickLook.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.quickLook.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.quickLook_cl">
<span id="gnssrefl-quicklook-cl-module"></span><h2>gnssrefl.quickLook_cl module<a class="headerlink" href="#module-gnssrefl.quickLook_cl" title="Permalink to this heading"></a></h2>
<p>author: kristine m. larson
quickLook command line function
#</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.quickLook_cl.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.quickLook_cl.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.quickLook_cl.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.quickLook_cl.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.quickLook_cl.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.quickLook_cl.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.quickLook_cl.quicklook">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.quickLook_cl.</span></span><span class="sig-name descname"><span class="pre">quicklook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">66</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ampl</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">7.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">6.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peak2noise</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">3.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">screenstats</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fortran</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pltscreen</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">360.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.quickLook_cl.quicklook" title="Permalink to this definition"></a></dt>
<dd><dl>
<dt>station<span class="classifier">string</span></dt><dd><p>4 or 9 character ID of the station</p>
</dd>
<dt>year<span class="classifier">integer</span></dt><dd><p>Year</p>
</dd>
<dt>doy<span class="classifier">integer</span></dt><dd><p>Day of year</p>
</dd>
<dt>snr<span class="classifier">integer, optional</span></dt><dd><p>SNR format. This tells the code what elevation angles to save data for. Will be the snr file ending.
value options:</p>
<blockquote>
<div><p>66 (default) : saves all data with elevation angles less than 30 degress
99 : saves all data with elevation angles between 5 and 30 degrees
88 : saves all data with elevation angles between 5 and 90 degrees
50 : saves all data with elevation angles less than 10 degrees</p>
</div></blockquote>
</dd>
<dt>f<span class="classifier">integer, optional</span></dt><dd><p>GNSS frequency.
value options:</p>
<blockquote>
<div><p>1 (default) : GPS L1
2 : GPS L2
20 : GPS L2C
5 : GPS L5
101 : GLONASS L1
102 : GLONASS L2
201 : GALILEO E1
205 : GALILEO E5a
206 : GALILEO E6
207 : GALILEO E5b
208 : GALILEO E5
302 : BEIDOU B1
306 : BEIDOU B3
307 : BEIDOU B2</p>
</div></blockquote>
<dl class="simple">
<dt>reqAmp<span class="classifier">array_like, optional</span></dt><dd><p>Lomb-Scargle Periodogram (LSP) amplitude significance criterion in volts/volts.
Default is [7].</p>
</dd>
<dt>e1<span class="classifier">integer, optional</span></dt><dd><p>elevation angle lower limit in degrees for the LSP.
default is 5.</p>
</dd>
<dt>e2: integer, optional</dt><dd><p>elevation angle upper limit in degrees for the LSP.
default is 25.</p>
</dd>
<dt>h1<span class="classifier">float, optional</span></dt><dd><p>The allowed LSP reflector height lower limit in meters.
default is 0.5.</p>
</dd>
<dt>h2<span class="classifier">float, optional</span></dt><dd><p>The allowed LSP reflector height upper limit in meters.
default is 6.</p>
</dd>
<dt>sat<span class="classifier">array_like, optional</span></dt><dd><p>list of satellites numbers
default is None.
array items: integer</p>
</dd>
<dt>peak2noise<span class="classifier">integer, optional</span></dt><dd><p>peak to noise ratio of the periodogram values (periodogram peak divided by the periodogram noise).
peak to noise value is one way of defining that significance (not the only way).
For snow and ice, 3.5 or greater, tides can be tricky if the water is rough (and thus
you might go below 3 a bit, say 2.5-2.7
default is 3.</p>
</dd>
<dt>screenstats<span class="classifier">boolean, optional</span></dt><dd><p>Whether to print stats to the screen.
default is False.</p>
</dd>
<dt>pltscreen<span class="classifier">boolean, optional</span></dt><dd><p>Whether to print plots to the screen.
default is True.</p>
</dd>
<dt>azim1<span class="classifier">float, optional</span></dt><dd><p>minimum azimuth angle (deg)
default is 0.</p>
</dd>
<dt>azim2<span class="classifier">float, optional</span></dt><dd><p>maximum azimuth angle (deg)
default is 360.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gnssrefl.quickLook_function">
<span id="gnssrefl-quicklook-function-module"></span><h2>gnssrefl.quickLook_function module<a class="headerlink" href="#module-gnssrefl.quickLook_function" title="Permalink to this heading"></a></h2>
<p>called by quickLook_cl.py
quickLook functions - consolidated snr reader (previously in a separate file)</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.quickLook_function.goodbad">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.quickLook_function.</span></span><span class="sig-name descname"><span class="pre">goodbad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">PkNoise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reqAmp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.quickLook_function.goodbad" title="Permalink to this definition"></a></dt>
<dd><p>simple visualizer of “good” and “bad” azimuths
input is a filename, the station name, and the min and max RH
and the peak to noise, required amplitude criteria, and frequency used
should not even call this code if there are no data.  need to fix this
author: kristine larson</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.quickLook_function.quickLook_function">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.quickLook_function.</span></span><span class="sig-name descname"><span class="pre">quickLook_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minH</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxH</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reqAmp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pele</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">satsel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">PkNoise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fortran</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pltscreen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.quickLook_function.quickLook_function" title="Permalink to this definition"></a></dt>
<dd><p>parameters:
station : string</p>
<blockquote>
<div><p>name (4 char)</p>
</div></blockquote>
<p>year : integer</p>
<dl class="simple">
<dt>doy<span class="classifier">integer</span></dt><dd><p>day of year</p>
</dd>
<dt>snr_type<span class="classifier">integer</span></dt><dd><p>snr file extension (i.e. 99, 66 etc)</p>
</dd>
<dt>f<span class="classifier">integer</span></dt><dd><p>frequency (1, 2, 5), etc</p>
</dd>
<dt>e1<span class="classifier">float</span></dt><dd><p>minimum elevation angle in degrees</p>
</dd>
<dt>e2<span class="classifier">float</span></dt><dd><p>maximum elevation angle in degrees</p>
</dd>
<dt>minH<span class="classifier">float</span></dt><dd><p>minimum allowed reflector height in meters</p>
</dd>
<dt>maxH<span class="classifier">float</span></dt><dd><p>maximum allowed reflector height in meters</p>
</dd>
</dl>
<p>reqAmp is LSP amplitude significance criterion</p>
<p>pele is the elevation angle limits for the polynomial removal.  units: degrees</p>
<p>satsel</p>
<dl class="simple">
<dt>PkNoise<span class="classifier">float</span></dt><dd><p>peak to noise ratio for QC</p>
</dd>
<dt>fortran<span class="classifier">boolean</span></dt><dd><p>whether external fortran translator is being explicitly called.</p>
</dd>
<dt>pltscreen<span class="classifier">boolean</span></dt><dd><p>whether you want plots to the screen</p>
</dd>
<dt>azim1<span class="classifier">float</span></dt><dd><p>minimum azimuth in degrees</p>
</dd>
<dt>azim2<span class="classifier">float</span></dt><dd><p>maximum azimuth in degrees</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.quickLook_function.read_snr_simple">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.quickLook_function.</span></span><span class="sig-name descname"><span class="pre">read_snr_simple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.quickLook_function.read_snr_simple" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obsfile</strong> (<em>str</em>) – name of SNR file</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gnssrefl.quickPhase">
<span id="gnssrefl-quickphase-module"></span><h2>gnssrefl.quickPhase module<a class="headerlink" href="#module-gnssrefl.quickPhase" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.quickPhase.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.quickPhase.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.quickPhase.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.quickPhase.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.quickPhase.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.quickPhase.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.quickPhase.quickphase">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.quickPhase.</span></span><span class="sig-name descname"><span class="pre">quickphase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">66</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'20'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">screenstats</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gzip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.quickPhase.quickphase" title="Permalink to this definition"></a></dt>
<dd><p>quickphase uses the apriori result file to restrict the number of satellite arcs that are used.</p>
<dl>
<dt>station: string</dt><dd><p>4 character ID of the station.</p>
</dd>
<dt>year: integer</dt><dd><p>Year to evaluate.</p>
</dd>
<dt>doy: integer</dt><dd><p>day of year to evaluate.
Default is None.</p>
</dd>
<dt>year_end: integer, optional</dt><dd><p>year to end analysis. Using this option will create a range from year-year_end.
Default is None.</p>
</dd>
<dt>doy_end: integer, optional</dt><dd><p>Day of year to end analysis. Using this option will create a range of doy-doy_end.
If also using year_end, then this will be the day to end analysis in the year_end requested.
Default is None.</p>
</dd>
<dt>snr<span class="classifier">integer, optional</span></dt><dd><p>SNR format. This tells the code what elevation angles are in the SNR file
value options:</p>
<blockquote>
<div><p>66 (default) : data with elevation angles less than 30 degrees
99 : data with elevation angles between 5 and 30 degrees
88 : data with elevation angles between 5 and 90 degrees
50 : data with elevation angles less than 10 degrees</p>
</div></blockquote>
</dd>
<dt>fr<span class="classifier">string, optional</span></dt><dd><p>GNSS frequency. Currently only supports L2C.
Default is 20 (l2c)</p>
</dd>
<dt>e1<span class="classifier">integer, optional</span></dt><dd><p>Elevation angle lower limit in degrees for the LSP.
default is 5</p>
</dd>
<dt>e2: integer, optional</dt><dd><p>Elevation angle upper limit in degrees for the LSP.
default is 30</p>
</dd>
<dt>plot: boolean, optional</dt><dd><p>Whether to plot results.
Default is False</p>
</dd>
<dt>screenstats: boolean, optional</dt><dd><p>Whether to print stats to the screen.
Default is False</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>Saves a file for each day in the doy-doy_end range</strong> (<em>$REFL_CODE/&lt;year&gt;/phase/&lt;station&gt;/&lt;doy&gt;.txt’</em>)</p></li>
<li><p><em>columns in files</em></p></li>
<li><p><em>year doy hour phase nv azimuth sat ampl emin emax delT aprioriRH freq estRH pk2noise LSPAmp</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gnssrefl.quickPhase_function">
<span id="gnssrefl-quickphase-function-module"></span><h2>gnssrefl.quickPhase_function module<a class="headerlink" href="#module-gnssrefl.quickPhase_function" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.quickPhase_function.convert_phase">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.quickPhase_function.</span></span><span class="sig-name descname"><span class="pre">convert_phase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt2screen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polyorder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">99</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.quickPhase_function.convert_phase" title="Permalink to this definition"></a></dt>
<dd><p>conversion from phase to VWC. Using Clara Chew algorithm
from Matlab write_vegcorrect_smc.m
input is the station name</p>
<p><a class="reference external" href="https://scipy-cookbook.readthedocs.io/items/SignalSmooth.html">https://scipy-cookbook.readthedocs.io/items/SignalSmooth.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – </p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>year_end</strong> (<em>integer</em>) – </p></li>
<li><p><strong>plt2screen</strong> (<em>boolean</em>) – plots come to the screen</p></li>
<li><p><strong>fr</strong> (<em>integer</em>) – frequency</p></li>
<li><p><strong>polyorder</strong> (<em>integer</em>) – override on the polynomial order used in leveling</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.quickPhase_function.low_pct">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.quickPhase_function.</span></span><span class="sig-name descname"><span class="pre">low_pct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basepercent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.quickPhase_function.low_pct" title="Permalink to this definition"></a></dt>
<dd><p>emulated amp_normK code from PBO H2O
inputs are the amplitudes  and a percentage
used to define the bottom level. returns
normalized amplitudes
this is meant to be used by individual tracks (I think)
in this case they are the top values, not the bottom … ugh</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.quickPhase_function.phase_tracks">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.quickPhase_function.</span></span><span class="sig-name descname"><span class="pre">phase_tracks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">e2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pele</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">screenstats</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_lsp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.quickPhase_function.phase_tracks" title="Permalink to this definition"></a></dt>
<dd><p>This does the main work of estimating phase and other parameters from the SNR files
it uses tracks that were predefined by the apriori.py code</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>station</em>) – 4 char id, lowercase</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – day of year</p></li>
<li><p><strong>snr_type</strong> (<em>integer</em>) – is the file extension (i.e. 99, 66 etc)</p></li>
<li><p><strong>fr_list</strong> (<em>list of integers</em>) – frequency, [1], [20] or [1,20]</p></li>
<li><p><strong>e1</strong> (<em>float</em>) – min elevation angle (degrees)</p></li>
<li><p><strong>e2</strong> (<em>float</em>) – max elevation angle (degrees)</p></li>
<li><p><strong>pele</strong> (<em>list of floats</em>) – elevation angle limits for the polynomial removal.  units: degrees</p></li>
<li><p><strong>screenstats</strong> (<em>boolean</em>) – whether statistics are printed to the screen</p></li>
<li><p><strong>compute_lsp</strong> (<em>boolean</em>) – this is always true</p></li>
<li><p><strong>allowed</strong> (<em>only GPS frequencies are</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.quickPhase_function.read_apriori_rh">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.quickPhase_function.</span></span><span class="sig-name descname"><span class="pre">read_apriori_rh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.quickPhase_function.read_apriori_rh" title="Permalink to this definition"></a></dt>
<dd><p>read the track dependent a prori reflector heights needed for
phase &amp; thus soil moisture.
:param station: four character ID, lowercase
:type station: string
:param fr: frequency (e.g. 1,20)
:type fr: integer</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>results</strong> – column 2 is RH in meters
column 3 is sat
column 4 is azimuth etc
column 5 is number of values used in average
column 6 is minimum azimuth degrees
column 7 is maximum azimuth degrees</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.quickPhase_function.test_func">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.quickPhase_function.</span></span><span class="sig-name descname"><span class="pre">test_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rh_apriori</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.quickPhase_function.test_func" title="Permalink to this definition"></a></dt>
<dd><p>This is least squares for estimating a sine wave given a fixed frequency, freqLS</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.quickPhase_function.test_func_new">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.quickPhase_function.</span></span><span class="sig-name descname"><span class="pre">test_func_new</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rh_apriori</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.quickPhase_function.test_func_new" title="Permalink to this definition"></a></dt>
<dd><p>This is least squares for estimating a sine wave given a fixed frequency, freqLS</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.quickPhase_function.vwc_plot">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.quickPhase_function.</span></span><span class="sig-name descname"><span class="pre">vwc_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vwcdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.quickPhase_function.vwc_plot" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – </p></li>
<li><p><strong>t_datetime</strong> (<em>datetime</em>) – observations time</p></li>
<li><p><strong>vwcdata</strong> (<em>numpy array of floats</em><em> (</em><em>I think</em><em>)</em>) – volumetric water content</p></li>
<li><p><strong>plot_path</strong> (<em>string</em>) – where to put the plot</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gnssrefl.read_snr_files">
<span id="gnssrefl-read-snr-files-module"></span><h2>gnssrefl.read_snr_files module<a class="headerlink" href="#module-gnssrefl.read_snr_files" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.read_snr_files.compress_snr_files">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.read_snr_files.</span></span><span class="sig-name descname"><span class="pre">compress_snr_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wantCompression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obsfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obsfile2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">TwoDays</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gzip</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.read_snr_files.compress_snr_files" title="Permalink to this definition"></a></dt>
<dd><p>author: kristine larson
inputs boolean (whether you want to compress), whether you have two
days (TwoDays) and file names
nothing is returned
2022april15 allow gzip instead of xz</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.read_snr_files.read_one_snr">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.read_snr_files.</span></span><span class="sig-name descname"><span class="pre">read_one_snr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ifile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.read_snr_files.read_one_snr" title="Permalink to this definition"></a></dt>
<dd><p>input: observation filename
ifile: 1 (primary) or 2 (day before)
output: contents of the file, withe various other metrics
21apr18 eliminate negative elevation angles to be safe
(come from satellites set to bad by JAXa - should not have been written to SNR file)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.read_snr_files.read_snr_multiday">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.read_snr_files.</span></span><span class="sig-name descname"><span class="pre">read_snr_multiday</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obsfile2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">twoDays</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.read_snr_files.read_snr_multiday" title="Permalink to this definition"></a></dt>
<dd><p>author: Kristine Larson
input: SNR observation filenames and a boolean for
whether you want just the first day (twoDays)
output: contents of the SNR file, withe various other metrics</p>
</dd></dl>

</section>
<section id="module-gnssrefl.refraction">
<span id="gnssrefl-refraction-module"></span><h2>gnssrefl.refraction module<a class="headerlink" href="#module-gnssrefl.refraction" title="Permalink to this heading"></a></h2>
<p>written in python from
from original TU Vienna codes for GMF
kristine larson</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.refraction.corr_el_angles">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.refraction.</span></span><span class="sig-name descname"><span class="pre">corr_el_angles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">el_deg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">press</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.refraction.corr_el_angles" title="Permalink to this definition"></a></dt>
<dd><p>inputs are elevation angles (in degrees)
Pressure in hPa and Temperature in degrees C.
outputs are corrected elevation angles (in degrees)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.refraction.gpt2_1w">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.refraction.</span></span><span class="sig-name descname"><span class="pre">gpt2_1w</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dmjd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dlat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dlon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hell</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">it</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.refraction.gpt2_1w" title="Permalink to this definition"></a></dt>
<dd><p>converted by kristine larson from posted TUVienna code
input parameters:
station: station name
dmjd:  modified Julian date (scalar, only one epoch per call is possible)
dlat:  ellipsoidal latitude in radians [-pi/2:+pi/2] (vector)
dlon:  longitude in radians [-pi:pi] or [0:2pi] (vector)
hell:  ellipsoidal height in m (vector)
it:    case 1: no time variation but static quantities</p>
<blockquote>
<div><p>case 0: with time variation (annual and semiannual terms)</p>
</div></blockquote>
<p>output parameters:
p:    pressure in hPa
T:    temperature in degrees Celsius
dT:   temperature lapse rate in degrees per km
Tm:   mean temperature of the water vapor in degrees Kelvin
e:    water vapor pressure in hPa
ah:   hydrostatic mapping function coefficient at zero height (VMF1)
aw:   wet mapping function coefficient (VMF1)
la:   water vapor decrease factor
undu: geoid undulation in m</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.refraction.look_for_pickle_file">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.refraction.</span></span><span class="sig-name descname"><span class="pre">look_for_pickle_file</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.refraction.look_for_pickle_file" title="Permalink to this definition"></a></dt>
<dd><p>latest attempt to solve this dilema</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.refraction.readWrite_gpt2_1w">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.refraction.</span></span><span class="sig-name descname"><span class="pre">readWrite_gpt2_1w</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site_lat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">site_lon</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.refraction.readWrite_gpt2_1w" title="Permalink to this definition"></a></dt>
<dd><p>makes a grid for refraction correction
xdir - directory for output
station name
lat and lon in degrees (NOT RADIANS)
kristine m. larson</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.refraction.read_4by5">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.refraction.</span></span><span class="sig-name descname"><span class="pre">read_4by5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dlat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dlon</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hell</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.refraction.read_4by5" title="Permalink to this definition"></a></dt>
<dd><p>author: kristine m. larson
input station name (4 char), lat,long,elevation in deg/deg/meters
requires that an environment variable exists for REFL_CODE</p>
</dd></dl>

</section>
<section id="module-gnssrefl.rinex2snr">
<span id="gnssrefl-rinex2snr-module"></span><h2>gnssrefl.rinex2snr module<a class="headerlink" href="#module-gnssrefl.rinex2snr" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.constants">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr.</span></span><span class="sig-name descname"><span class="pre">constants</span></span><a class="headerlink" href="#gnssrefl.rinex2snr.constants" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.constants.c">
<span class="sig-name descname"><span class="pre">c</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">299792458</span></em><a class="headerlink" href="#gnssrefl.rinex2snr.constants.c" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.constants.mu">
<span class="sig-name descname"><span class="pre">mu</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">398600500000000.0</span></em><a class="headerlink" href="#gnssrefl.rinex2snr.constants.mu" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.constants.omegaEarth">
<span class="sig-name descname"><span class="pre">omegaEarth</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">7.2921151467e-05</span></em><a class="headerlink" href="#gnssrefl.rinex2snr.constants.omegaEarth" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.conv2snr">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr.</span></span><span class="sig-name descname"><span class="pre">conv2snr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orbtype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">receiverrate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archive</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fortran</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translator</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr.conv2snr" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – day of year</p></li>
<li><p><strong>option</strong> (<em>integer</em>) – snr choice (66, 99 etc)</p></li>
<li><p><strong>orbtype</strong> (<em>string</em>) – orbit source (nav, gps, gnss, etc)</p></li>
<li><p><strong>receiverrate</strong> (<em>integer</em>) – sampling interval of the GPS receiver, e.g. 1, 30, 15</p></li>
<li><p><strong>dec_rate</strong> (<em>integer</em>) – decimation value to reduce file size</p></li>
<li><p><strong>archive</strong> (<em>string</em>) – location of the rinex files</p></li>
<li><p><strong>fortran</strong> (<em>boolean</em>) – whether fortran translator to be used.  this is here for backwards compatability</p></li>
<li><p><strong>translator</strong> (<em>string</em>) – hybrid, python, or fortran</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.elev_limits">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr.</span></span><span class="sig-name descname"><span class="pre">elev_limits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snroption</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr.elev_limits" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>snroption</strong> (<em>integer</em>) – snr file delimeter</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>emin</strong> (<em>float</em>) – minimum elevation angle (degrees)</p></li>
<li><p><strong>emax</strong> (<em>float</em>) – maximum elevation angle (degrees)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.extract_snr">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr.</span></span><span class="sig-name descname"><span class="pre">extract_snr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">con</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obslist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obsdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prntoidx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_ij</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr.extract_snr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.go_from_crxgz_to_rnx">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr.</span></span><span class="sig-name descname"><span class="pre">go_from_crxgz_to_rnx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c3gz</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr.go_from_crxgz_to_rnx" title="Permalink to this definition"></a></dt>
<dd><p>sent a gzipped hatanaka file.  gunzip, hatanaka translate
checks to see if the rnx version exists and returns that
and the filename</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.navorbits">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr.</span></span><span class="sig-name descname"><span class="pre">navorbits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">navfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstimes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observationdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obslist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prntoidx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpssatlist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s1exist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2exist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s5exist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">East</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">North</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr.navorbits" title="Permalink to this definition"></a></dt>
<dd><p>parameters :</p>
<p>navfile : string</p>
<p>obstimes : ??</p>
<p>observationdata :</p>
<p>obslist :</p>
<p>prn2oidx :</p>
<p>gpssatlist :</p>
<p>snrfile :</p>
<p>s1exist :</p>
<p>s2exist :</p>
<p>s5exist :</p>
<p>This is for GPS only files !
navfile is nav broadcast ephemeris in RINEX format
inputs are rinex info, obstimes, observationdata,prntoidx,gpssatlist
various bits about SNR existence
snrfile is output name
log is for screen outputs - now going to a file</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.quickname">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr.</span></span><span class="sig-name descname"><span class="pre">quickname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cyy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cdoy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csnr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr.quickname" title="Permalink to this definition"></a></dt>
<dd><p>returns location of a SNR file
:param station: station name, 4 character
:type station: string
:param year:
:type year: integer
:param cyy:
:type cyy: string
:param cdoy:
:type cdoy: string
:param csnr:
:type csnr: string</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>fname</strong> – filename</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.readSNRval">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr.</span></span><span class="sig-name descname"><span class="pre">readSNRval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1exist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2exist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s5exist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observationdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prntoidx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr.readSNRval" title="Permalink to this definition"></a></dt>
<dd><p>what it looks like
only reads GPS data for now
interface between Joakim’s code and mine …
Parameters :
———–
s1exist : boolean</p>
<p>s2exist : boolean</p>
<p>s5exist : boolean</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.rnx2snr">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr.</span></span><span class="sig-name descname"><span class="pre">rnx2snr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">navfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snroption</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr.rnx2snr" title="Permalink to this definition"></a></dt>
<dd><p>inputs are obsfile - RINEX 2.11
navfile, which can be nav message or sp3 file
snrfile: where the results go
snroption: integer
year,month,day:  what it sounds like, integer
dec_rate: integer I think, decimation rate. For fortran users, this is done with teqc</p>
<p>no output - the output is the snrfile that is created</p>
<p>This only works for rinex v2.11.
Kristine M. Larson August 2020
This relies on Joakim’s rinex reading code</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.run_rinex2snr">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr.</span></span><span class="sig-name descname"><span class="pre">run_rinex2snr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isnr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orbtype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archive</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fortran</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">srate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mk</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'R'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr.run_rinex2snr" title="Permalink to this definition"></a></dt>
<dd><p>main code to convert RINEX files into SNR</p>
<dl class="simple">
<dt>station: string</dt><dd><p>4 or 9 character station name</p>
</dd>
</dl>
<p>year_list list of years to be analyzed</p>
<p>doy_list list of doy to be analyzed</p>
<dl class="simple">
<dt>isnr: integer</dt><dd><p>SNR file type choice</p>
</dd>
<dt>orbtype: string</dt><dd><p>3 character orbit type, e.g. nav</p>
</dd>
<dt>rate<span class="classifier">string</span></dt><dd><dl class="simple">
<dt>general sample rate.</dt><dd><p>high: use 1-Hz area in the archive
low: use default area in the archive</p>
</dd>
</dl>
</dd>
<dt>dec_rate<span class="classifier">integer</span></dt><dd><p>decimation value</p>
</dd>
<dt>archive<span class="classifier">string</span></dt><dd><p>choice of GNSS archive</p>
</dd>
<dt>fortran<span class="classifier">boolean</span></dt><dd><p>whether the fortran rinex translator is to be used
default: false</p>
</dd>
<dt>nol: boolean</dt><dd><p>True: assumes RINEX files are in local directory
False (default): will look at multiple - or specific archive</p>
</dd>
<dt>overwrite: boolean</dt><dd><p>False (default): if SNR file exists, SNR file not made
True: make a new SNR file</p>
</dd>
<dt>translator<span class="classifier">string</span></dt><dd><p>hybrid (default), fortran, or python
hybrid uses fortran within the python code</p>
</dd>
<dt>srate: integer</dt><dd><p>sample rate for RINEX 3 files</p>
</dd>
</dl>
<p>mk = makan option</p>
<p>skipit = skips making files every day, so a value of 7 means weekly.  1 means do every day</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.satorb">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr.</span></span><span class="sig-name descname"><span class="pre">satorb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">week</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sec_of_week</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ephem</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr.satorb" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>week</strong> (<em>integer</em>) – GPS week</p></li>
<li><p><strong>sec_of_week</strong> (<em>float</em>) – GPS seconds of the week</p></li>
<li><p><strong>ephem</strong> (<em>ephemeris block</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>numpy array</em> – the x,y,z, coordinates of the satellite in meters</p></li>
<li><p><em>and relativity correction (also in meters), so you add,</em></p></li>
<li><p><em>not subtract</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.satorb_prop">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr.</span></span><span class="sig-name descname"><span class="pre">satorb_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">week</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secweek</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rrec0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closest_ephem</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr.satorb_prop" title="Permalink to this definition"></a></dt>
<dd><p>Calculates and returns geometric range (in metres) given
time (week and sec of week), prn, receiver coordinates (cartesian, meters)
this assumes someone was nice enough to send you the closest ephemeris
returns the satellite coordinates as well, so you can use htem
in the A matrix
paramters :
week : integer</p>
<blockquote>
<div><p>GPS week</p>
</div></blockquote>
<dl class="simple">
<dt>secweek<span class="classifier">integer</span></dt><dd><p>GPS second of the week</p>
</dd>
<dt>prn<span class="classifier">integer</span></dt><dd><p>satellite number</p>
</dd>
<dt>rrec0<span class="classifier">3vector</span></dt><dd><p>receiver coordinates, meters</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.satorb_prop_sp3">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr.</span></span><span class="sig-name descname"><span class="pre">satorb_prop_sp3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iX</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iY</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iZ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Tp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ij</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr.satorb_prop_sp3" title="Permalink to this definition"></a></dt>
<dd><p>for satellite number prn
and receiver coordinates rrec0
find the x,y,z coordinates at time secweek
:param iX:
:type iX: float
:param iY:
:type iY: float
:param iZ:
:type iZ: float
:param recv:
:type recv: 3 vector, float</p>
<p>sp3 has the orbit information in it</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.test_sp3">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr.</span></span><span class="sig-name descname"><span class="pre">test_sp3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gpstime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sp3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">systemsatlists</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obsdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstypes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prntoidx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">East</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">North</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr.test_sp3" title="Permalink to this definition"></a></dt>
<dd><p>inputs are gpstime( numpy array with week and sow)
sp3 is what has been read from the sp3 file
columsn are satNu, week, sow, x, y, z (in meters)
log is for comments</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.testing_sp3">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr.</span></span><span class="sig-name descname"><span class="pre">testing_sp3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gpstime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sp3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">systemsatlists</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obsdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstypes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prntoidx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">East</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">North</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr.testing_sp3" title="Permalink to this definition"></a></dt>
<dd><p>inputs are gpstime( numpy array with week and sow)
sp3 is what has been read from the sp3 file
columsn are satNu, week, sow, x, y, z (in meters)
log is for comments</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.testit">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr.</span></span><span class="sig-name descname"><span class="pre">testit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr.testit" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr.the_makan_option">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr.</span></span><span class="sig-name descname"><span class="pre">the_makan_option</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cyyyy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cyy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cdoy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr.the_makan_option" title="Permalink to this definition"></a></dt>
<dd><p>this ugly looking code checks a bazillion versions of RINEX versions
(Z, gz, regular, hatanaka) both in the working directory and in an external rinex area
$REFL_CODE/rinex/station/year</p>
<p>turns whatever it finds into a regular RINEX file in the working directory
that file WILL be deleted, but it will not delete those stored externally.</p>
</dd></dl>

</section>
<section id="module-gnssrefl.rinex2snr_cl">
<span id="gnssrefl-rinex2snr-cl-module"></span><h2>gnssrefl.rinex2snr_cl module<a class="headerlink" href="#module-gnssrefl.rinex2snr_cl" title="Permalink to this heading"></a></h2>
<p>command line tool for the rinex2snr module
pretty much what it sounds like - it translates rinex files and makes SNR files
kristine larson
2021aug01 added mk option for uppercase file names</p>
<p>compile the fortran first
f2py -c -m gnssrefl.gpssnr gnssrefl/gpssnr.f</p>
<p>2022feb15 added karnak_sub for rinex3</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr_cl.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr_cl.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr_cl.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr_cl.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr_cl.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr_cl.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex2snr_cl.rinex2snr">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex2snr_cl.</span></span><span class="sig-name descname"><span class="pre">rinex2snr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">66</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'nav'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'low'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fortran</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nolook</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">translator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'hybrid'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samplerate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'R'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mk</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weekly</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cddis_offline</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex2snr_cl.rinex2snr" title="Permalink to this definition"></a></dt>
<dd><p>rinex2snr translates RINEX files to an SNR format. This function will fetch orbit files for you.</p>
<dl>
<dt>station<span class="classifier">string</span></dt><dd><p>4 or 9 character ID of the station</p>
</dd>
<dt>year<span class="classifier">integer</span></dt><dd><p>Year</p>
</dd>
<dt>doy<span class="classifier">integer</span></dt><dd><p>Day of year</p>
</dd>
<dt>snr<span class="classifier">integer, optional</span></dt><dd><p>SNR format. This tells the code what elevation angles to save data for. Will be the snr file ending.
value options:</p>
<blockquote>
<div><p>66 (default) : saves all data with elevation angles less than 30 degrees
99 : saves all data with elevation angles between 5 and 30 degrees
88 : saves all data with elevation angles between 5 and 90 degrees
50 : saves all data with elevation angles less than 10 degrees</p>
</div></blockquote>
</dd>
<dt>orb<span class="classifier">string, optional</span></dt><dd><p>Which orbit files to download.
value options:
gps (default) : will use GPS broadcast orbit
gps+glos : will use JAXA orbits which have GPS and Glonass (usually available in 48 hours)
gnss : will use GFZ orbits, which is multi-GNSS (available in 3-4 days?)
nav : GPS broadcast, perfectly adequate for reflectometry.
igs : IGS precise, GPS only
igr : IGS rapid, GPS only
jax : JAXA, GPS + Glonass, within a few days, missing block III GPS satellites
gbm : GFZ Potsdam, multi-GNSS, not rapid
grg : French group, GPS, Galileo and Glonass, not rapid
esa : ESA, multi-GNSS
gfr : GFZ rapid, GPS, Galileo and Glonass, since May 17 2021
wum : (disabled) Wuhan, multi-GNSS, not rapid</p>
</dd>
<dt>rate<span class="classifier">string, optional</span></dt><dd><p>The data rate
value options:</p>
<blockquote>
<div><p>low (default) : standard rate data
high : high rate data</p>
</div></blockquote>
</dd>
<dt>dec<span class="classifier">integer, optional</span></dt><dd><p>Decimation rate. 0 is default.</p>
</dd>
<dt>fortran<span class="classifier">boolean, optional</span></dt><dd><p>Whether to use fortran to translate the rinex files. Note: This option requires Fortran RINEX translators.
Please see documentation at <a class="reference external" href="https://github.com/kristinemlarson/gnssrefl">https://github.com/kristinemlarson/gnssrefl</a> to see instructions to get these.
value options:</p>
<blockquote>
<div><p>False (default) : does not use fortran to translate rinex
True : uses fortran to translate rinex</p>
</div></blockquote>
</dd>
<dt>nolook<span class="classifier">boolean, optional</span></dt><dd><p>This parameter tells the code not to get the rinex files online if the files exist locally already.
default is False.</p>
</dd>
<dt>archive<span class="classifier">string, optional</span></dt><dd><p>Select which archive to get the files from.
Default is None. None means that the code will search and find an archive with the data for you.
value options:</p>
<blockquote>
<div><p>unavco (University Navstar Consortium)
sonel (global sea level observing system)
sopac (Scripps Orbit and Permanent Array Center)
cddis (NASA’s Archive of Space Geodesy Data)
ngs (National Geodetic Survey)
nrcan (Natural Resources Canada)
bkg (German Agency for Cartography and Geodesy)
nz (GNS, New Zealand)
ga (Geoscience Australia)
bev (Austria Federal Office of Metrology and Surveying)
bfg (German Agency for water research, only Rinex 3, requires password)
jp (GSI, requires password)
jeff (My good friend Professor Freymueller!)
special (set aside files at UNAVCO)
all</p>
</div></blockquote>
</dd>
<dt>doy_end<span class="classifier">int, optional</span></dt><dd><p>end day of year to be downloaded. This is to create a range from doy to doy_end of days to get the snr files.
If year_end parameter is used - then day_end will end in the day of the year_end.
Default is None. (meaning only a single day using the doy parameter)</p>
</dd>
<dt>year_end<span class="classifier">int, optional</span></dt><dd><p>end year. This is to create a range from year to year_end to get the snr files for more than one year.
Default is None.</p>
</dd>
<dt>overwrite<span class="classifier">boolean, optional</span></dt><dd><p>Make a new SNR file even if one already exists (overwrite existing file).
Default is False.</p>
</dd>
<dt>translator<span class="classifier">string, optional</span></dt><dd><p>hybrid (default) : uses a combination of python and fortran to translate the files.
fortran : uses fortran to translate (requires the fortran translator executable - see <a class="reference external" href="https://github.com/kristinemlarson/gnssrefl">https://github.com/kristinemlarson/gnssrefl</a>)
python : uses python to translate. (Warning: This can be very slow)</p>
</dd>
<dt>srate<span class="classifier">int, optional</span></dt><dd><p>sample rate for rinex 3 only
Default is 30.</p>
</dd>
<dt>mk<span class="classifier">boolean, optional</span></dt><dd><p>The Makan option. Use True for uppercase station names.
Default is False.</p>
</dd>
<dt>weekly<span class="classifier">boolean, optional</span></dt><dd><p>Takes 1 out of every 7 days in the doy-doy_end range (one file per week) - used to save time.
Default is False.</p>
</dd>
<dt>cddis_offline: boolean, optional</dt><dd><p>alert the system if CDDIS is failing</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gnssrefl.rinex3_rinex2">
<span id="gnssrefl-rinex3-rinex2-module"></span><h2>gnssrefl.rinex3_rinex2 module<a class="headerlink" href="#module-gnssrefl.rinex3_rinex2" title="Permalink to this heading"></a></h2>
<p>Translates rinex3 to rinex2
relies on gfzrnx</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex3_rinex2.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex3_rinex2.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex3_rinex2.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.rinex3_snr">
<span id="gnssrefl-rinex3-snr-module"></span><h2>gnssrefl.rinex3_snr module<a class="headerlink" href="#module-gnssrefl.rinex3_snr" title="Permalink to this heading"></a></h2>
<p>Translates rinex3 to rinex2 to snr -
so saves some time ….
this is only for people that HAVE the files on disk
author: kristine larson
Updated: November 14, 2021
This only works on a single file (no doy_end)
It also uses my convention for naming (lowercase) and it does not
store the Rinex2 files</p>
<p>I think this has more or less been superceded by rinex3_rinex2
thought I guess it does have the extra step of making a SNR file …
but that should not matter since rinex2snr allows Rinex 3 files</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinex3_snr.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinex3_snr.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinex3_snr.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.rinpy">
<span id="gnssrefl-rinpy-module"></span><h2>gnssrefl.rinpy module<a class="headerlink" href="#module-gnssrefl.rinpy" title="Permalink to this heading"></a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="gnssrefl.rinpy.RinexError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gnssrefl.rinpy.</span></span><span class="sig-name descname"><span class="pre">RinexError</span></span><a class="headerlink" href="#gnssrefl.rinpy.RinexError" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinpy.getrinexversion">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinpy.</span></span><span class="sig-name descname"><span class="pre">getrinexversion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinpy.getrinexversion" title="Permalink to this definition"></a></dt>
<dd><p>Scan the file for RINEX version number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – Filename of the rinex file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>version</strong> – Version number.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinpy.loadrinexfromnpz">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinpy.</span></span><span class="sig-name descname"><span class="pre">loadrinexfromnpz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">npzfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinpy.loadrinexfromnpz" title="Permalink to this definition"></a></dt>
<dd><p>Load data previously stored in npz-format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>npzfile</strong> (<em>str</em>) – Path to the stored data.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>observationdata, satlists, prntoidx, obstypes, header, obstimes</strong> – Data in the same format as returned by processrinexfile</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinpy.mergerinexfiles">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinpy.</span></span><span class="sig-name descname"><span class="pre">mergerinexfiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filelist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinpy.mergerinexfiles" title="Permalink to this definition"></a></dt>
<dd><p>Process several rinexfiles and merges them into one file.</p>
<p>Can be used to for example merge several rinexfiles from the same day to a single file. All files must be from the
same receiver and have the same version. No guarantees are given if files are from different receivers.</p>
<p>!!! Currently only functional for RINEX3. !!!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – Filename of the rinex file</p></li>
<li><p><strong>savefile</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of file to save data to. If supplied the data is saved to a compressed npz file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>observationdata</strong> (<em>dict</em>) – Dict with a nobs x nsats x nobstypes nd-array for each satellite constellation containing the measurements. The
keys of the dict correspond to the systemletter as used in RINEX files (G for GPS, R for GLONASS, etc).</p>
<p>nobs is the number of observations in the RINEX data, nsats the number of visible satellites for the particular
system during the whole measurement period, and nobstypes is the number of different properties recorded.</p>
</li>
<li><p><strong>satlists</strong> (<em>dict</em>) – Dict containing the full list of visible satellites during the whole measurement period for each satellite
constellation.</p></li>
<li><p><strong>prntoidx</strong> (<em>dict</em>) – Dict which for each constellation contains a dict which translates the PRN number into the index of the
satellite in the observationdata array.</p></li>
<li><p><strong>obstypes</strong> (<em>dict</em>) – Dict containing the observables recorded for each satellite constellation.</p></li>
<li><p><strong>header</strong> (<em>dict</em>) – Dict containing the header information from the first RINEX file.</p></li>
<li><p><strong>obstimes</strong> (<em>list[datetime.datetime]</em>) – List of time of measurement for each measurement epoch.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinpy.processrinexfile">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinpy.</span></span><span class="sig-name descname"><span class="pre">processrinexfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinpy.processrinexfile" title="Permalink to this definition"></a></dt>
<dd><p>Process a RINEX file into python format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – Filename of the rinex file</p></li>
<li><p><strong>savefile</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of file to save data to. If supplied the data is saved to a compressed npz file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>observationdata</strong> (<em>dict</em>) – Dict with a nobs x nsats x nobstypes nd-array for each satellite constellation containing the measurements. The
keys of the dict correspond to the systemletter as used in RINEX files (G for GPS, R for GLONASS, etc).</p>
<p>nobs is the number of observations in the RINEX data, nsats the number of visible satellites for the particular
system during the whole measurement period, and nobstypes is the number of different properties recorded.</p>
</li>
<li><p><strong>satlists</strong> (<em>dict</em>) – Dict containing the full list of visible satellites during the whole measurement period for each satellite
constellation.</p></li>
<li><p><strong>prntoidx</strong> (<em>dict</em>) – Dict which for each constellation contains a dict which translates the PRN number into the index of the
satellite in the observationdata array.</p></li>
<li><p><strong>obstypes</strong> (<em>dict</em>) – Dict containing the observables recorded for each satellite constellation.</p></li>
<li><p><strong>header</strong> (<em>dict</em>) – Dict containing the header information from the RINEX file.</p></li>
<li><p><strong>obstimes</strong> (<em>list[datetime.datetime]</em>) – List of time of measurement for each measurement epoch.</p></li>
<li><p><em>kl august 4, 2020</em></p></li>
<li><p><em>add week and sow</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinpy.readheader">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinpy.</span></span><span class="sig-name descname"><span class="pre">readheader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rinexversion</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinpy.readheader" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinpy.saverinextonpz">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinpy.</span></span><span class="sig-name descname"><span class="pre">saverinextonpz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">savefile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observationdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">satlists</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prntoidx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstypes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstimes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinpy.saverinextonpz" title="Permalink to this definition"></a></dt>
<dd><p>Save data to numpy’s npz format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>savefile</strong> (<em>str</em>) – Path to where to save the data.</p></li>
<li><p><strong>observationdata</strong> (<em>dict</em>) – Data as returned from processrinexfile</p></li>
<li><p><strong>satlists</strong> (<em>dict</em>) – Data as returned from processrinexfile</p></li>
<li><p><strong>prntoidx</strong> (<em>dict</em>) – Data as returned from processrinexfile</p></li>
<li><p><strong>obstypes</strong> (<em>dict</em>) – Data as returned from processrinexfile</p></li>
<li><p><strong>header</strong> (<em>dict</em>) – Data as returned from processrinexfile</p></li>
<li><p><strong>obstimes</strong> (<em>dict</em>) – Data as returned from processrinexfile</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#gnssrefl.rinpy.processrinexfile" title="gnssrefl.rinpy.processrinexfile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">processrinexfile</span></code></a></p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rinpy.separateobservables">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rinpy.</span></span><span class="sig-name descname"><span class="pre">separateobservables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">observationdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstypes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rinpy.separateobservables" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>observationdata</strong> (<em>dict</em>) – Data dict as returned by processrinexfile, or loadrinexfromnpz.</p></li>
<li><p><strong>obstypes</strong> (<em>dict</em>) – Dict with observation types for each system as returned by processrinexfile, or loadrinexfromnpz.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>separatedobservationdata</strong> – Dict for each system where the data for each observable is separated into its own dict. I.e. to access the P1
data for GPS from a RINEX2 file it is only necessary to write <cite>separatedobservationdata[‘G’][‘C1’]</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gnssrefl.rnx2snr">
<span id="gnssrefl-rnx2snr-module"></span><h2>gnssrefl.rnx2snr module<a class="headerlink" href="#module-gnssrefl.rnx2snr" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="gnssrefl.rnx2snr.constants">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gnssrefl.rnx2snr.</span></span><span class="sig-name descname"><span class="pre">constants</span></span><a class="headerlink" href="#gnssrefl.rnx2snr.constants" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.rnx2snr.constants.c">
<span class="sig-name descname"><span class="pre">c</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">299792458</span></em><a class="headerlink" href="#gnssrefl.rnx2snr.constants.c" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.rnx2snr.constants.mu">
<span class="sig-name descname"><span class="pre">mu</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">398600500000000.0</span></em><a class="headerlink" href="#gnssrefl.rnx2snr.constants.mu" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.rnx2snr.constants.omegaEarth">
<span class="sig-name descname"><span class="pre">omegaEarth</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">7.2921151467e-05</span></em><a class="headerlink" href="#gnssrefl.rnx2snr.constants.omegaEarth" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rnx2snr.conv2snr">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rnx2snr.</span></span><span class="sig-name descname"><span class="pre">conv2snr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orbtype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">receiverrate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archive</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fortran</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rnx2snr.conv2snr" title="Permalink to this definition"></a></dt>
<dd><p>inputs: year and day of year (integers) and station name
option is for the snr creation ??? integer or character?
orbtype can be nav or sp3.  if the former, then gpsSNR is used.
if the later, then gnssSNR
what are receiverrate and dec_rate defaults?
this assumes you follow my definitions for where things go,
i.e. REFL_CODE and ORBITS
it currently checks Unavco, SOPAC, and SONEL. I should add CDDIS
author: kristine m. larson
19may20, added decimation
19sep12, I got tired of code crashing for files &gt; 20 observables.  I am thus using teqc
20apr15, xz compression added but also try to streamline it.
20jul10, added arvchive setting. default is ‘all’</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rnx2snr.elev_limits">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rnx2snr.</span></span><span class="sig-name descname"><span class="pre">elev_limits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snroption</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rnx2snr.elev_limits" title="Permalink to this definition"></a></dt>
<dd><p>given Kristine’s snr option, return min and max elevation angles
in degrees
author: kristine larson
2020 august 7</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rnx2snr.extract_snr">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rnx2snr.</span></span><span class="sig-name descname"><span class="pre">extract_snr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">con</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obslist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obsdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prntoidx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_ij</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rnx2snr.extract_snr" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rnx2snr.navorbits">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rnx2snr.</span></span><span class="sig-name descname"><span class="pre">navorbits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">navfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstimes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observationdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obslist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prntoidx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpssatlist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s1exist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2exist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s5exist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">East</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">North</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_rate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rnx2snr.navorbits" title="Permalink to this definition"></a></dt>
<dd><p>This is for GPS only files !
navfile is nav broadcast ephemeris in RINEX format
inputs are rinex info, obstimes, observationdata,prntoidx,gpssatlist
various bits about SNR existence
snrfile is output name</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rnx2snr.readSNRval">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rnx2snr.</span></span><span class="sig-name descname"><span class="pre">readSNRval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1exist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2exist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s5exist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observationdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prntoidx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rnx2snr.readSNRval" title="Permalink to this definition"></a></dt>
<dd><p>what it looks like
only reads GPS data for now
interface between Joakim’s code and mine …
kristine m. larson, july 2019</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rnx2snr.rnx2snr">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rnx2snr.</span></span><span class="sig-name descname"><span class="pre">rnx2snr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obsfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">navfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snroption</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_rate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rnx2snr.rnx2snr" title="Permalink to this definition"></a></dt>
<dd><p>inputs are obsfile - RINEX 2.11
navfile, which can be nav message or sp3 file
snrfile: where the results go
snroption: integer
year,month,day:  what it sounds like, integer
dec_rate: integer I think, decimation rate. For fortran users, this is done with teqc</p>
<p>no output - the output is the snrfile that is created</p>
<p>This only works for rinex v2.11.
Kristine M. Larson August 2020
This relies on Joakim’s rinex reading code</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rnx2snr.satorb">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rnx2snr.</span></span><span class="sig-name descname"><span class="pre">satorb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">week</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sec_of_week</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ephem</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rnx2snr.satorb" title="Permalink to this definition"></a></dt>
<dd><p>inputs are GPS week, seconds of the week, and the appropriate
ephemeris block from the navigation message
returns the x,y,z, coordinates of the satellite
and relativity correction (also in meters), so you add,
not subtract
Kristine Larson, April 2017</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rnx2snr.satorb_prop">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rnx2snr.</span></span><span class="sig-name descname"><span class="pre">satorb_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">week</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secweek</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rrec0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closest_ephem</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rnx2snr.satorb_prop" title="Permalink to this definition"></a></dt>
<dd><p>Calculates and returns geometric range (in metres) given
time (week and sec of week), prn, receiver coordinates (cartesian, meters)
this assumes someone was nice enough to send you the closest ephemeris
returns the satellite coordinates as well, so you can use htem
in the A matrix
Kristine Larson, April 2017</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rnx2snr.satorb_prop_sp3">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rnx2snr.</span></span><span class="sig-name descname"><span class="pre">satorb_prop_sp3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iX</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iY</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iZ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Tp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ij</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rnx2snr.satorb_prop_sp3" title="Permalink to this definition"></a></dt>
<dd><p>for satellite number prn
and receiver coordinates rrec0
find the x,y,z coordinates at time secweek</p>
<p>sp3 has the orbit information in it</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rnx2snr.test_sp3">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rnx2snr.</span></span><span class="sig-name descname"><span class="pre">test_sp3</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gpstime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sp3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">systemsatlists</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obsdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstypes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prntoidx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">emax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">up</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">East</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">North</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_rate</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rnx2snr.test_sp3" title="Permalink to this definition"></a></dt>
<dd><p>inputs are gpstime( numpy array with week and sow)
sp3 is what has been read from the sp3 file
columsn are satNu, week, sow, x, y, z (in meters)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.rnx2snr.testit">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.rnx2snr.</span></span><span class="sig-name descname"><span class="pre">testit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.rnx2snr.testit" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.spline_functions">
<span id="gnssrefl-spline-functions-module"></span><h2>gnssrefl.spline_functions module<a class="headerlink" href="#module-gnssrefl.spline_functions" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.arc_plots">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">arc_plots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lspfigs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrfigs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reflh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pgram</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elvlims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elvt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrdt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azdesc</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.arc_plots" title="Permalink to this definition"></a></dt>
<dd><p>moved these individual plots out of the way
lspfigs :
snrfigs :
reflh :
pgram :
sat :
datet :</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.datetime2gps">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">datetime2gps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.datetime2gps" title="Permalink to this definition"></a></dt>
<dd><p>dt : datetime</p>
<dl class="simple">
<dt>returns</dt><dd><p>gpstime : float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.define_inputfile">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">define_inputfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snr_ending</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.define_inputfile" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>station<span class="classifier">string</span></dt><dd><p>4 ch name of station</p>
</dd>
</dl>
<p>year : integer</p>
<dl class="simple">
<dt>doy<span class="classifier">integer</span></dt><dd><p>day of year</p>
</dd>
<dt>snr_ending<span class="classifier">integer</span></dt><dd><p>file ending, e.g. 66, 99</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>snrfile</strong> (<em>string</em>) – name of snrfile</p></li>
<li><p><strong>snrdir</strong> (<em>string</em>) – name of output directory</p></li>
<li><p><strong>cyyyy</strong> (<em>string</em>) – four character year</p></li>
<li><p><strong>cdoy</strong> (<em>string</em>) – three character day of year</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.freq_out">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">freq_out</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ofac</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hifac</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.freq_out" title="Permalink to this definition"></a></dt>
<dd><p>inputs: x
ofac: oversamping factor
hifac
outputs: two sets of frequencies arrays</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.get_ofac_hifac">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">get_ofac_hifac</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elevAngles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxH</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desiredPrec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.get_ofac_hifac" title="Permalink to this definition"></a></dt>
<dd><p>computes two factors - ofac and hifac - that are inputs to the
Lomb-Scargle Periodogram code.
We follow the terminology and discussion from Press et al. (1992)
in their LSP algorithm description.</p>
<p>INPUT
elevAngles:  vector of satellite elevation angles in degrees
cf:(L-band wavelength/2 ) in meters
maxH:maximum LSP grid frequency in meters
desiredPrec:  the LSP frequency grid spacing in meters
i.e. how precise you want he LSP reflector height to be estimated
OUTPUT
ofac: oversampling factor
hifac: high-frequency factor</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.glonasswlen">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">glonasswlen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.glonasswlen" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prn</strong> (<em>integer</em>) – satellite number</p></li>
<li><p><strong>signal</strong> (<em>string</em>) – L1 or L2 for glonass</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>wavelength</strong> – wavelength for the given signal</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.gps2datenum">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">gps2datenum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.gps2datenum" title="Permalink to this definition"></a></dt>
<dd><p>gt :</p>
<p>return
dn :</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.gps2datetime">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">gps2datetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.gps2datetime" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.invsnr_header">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">invsnr_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.invsnr_header" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xdir</strong> (<em>string</em>) – directory for the output file</p></li>
<li><p><strong>outfile_type</strong> (<em>string</em>) – csv or txt</p></li>
<li><p><strong>station</strong> (<em>string</em>) – 4 character name</p></li>
<li><p><strong>outfile_name</strong> (<em>string</em>) – name of output - if ‘’, it uses default</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>fileID</strong> (<em>?</em>) – used for writing to file</p></li>
<li><p><strong>usetxt</strong> (<em>boolean</em>) –</p>
<ul class="simple">
<li><p>boolean for the code calling this function to use</p></li>
</ul>
<p>if you write out special files, they go in the working directory</p>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.kristine_dictionary">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">kristine_dictionary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alld</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xsignal</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.kristine_dictionary" title="Permalink to this definition"></a></dt>
<dd><p>22feb09 added beidou</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.l2c_l5_list">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">l2c_l5_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.l2c_l5_list" title="Permalink to this definition"></a></dt>
<dd><p>for given year and day of year, returns a satellite list of
L2C and L5 transmitting satellites</p>
<p>to update this numpy array, the data are stored in a simple triple of PRN number, launch year,
and launch date.
author: kristine larson
date: march 27, 2021
june 24, 2021: updated for SVN78</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.loadsnrfile">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">loadsnrfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snrfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thedir</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.loadsnrfile" title="Permalink to this definition"></a></dt>
<dd><p>loads the snr file , but does not pick out the signal.
using two functions will make it easier to use more than one frequency</p>
<p>do time modification here now. column 4 is time since GPS began, in seconds</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.make_wavelength_column">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">make_wavelength_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.make_wavelength_column" title="Permalink to this definition"></a></dt>
<dd><p>returns column with nr rows that has the relevant GNSS wavelength for
the satellites storeid in column zero of snrdata.
signal is L1, L2 etc
22feb10 added l6, l7</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nr</strong> (<em>integer</em>) – number of rows in snrdata</p></li>
<li><p><strong>snrdata</strong> (<em>numpy array</em>) – snrfile array</p></li>
<li><p><strong>signal</strong> (<em>string</em>) – frequency  ‘L1’,’L2, etc</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>onecolumn</strong> – snr data for the requested signal</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>one-d numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.plot_tracks">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">plot_tracks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rh_arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rh_dn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.plot_tracks" title="Permalink to this definition"></a></dt>
<dd><p>send the array of LSP results (rh_arr) with time variable for
plotting (rh_dn)
kl feb09 adding beidou</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.readklsnrtxt">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">readklsnrtxt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snrfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thedir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.readklsnrtxt" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>snrfile</strong> – variable with the file contents</p>
</dd>
</dl>
<p>:directory where it is located
:param signal: ‘L1’, ‘L2’ etc.
:
parses the contents of a snrfile from #gnssrefl -
the file itself is read in a separate function now,</p>
<p>returns variable snrdata with columns
0 - satellite, usual (100 added for glonass, 200 added for galileo)
1 - elev angle, deg
2 - azimuth angle, deg
3 - time in seconds since GPS began
4 - SNR data in db-Hz
5 - new column with wavelength in it, in meters.  might as well take care of that now</p>
<p>if SNR data are zero for a given signal, the row is eliminated</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.residuals_cubspl_js">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">residuals_cubspl_js</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inparam</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">knots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">satconsts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrdt_arr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">final_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Nfreq</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.residuals_cubspl_js" title="Permalink to this definition"></a></dt>
<dd><p>function needed for snr-fitting inverse analysis
KL js must stand for joakim strandberg ???</p>
<p>this has to be modified for multi-frequency
fspecdict and Nfreq
22feb09 added beidou
parameter
———
inparam :</p>
<p>knots :</p>
<p>satconsts :</p>
<p>signal :</p>
<p>snrdt_arr :</p>
<p>final_list :</p>
<p>Nfreq :</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.residuals_cubspl_spectral">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">residuals_cubspl_spectral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kval</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">knots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rh_arr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.residuals_cubspl_spectral" title="Permalink to this definition"></a></dt>
<dd><p>function needed for inverse analysis</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.satfreq2waveL">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">satfreq2waveL</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">satc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xsignal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fsatnos</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.satfreq2waveL" title="Permalink to this definition"></a></dt>
<dd><p>given satellite constellation (‘G’, ‘E’ …)
xsignal (‘L1’,’L2’ …)
satnos (satellite numbers)
2022feb09 added Beidou.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.save_lsp_results">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">save_lsp_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reflh_sub</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elvt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pgram_sub</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrdt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pktn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isignal</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.save_lsp_results" title="Permalink to this definition"></a></dt>
<dd><p>just cleaning up - move the temp_arr definition to a function
each column is defined below.
inputs are datet (seconds in GPSish time),
reflh_sub (windowed rh?)
sat - satellite number
elvt - array of elevation angles(deg)
azit - array of azimuth angles (deg)
snrdt - is detrended SNR data (DC component removed)
pktn - peak 2 noise via Dave’s definition
isignal - frequency, 1,2, or 5</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.set_refraction_model">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">set_refraction_model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dmjd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lsp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imodel</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.set_refraction_model" title="Permalink to this definition"></a></dt>
<dd><p>imodel is 1 for simple refraction model
eventually will add other refraction models</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.signal2list">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">signal2list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.signal2list" title="Permalink to this definition"></a></dt>
<dd><p>turns signal input (e.g. L1+L2) to a list
22feb09 tried to add more frequencies …</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.simpleLSP">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">simpleLSP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rhlims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lcar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elvt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sinelvt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrdt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xsignal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">screenstats</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pktnlim</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.simpleLSP" title="Permalink to this definition"></a></dt>
<dd><p>input rhlims from dave’s code (rhmin and rhmax)
lcar is gnss wavelength in m
precision of the periodogram, in meters
elvt - elevation angles in degrees
sinelvt, sine elevation angle
snrdt - detrended snr data</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.smarterWay">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">smarterWay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.smarterWay" title="Permalink to this definition"></a></dt>
<dd><p>just want to know how many true values there are in the a dictionary
and then write thtem to a list, as in [‘G1’,’G2’]
sure to be a better way - but this works for now</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.snr2arcs">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">snr2arcs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">snrdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azilims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elvlims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rhlims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'L1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrfigs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lspfigs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polydeg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gaptlim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pktnlim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">screenstats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l2c_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">satconsts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['G',</span> <span class="pre">'R',</span> <span class="pre">'E']</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.snr2arcs" title="Permalink to this definition"></a></dt>
<dd><p>reads an array of snr data (output from readklsnrtxt) and organises into:
reflector height estimates, stats and detrended snr data for inverse analysis
:param snrdata: array of organised SNR data
:param azilims: azimuth angle limits (e.g., [90, 270])
:param elvlims: elevation angle limits (e.g., [5, 30])
:param rhlims: upper and lower reflector height limits (in metres) for quality control
:param signal: default ‘L1’ (C/A), can also use L2…if want to use L5 or whatever else you need to make some edits
:param normalize: if you want to normalize the arcs so that they have the same amplitude
:param snrfigs: if you want to produce some figures of SNR arcs
:param lspfigs: if you want to produce some figures of Lomb-Scargle Periodograms
:param polydeg: degree of polynomial to fit and subtract from SNR data
:param gaptlim: if there is a gap in time bigger than [gaptlim] seconds in a particular arc then it will be ignored
:param pktnlim: peak to noise ratio qc condition = the peak of the LSP / mean of LSP within the range [rhlims]
:param savefile: if you want to save the output to a pickle file then use this parameter as the name (string)
:param kwargs: see below
tempres: if want to use different temporal resolution to input data (in seconds)
satconsts: default use all given, otherwise specify from [‘G’, ‘R’, ‘E’] (gps / glonass / galileo)
:return rh_arr: numpy array of reflector height estimtes and stats
:return snrdt_arr: numpy array of detrended SNR data for inverse analysis</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.spline_functions.snr2spline">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.spline_functions.</span></span><span class="sig-name descname"><span class="pre">snr2spline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azilims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elvlims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rhlims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kdt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snrfit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'L1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">savefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doplot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rough_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.spline_functions.snr2spline" title="Permalink to this definition"></a></dt>
<dd><p>function analyses a kristine larson ‘gnssrefl’ format snr file and outputs a fitted spline
note that the file must be 24 hours long or it wont work
station, year, and doy
: azilims: azimuth angle limits (e.g., [90, 270])
: elvlims: elevation angle limits (e.g., [5, 30])</p>
<dl class="field-list simple">
<dt class="field-odd">Params rhlims</dt>
<dd class="field-odd"><p>upper and lower reflector height limits (in metres) for quality control e.g., [5, 10] is 5 and 10 m</p>
</dd>
</dl>
<p>: precision of the periodogram in meters
:params kdt: spline knot spacing in seconds
knots are spaced evenly except for at the start and end of the day
the idea is that you could piece together the outpt from different days to have a continuous spline
if kdt = 2 * 60 * 60 (2 hours), then knots at 0h, 1h, 3h,… 21h, 23h, 24h
The idea is that you would ignore the first and last knots and then you could have a continuous spline
with knots every 2 hours over multiple days
:params snrfit: True or False if you want to do inverse modelling of the SNR data
:params signal: ‘L1’, ‘L2’, currently under development
:params savefile: set True if you want to save the output to a file
:params doplot: set True if you want to produce a plot with the output from the analysis
:params rough_in: ‘roughness’ parameter in the inverse modelling of SNR data (see Strandberg et al., 2016)
:parans kwargs: see below
tempres: if want to use different temporal resolution to input data (in seconds)
satconsts: default use all given, otherwise specify from [‘G’, ‘R’, ‘E’] (gps / glonass / galileo)</p>
<dl class="field-list simple">
<dt class="field-odd">Return invout</dt>
<dd class="field-odd"><p>dictionary with outputs from inverse analysis</p>
</dd>
</dl>
<p>This documentation was provided by the original author, David Purnell</p>
</dd></dl>

</section>
<section id="module-gnssrefl.subdaily">
<span id="gnssrefl-subdaily-module"></span><h2>gnssrefl.subdaily module<a class="headerlink" href="#module-gnssrefl.subdaily" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.subdaily.apply_new_constraints">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.subdaily.</span></span><span class="sig-name descname"><span class="pre">apply_new_constraints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ampl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peak2noise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.subdaily.apply_new_constraints" title="Permalink to this definition"></a></dt>
<dd><p>cleaning up the main code. this sorts data and applies various “commandline” constraints
tv is the full set of results from gnssrefl
t and rh are just time (in fractional doy) and reflector height
other inputs:
azim1-aimz2 - azimuth constraints in degrees
ampl is amplitude of the periodogram (volts/volts)
d1 and d2 are days of year
peak2noise</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.subdaily.fract_to_obstimes">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.subdaily.</span></span><span class="sig-name descname"><span class="pre">fract_to_obstimes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spl_x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.subdaily.fract_to_obstimes" title="Permalink to this definition"></a></dt>
<dd><p>this does not seem to be used
spl_x : numpy array</p>
<blockquote>
<div><p>fractional time</p>
</div></blockquote>
<dl class="simple">
<dt>obstimes<span class="classifier">numpy array</span></dt><dd><p>datetime format</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.subdaily.output_names">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.subdaily.</span></span><span class="sig-name descname"><span class="pre">output_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">txtdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">txtfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csvfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jsonfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.subdaily.output_names" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>txtdir</strong> (<em>str</em>) – the directory where the results should be written out</p></li>
<li><p><strong>txtfile</strong> (<em>str</em>) – name of the output file</p></li>
<li><p><strong>csvfile</strong> (<em>boolean</em>) – cl input whether the output file should be csv format</p></li>
<li><p><strong>jsonfile</strong> (<em>boolean</em>) – cl input for whether the output file should be in the json format</p></li>
<li><p><strong>file</strong> (<em>default is plain txt</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>writetxt</strong> (<em>boolean</em>)</p></li>
<li><p><strong>writecsv</strong> (<em>boolean</em>)</p></li>
<li><p><strong>writejson</strong> (<em>boolean</em>)</p></li>
<li><p><strong>outfile</strong> (<em>str</em>) – filename</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.subdaily.print_badpoints">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.subdaily.</span></span><span class="sig-name descname"><span class="pre">print_badpoints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outliersize</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.subdaily.print_badpoints" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>numpy array</em>) – lomb scargle result array of “bad points”. Format given below</p></li>
<li><p><strong>outliersize</strong> (<em>float</em>) – outlier criterion, in meters</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>writes to a file called outliers.txt</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.subdaily.quickTr">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.subdaily.</span></span><span class="sig-name descname"><span class="pre">quickTr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frachours</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.subdaily.quickTr" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>doy</strong> (<em>integer</em>) – </p></li>
<li><p><strong>frachours</strong> (<em>float</em>) – real-valued UTC hour</p></li>
<li><p><strong>(</strong><strong>year</strong> (<em>inputs from the lomb scargle code</em>) – </p></li>
<li><p><strong>(</strong><strong>fractional</strong><strong>)</strong> (<em>doy</em><em>) </em><em>and UTC hour</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>datestr</strong> – date ala YYYY-MM-DD HH-MM-SS</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.subdaily.readin_and_plot">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.subdaily.</span></span><span class="sig-name descname"><span class="pre">readin_and_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt2screen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writecsv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ampl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peak2noise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">txtfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kplt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.subdaily.readin_and_plot" title="Permalink to this definition"></a></dt>
<dd><p>reads in RH results and makes various plots to help users assess the quality of the solution</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – 4 character station name</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>d1</strong> (<em>integer</em>) – first day of year</p></li>
<li><p><strong>d2</strong> (<em>integer</em>) – last day of year</p></li>
<li><p><strong>plt2screen</strong> (<em>boolean</em>) – if True plots are displayed to the screen</p></li>
<li><p><strong>extension</strong> (<em>str</em>) – allow user to specify an extension for results (i.e. gnssir was run using extension string)</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – how many standard deviations away from mean you allow.</p></li>
<li><p><strong>writecsv</strong> (<em>boolean</em>) – </p></li>
<li><p><strong>azim1</strong> (<em>float</em>) – minimum azimuth value (degrees)</p></li>
<li><p><strong>azim2</strong> (<em>float</em>) – maximum azimuth value (degrees)</p></li>
<li><p><strong>ampl</strong> (<em>float</em>) – minimum LSP amplitude allowed</p></li>
<li><p><strong>peak2noise</strong> (<em>float</em>) – minim peak2noise value to set solution good</p></li>
<li><p><strong>txtfile</strong> (<em>str</em>) – name of output file</p></li>
<li><p><strong>h1</strong> (<em>float</em>) – minimum reflector height (m)</p></li>
<li><p><strong>h2</strong> (<em>float</em>) – maximum reflector height (m)</p></li>
<li><p><strong>kplt</strong> (<em>boolean</em>) – special plot made</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>tv</strong> (<em>numpy array</em>) – LSP results (augmented)</p></li>
<li><p><strong>otimes</strong> (<em>datetime object</em>) – times of observations</p></li>
<li><p><strong>fname</strong> (<em>str</em>) – result file</p></li>
<li><p><strong>fname_new</strong> (<em>str</em>) – result file with outliers removed</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.subdaily.redo_spline">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.subdaily.</span></span><span class="sig-name descname"><span class="pre">redo_spline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tnew</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ynew</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">biasCorr_ynew</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pltit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">txtdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.subdaily.redo_spline" title="Permalink to this definition"></a></dt>
<dd><p>having calculated and applied RHdot correction
AND applied the frequency biases, create new plots</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tnew</strong> (<em>numpy array</em>) – day of year</p></li>
<li><p><strong>ynew</strong> (<em>numpy array</em>) – float of reflector heights rhdot corrected (meters)</p></li>
<li><p><strong>ynew</strong> – float of reflector heights rhdot and freq bias corrected (meters)</p></li>
<li><p><strong>pltit</strong> (<em>boolean</em>) – plots to the screen</p></li>
<li><p><strong>txtdir</strong> (<em>string</em>) – directory for output (e.g. $REFL_CODE/Files)</p></li>
<li><p><strong>station</strong> (<em>string</em>) – station name used for the plot titles and filenames</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>res</strong> – residuals to spline fit, in meters</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.subdaily.rhdot_correction">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.subdaily.</span></span><span class="sig-name descname"><span class="pre">rhdot_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname_new</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pltit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outlierV</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.subdaily.rhdot_correction" title="Permalink to this definition"></a></dt>
<dd><p>inputs:
station - 4 char
fname - input filename
fname_new - output filename
pltit - boolean for plots to the screen
outlierV is meter outlier cutoff</p>
<p>pltit is a boolean for plots to come to the screen
note: x was in units of years before but now is in days??</p>
<p>2021april27 sending obstimes as kwarg input
2021may5 change file format back to original file format
21may18 try to remove massive outliers
21oct27 add usespline option because this code is not robust
can also input knots per day</p>
<p>author: kristine larson</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.subdaily.spline_in_out">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.subdaily.</span></span><span class="sig-name descname"><span class="pre">spline_in_out</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">knots_per_day</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.subdaily.spline_in_out" title="Permalink to this definition"></a></dt>
<dd><p>inputs are numpy arrays of time (in doy) and reflector heights (m)
outputs are the spline fit</p>
<p>note: i have to assume this does not work well with data outages</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.subdaily.stack_two_more">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.subdaily.</span></span><span class="sig-name descname"><span class="pre">stack_two_more</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">otimes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ii</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stats</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">txtdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kplt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.subdaily.stack_two_more" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object</strong> (<em>otimes - datetime</em>) – </p></li>
<li><p><strong>results</strong> (<em>tv - variable with the gnssrefl</em>) – </p></li>
<li><p><strong>data?</strong> (<em>jj - bad</em>) – </p></li>
<li><p><strong>data?</strong> – </p></li>
<li><p><strong>station</strong> (<em>string</em>) – station name</p></li>
<li><p><strong>txtdir</strong> (<em>string</em>) – directory where plots will be written</p></li>
<li><p><strong>detection</strong> (<em>sigma is constraint used for the outlier</em>) – poor man’s outlier detector</p></li>
<li><p><strong>kplt</strong> (<em>boolean</em>) – make extra plot for kristine</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.subdaily.two_stacked_plots">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.subdaily.</span></span><span class="sig-name descname"><span class="pre">two_stacked_plots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">otimes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">txtdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.subdaily.two_stacked_plots" title="Permalink to this definition"></a></dt>
<dd><p>otimes - datetime
tv = gnssrefl results variable
station - name just for the title
txtdir is where the plots will be written to</p>
<p>author: kristine larson</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.subdaily.write_out_header">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.subdaily.</span></span><span class="sig-name descname"><span class="pre">write_out_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extraline</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.subdaily.write_out_header" title="Permalink to this definition"></a></dt>
<dd><p>writes out header for results file …
21may04 extra line for user
changed this so that it is EXACTLY THE SAME as gnssir, with extra columns for m/d/h/m
author: kristine larson</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.subdaily.write_subdaily">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.subdaily.</span></span><span class="sig-name descname"><span class="pre">write_subdaily</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ntv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">writecsv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extraline</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.subdaily.write_subdaily" title="Permalink to this definition"></a></dt>
<dd><p>writes out the results</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<em>str</em>) – output filename</p></li>
<li><p><strong>station</strong> (<em>str</em>) – 4 character station name, lowercase</p></li>
<li><p><strong>nvt</strong> (<em>numpy multi-dimensional</em>) – the variable with the LSP results read via np.loadtxt</p></li>
<li><p><strong>writecsv</strong> (<em>boolean</em>) – </p></li>
<li><p><strong>writetxt</strong> (<em>boolean</em>) – </p></li>
<li><p><strong>yet</strong> (<em>this does not accommodate json as</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.subdaily.writejsonfile">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.subdaily.</span></span><span class="sig-name descname"><span class="pre">writejsonfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ntv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.subdaily.writejsonfile" title="Permalink to this definition"></a></dt>
<dd><p>subdaily RH values written out in json format
inputs: ntv is the variable with concatenated results
outfile is output file name
2021may05 fixed a ton of column definition errors</p>
</dd></dl>

</section>
<section id="module-gnssrefl.subdaily_cl">
<span id="gnssrefl-subdaily-cl-module"></span><h2>gnssrefl.subdaily_cl module<a class="headerlink" href="#module-gnssrefl.subdaily_cl" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.subdaily_cl.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.subdaily_cl.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.subdaily_cl.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.subdaily_cl.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.subdaily_cl.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.subdaily_cl.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.subdaily_cl.subdaily">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.subdaily_cl.</span></span><span class="sig-name descname"><span class="pre">subdaily</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">txtfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">splinefile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">csvfile</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_outlier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">knots</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extension</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rhdot</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">366</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">testing</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ampl</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">300.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim1</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">azim2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">360</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">peak2noise</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kplt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.subdaily_cl.subdaily" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>___________</strong> – </p></li>
<li><p><strong>station</strong> – string
4 or 9 character ID of the station.</p></li>
<li><p><strong>year</strong> – integer
Year</p></li>
<li><p><strong>txtfile</strong> – string, optional
File name.
default is None - will set name for you.</p></li>
<li><p><strong>splinefile</strong> – string, optional
Input filename for rhdot/spline fitting
default is None</p></li>
<li><p><strong>csvfile</strong> – boolean, optional
Set to True if you prefer csv to plain txt.
default is False.</p></li>
<li><p><strong>plt</strong> – boolean, optional
To print plots to screen or not.
default is TRUE.</p></li>
<li><p><strong>spline_outlier</strong> – float, optional
Outlier criterion used in splinefit (meters)
default is 1.0</p></li>
<li><p><strong>knots</strong> – integer, optional
Knots per day, spline fit only.
default is 8.</p></li>
<li><p><strong>sigma</strong> – float, optional
Simple sigma outlier criterion (e.g. 1 for 1sigma, 3 for 3sigma)
default is 2.5</p></li>
<li><p><strong>extension</strong> – string, optional
Solution subdirectory.
default is empty string.</p></li>
<li><p><strong>rhdot</strong> – boolean, optional
Set to True to turn on spline fitting for RHdot correction.
default is False.</p></li>
<li><p><strong>doy1</strong> – integer, optional
Initial day of year
default is 1.</p></li>
<li><p><strong>doy2</strong> – integer, optional
End day of year.
default is 366.</p></li>
<li><p><strong>testing</strong> – boolean, optional
Set to True for testing mode.
default is False.</p></li>
<li><p><strong>ampl</strong> – float, optional
New amplitude constraint
default is 0.</p></li>
<li><p><strong>azim1</strong> – int, optional
New min azimuth
default is 0.</p></li>
<li><p><strong>azim2</strong> – int, optional
New max azimuth
default is 360.</p></li>
<li><p><strong>h1</strong> – integer optional (should really be a float)
lowest allowed reflector height
default is 0</p></li>
<li><p><strong>h2</strong> – integer optional (should really be a float)
highest allowed reflector height
default is 300</p></li>
<li><p><strong>peak2noise</strong> – float, optional
New peak to noise constraint
default is 0.</p></li>
<li><p><strong>kplt</strong> – boolean, optional
plot for kristine</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gnssrefl.update_snr_files">
<span id="gnssrefl-update-snr-files-module"></span><h2>gnssrefl.update_snr_files module<a class="headerlink" href="#module-gnssrefl.update_snr_files" title="Permalink to this heading"></a></h2>
<p># this code updates an SNR file - as new orbits become available</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.update_snr_files.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.update_snr_files.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.update_snr_files.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.utils">
<span id="gnssrefl-utils-module"></span><h2>gnssrefl.utils module<a class="headerlink" href="#module-gnssrefl.utils" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="gnssrefl.utils.FileManagement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gnssrefl.utils.</span></span><span class="sig-name descname"><span class="pre">FileManagement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#gnssrefl.utils.FileTypes" title="gnssrefl.utils.FileTypes"><span class="pre">FileTypes</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_not_found_ok</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.utils.FileManagement" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>FileManagement is designed to easily read the files that this package relies on.
Required parameters include station and file_type from FileTypes class.
Optional parameters are year, doy, and file_not_found_ok.</p>
<dl class="py method">
<dt class="sig sig-object py" id="gnssrefl.utils.FileManagement.get_file_path">
<span class="sig-name descname"><span class="pre">get_file_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.utils.FileManagement.get_file_path" title="Permalink to this definition"></a></dt>
<dd><p>Get the path of a specific file from the FileTypes class.
Returns file paths requested as a string</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="gnssrefl.utils.FileManagement.read_file">
<span class="sig-name descname"><span class="pre">read_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transpose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.utils.FileManagement.read_file" title="Permalink to this definition"></a></dt>
<dd><p>Reads the requested file amd returns results of file as an array.
Can use transpose parameter to transpose the results.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.utils.FileManagement.xdir">
<span class="sig-name descname"><span class="pre">xdir</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/Users/dittmann/Dropbox/gnss_refl/REFL_CODE')</span></em><a class="headerlink" href="#gnssrefl.utils.FileManagement.xdir" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="gnssrefl.utils.FileTypes">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">gnssrefl.utils.</span></span><span class="sig-name descname"><span class="pre">FileTypes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.utils.FileTypes" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Files to either read from or save to.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.utils.FileTypes.apriori_rh_file">
<span class="sig-name descname"><span class="pre">apriori_rh_file</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'apriori_rh_file'</span></em><a class="headerlink" href="#gnssrefl.utils.FileTypes.apriori_rh_file" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.utils.FileTypes.daily_avg_phase_results">
<span class="sig-name descname"><span class="pre">daily_avg_phase_results</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'daily_avg_phase_results'</span></em><a class="headerlink" href="#gnssrefl.utils.FileTypes.daily_avg_phase_results" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.utils.FileTypes.directory">
<span class="sig-name descname"><span class="pre">directory</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'directory'</span></em><a class="headerlink" href="#gnssrefl.utils.FileTypes.directory" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.utils.FileTypes.make_json">
<span class="sig-name descname"><span class="pre">make_json</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'make_json'</span></em><a class="headerlink" href="#gnssrefl.utils.FileTypes.make_json" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.utils.FileTypes.phase_file">
<span class="sig-name descname"><span class="pre">phase_file</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'phase_file'</span></em><a class="headerlink" href="#gnssrefl.utils.FileTypes.phase_file" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="gnssrefl.utils.FileTypes.volumetric_water_content">
<span class="sig-name descname"><span class="pre">volumetric_water_content</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'volumetric_water_content'</span></em><a class="headerlink" href="#gnssrefl.utils.FileTypes.volumetric_water_content" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.utils.read_files_in_dir">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.utils.</span></span><span class="sig-name descname"><span class="pre">read_files_in_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transpose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.utils.read_files_in_dir" title="Permalink to this definition"></a></dt>
<dd><p>Read all files in a given directory. Directory given must be an absolute path.
Returns an n-d array of results.
Can use optional parameter transpose to transpose the results.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.utils.str2bool">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.utils.</span></span><span class="sig-name descname"><span class="pre">str2bool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_bools</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.utils.str2bool" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.utils.validate_input_datatypes">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.utils.</span></span><span class="sig-name descname"><span class="pre">validate_input_datatypes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.utils.validate_input_datatypes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.veg_multiyr">
<span id="gnssrefl-veg-multiyr-module"></span><h2>gnssrefl.veg_multiyr module<a class="headerlink" href="#module-gnssrefl.veg_multiyr" title="Permalink to this heading"></a></h2>
<p>kristine larson
combine multiple years of teqc multipath metrics,
write a file, and make a plot</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.veg_multiyr.in_winter">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.veg_multiyr.</span></span><span class="sig-name descname"><span class="pre">in_winter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.veg_multiyr.in_winter" title="Permalink to this definition"></a></dt>
<dd><p>pretty silly winter screen tool</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.veg_multiyr.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.veg_multiyr.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.veg_multiyr.main" title="Permalink to this definition"></a></dt>
<dd><p>command line interface for download_rinex</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.veg_multiyr.newvegplot">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.veg_multiyr.</span></span><span class="sig-name descname"><span class="pre">newvegplot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vegout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">station</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.veg_multiyr.newvegplot" title="Permalink to this definition"></a></dt>
<dd><p>send the file name and try to make a plot segreating for
changes in teqc metric and receiver type</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.veg_multiyr.vegoutfile">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.veg_multiyr.</span></span><span class="sig-name descname"><span class="pre">vegoutfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.veg_multiyr.vegoutfile" title="Permalink to this definition"></a></dt>
<dd><p>make sure directories exist for prelim veg output file
returns name of the otuput file</p>
</dd></dl>

</section>
<section id="module-gnssrefl.vwc">
<span id="gnssrefl-vwc-module"></span><h2>gnssrefl.vwc module<a class="headerlink" href="#module-gnssrefl.vwc" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.vwc.do_quad">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.vwc.</span></span><span class="sig-name descname"><span class="pre">do_quad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vquad</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_end</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.vwc.do_quad" title="Permalink to this definition"></a></dt>
<dd><p>stacks all the phase results for a given quadrant
returns 3 vector (year, doy, phase)
requires 5 for an average</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.vwc.filter_out_snow">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.vwc.</span></span><span class="sig-name descname"><span class="pre">filter_out_snow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snowmask</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.vwc.filter_out_snow" title="Permalink to this definition"></a></dt>
<dd><p>only called if the snow filter file exists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – </p></li>
<li><p><strong>year1</strong> (<em>integer</em>) – </p></li>
<li><p><strong>year2</strong> (<em>integer</em>) – </p></li>
<li><p><strong>fr</strong> (<em>integer</em>) – frequency</p></li>
<li><p><strong>snowmask</strong> (<em>string</em>) – name/location of the snow mask file</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.vwc.load_avg_phase">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.vwc.</span></span><span class="sig-name descname"><span class="pre">load_avg_phase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.vwc.load_avg_phase" title="Permalink to this definition"></a></dt>
<dd><p>loads a previously computed daily average phase solution.
this is NOT the same as the multi-track phase results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>station</strong> (<em>string</em>) – 4 character ID, lowercase</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>avg_exist</strong> (<em>boolean</em>)</p></li>
<li><p><strong>avg_date</strong> (<em>??</em>)</p></li>
<li><p><strong>avg_phase</strong> (<em>??</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.vwc.load_sat_phase">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.vwc.</span></span><span class="sig-name descname"><span class="pre">load_sat_phase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.vwc.load_sat_phase" title="Permalink to this definition"></a></dt>
<dd><p>given station name and frequency, pick up the phase data from local results section
return to main code whether dataexist, and np arrays of year, doy, hr, phase, azdata, ssat</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – four character</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – </p></li>
<li><p><strong>year_end</strong> (<em>integer</em>) – </p></li>
<li><p><strong>freq</strong> (<em>integer</em>) – GPS frequency (1,20)</p></li>
<li><p><strong>amplitudes</strong> (<em>return reflector heights and</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.vwc.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.vwc.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.vwc.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.vwc.normAmp">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.vwc.</span></span><span class="sig-name descname"><span class="pre">normAmp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">amp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basepercent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.vwc.normAmp" title="Permalink to this definition"></a></dt>
<dd><p>emulated amp_normK code from PBO H2O
inputs are the amplitudes  and a percentage
used to define the bottom level. returns
normalized amplitudes
this is meant to be used by individual tracks (I think)
in this case they are the top values, not the bottom … ugh</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.vwc.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.vwc.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.vwc.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.vwc.vwc">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.vwc.</span></span><span class="sig-name descname"><span class="pre">vwc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plt2screen</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">screenstats</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_req_pts_track</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">polyorder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-</span> <span class="pre">99</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minvalperday</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snow_filter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circles</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.vwc.vwc" title="Permalink to this definition"></a></dt>
<dd><p>Code to pick up phase results, make quadrant plots, daily average files and converts to volumetric water content (VWC).
Parameters:
___________
station : string</p>
<blockquote>
<div><p>4 character ID of the station</p>
</div></blockquote>
<dl class="simple">
<dt>year<span class="classifier">integer</span></dt><dd><p>Year</p>
</dd>
<dt>year_end<span class="classifier">integer</span></dt><dd><p>Day of year</p>
</dd>
<dt>fr<span class="classifier">integer, optional</span></dt><dd><p>GNSS frequency. Currently only supports l2c.
Default is 20 (l2c)</p>
</dd>
<dt>plt2screen: boolean, optional</dt><dd><p>Whether to produce plots to the screen.
Default is True</p>
</dd>
<dt>min_req_pts_track<span class="classifier">integer</span></dt><dd><p>how many points needed to keep a satellite track
default is 50</p>
</dd>
<dt>polyorder<span class="classifier">integer</span></dt><dd><p>This is used for leveling.  Usually the code picks it but this allows to users to override.
Default is -99 which means let the code decide</p>
</dd>
<dt>minvalperday: integer</dt><dd><p>how many phase measurements are needed for each daily measurement
default is 10</p>
</dd>
<dt>snow_filter: boolean</dt><dd><p>whether you want to attempt to remove points contaminated by snow
default is False</p>
</dd>
<dt>circles<span class="classifier">boolean</span></dt><dd><p>whether you want circles in the final plot (lines are default)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><em>Returns two files</em></p></li>
<li><p><em>- Returns daily phase results in a file at $REFL_CODE/&lt;year&gt;/phase/&lt;station&gt;_phase.txt</em> –    with columns: Year DOY Ph Phsig NormA MM DD</p>
<ul>
<li><dl class="simple">
<dt>Returns the VWC results in a file at $$REFL_CODE/&lt;year&gt;/phase/&lt;station&gt;_vwc.txt</dt><dd><p>with columns: FracYr Year DOY  VWC Month Day</p>
</dd>
</dl>
</li>
</ul>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gnssrefl.vwc_input">
<span id="gnssrefl-vwc-input-module"></span><h2>gnssrefl.vwc_input module<a class="headerlink" href="#module-gnssrefl.vwc_input" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.vwc_input.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.vwc_input.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.vwc_input.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.vwc_input.parse_arguments">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.vwc_input.</span></span><span class="sig-name descname"><span class="pre">parse_arguments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.vwc_input.parse_arguments" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.vwc_input.vwc_input">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.vwc_input.</span></span><span class="sig-name descname"><span class="pre">vwc_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_tracks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.vwc_input.vwc_input" title="Permalink to this definition"></a></dt>
<dd><p>picks up reflector height results for a given station and year-year end and computes the mean values
and writes to a file with the mean values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station</strong> (<em>string</em>) – 4 character ID of the station</p></li>
<li><p><strong>year</strong> (<em>integer</em>) – Year</p></li>
<li><p><strong>fr</strong> (<em>integer</em><em>, </em><em>optional</em>) – GPS frequency. Currently only supports l2c, which is frequency 20.</p></li>
<li><p><strong>min_tracks</strong> (<em>integer</em><em>, </em><em>optional</em>) – number of minimum tracks needed in order to keep the average RH</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>File with columns</em></p></li>
<li><p><em>index, mean reflector_heights, satellite, average_azimuth, number of reflector heights in average, min azimuth, max azimuth</em></p></li>
<li><p><em>Saves to $REFL_CODE/input/&lt;station&gt;_phaseRH.txt</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-gnssrefl.xyz2llh">
<span id="gnssrefl-xyz2llh-module"></span><h2>gnssrefl.xyz2llh module<a class="headerlink" href="#module-gnssrefl.xyz2llh" title="Permalink to this heading"></a></h2>
<p>converts XYZ to latlonht
kristine larson</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.xyz2llh.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.xyz2llh.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.xyz2llh.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.ydoy">
<span id="gnssrefl-ydoy-module"></span><h2>gnssrefl.ydoy module<a class="headerlink" href="#module-gnssrefl.ydoy" title="Permalink to this heading"></a></h2>
<p>converts ymd to doy
Updated: April 3, 2019</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.ydoy.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.ydoy.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.ydoy.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl.ymd">
<span id="gnssrefl-ymd-module"></span><h2>gnssrefl.ymd module<a class="headerlink" href="#module-gnssrefl.ymd" title="Permalink to this heading"></a></h2>
<p>converts ymd to doy
Updated: April 3, 2019</p>
<dl class="py function">
<dt class="sig sig-object py" id="gnssrefl.ymd.main">
<span class="sig-prename descclassname"><span class="pre">gnssrefl.ymd.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnssrefl.ymd.main" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-gnssrefl">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-gnssrefl" title="Permalink to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="modules.html" class="btn btn-neutral float-left" title="gnssrefl API Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../pages/first_drivethru.html" class="btn btn-neutral float-right" title="gnssrefl Use Cases" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Dr. Kristine Larson and UNAVCO.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>