<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Homework 2 &mdash; gnssrefl  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> gnssrefl
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome to gnssrefl documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/understand.html">Understanding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/README_install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/func_and_utils_doc.html">Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/first_drivethru.html">gnssrefl use cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/news.html">News <a name="news"></a></a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/news.html#bugs-features-a-name-bugs-a">Bugs/Features <a name="bugs"></a></a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/contributions_questions.html">Community and Questions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">gnssrefl</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Homework 2</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/homeworks/homework2.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="homework-2">
<h1>Homework 2<a class="headerlink" href="#homework-2" title="Permalink to this heading"></a></h1>
<p><strong>Due date:</strong> This homework is to be completed <strong>before</strong> the short course given on October 21. You need to make
sure the software has been properly installed and you have successfully completed the “homework 0” assignment.</p>
<p><strong>Purpose:</strong> Learn how to measure snow depth levels with <code>gnssrefl</code> using GNSS data</p>
<p><strong>Station:</strong>
We will be using station <strong>gls1</strong>.
gls1 was installed at <a class="reference external" href="http://greenlandtoday.com/dye-2-a-relic-from-a-not-so-distant-past/?lang=en">Dye2</a> on the Greenland Ice Sheet in 2011.
The antenna is mounted on a long pole; approximately 3.5-meter of the pole was above the ice at the time of installation.
A detailed discussion of the monument and
data from the station can be found in <a class="reference external" href="https://tc.copernicus.org/articles/14/1985/2020/tc-14-1985-2020.pdf">Larson, MacFerrin, and Nylen (2020)</a>.
The latest position time series for gls1 can be retrieved
from the <a class="reference external" href="http://geodesy.unr.edu/gps_timeseries/tenv3/IGS14/GLS1.tenv3">Nevada Geodetic Laboratory</a>.</p>
<p>As gls1 is on an ice sheet and the ice surface is relatively smooth in all directions, it
is unlikely that a complicated azimuth mask will be required.</p>
<p>gls1 was originally installed with an elevation mask of 7 degrees, which is suboptimal for reflections research.
Even though the mask was later removed, we will use 7 degrees as the minimum elevation angle for all our analysis.
Similarly, even though the site managers later changed to enable L2C tracking, this was not the case in 2012, so here we will only use L1 data.</p>
<p>Use the geoid tab at the <a class="reference external" href="https://gnss-reflections.org">gnss-reflections webapp</a> to gather more information about the site.
You can enter the station coordinates by hand if
you know them, but since gls1 is part of a public archive provided by UNR, coordinates have been stored in the
webapp. Just type in gls1 for the station name. Make a note of the station latitude,
longitude, and ellipsoidal height that is returned by the webapp because you will need it later.</p>
<p><strong>Using gnssrefl</strong></p>
<p>Our ultimate goal in this use case is to analyze one year of data. We have chosen the year 2012
because there was a large melt event on the ice sheet. In order to set the proper quality control parameters, we will use
<code>quickLook</code> for one day.</p>
<p>First you need to translate one day of RINEX data.  Use the year 2012 and day of year 100.
Once you have successfully created a SNR file, run <code>quickLook</code>.
<a class="reference external" href="https://github.com/kristinemlarson/gnssrefl">For more details on translating RINEX files and quicklook output</a>.</p>
<p>Looking at the QC metrics plots created by <code>quickLook</code>, do you have some ideas on how to change the azimuth mask angles?</p>
<p>Now make SNR files for gls1 for the all of 2012. Use the <code>-weekly True</code> setting to save time.</p>
<p>We will next analyze a year of L1 GPS reflection data from gls1. We will use the default minimum and maximum
reflector height values (0.5 and 6 meters). But for the reasons previously stated, you will want to
set a minimum elevation angle of 7 degrees. We also specify that we only want to use the L1 data.
Use the utility <code>make_json_input</code> to set and store the analysis settings.</p>
<p>Hand-edit the azimuths in the json file to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;azval&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">180</span><span class="p">,</span> <span class="mi">270</span><span class="p">,</span> <span class="mi">270</span><span class="p">,</span> <span class="mi">330</span> <span class="p">],</span>
</pre></div>
</div>
<p>Now that you have SNR files and json inputs, you can go ahead and estimate reflector heights for the year 2012 using <code>gnssir</code>.
Note that it is normal to see ‘Could not read the first SNR file:’ because we only created SNR files once a week.</p>
<p>Now you can use the <code>daily_avg</code> tool to compute a daily average reflector height for gls1.
Try setting the median filter to 0.25 meters and individual tracks to 30. These numbers are used
by <code>daily_avg</code> to set QC in order to recover a trustworthy daily average <a class="reference external" href="https://github.com/kristinemlarson/gnssrefl#helper">(there is more information here on these parameters)</a>. A plain txt file
with the RH outputs are created as well as several plots.
The data in the main RH plot show you long-term accumulation as well as relatively small snow
accumulation events. The overall plot is dominated by the large melt event in the summer of 2012.
Note that RH is plotted on the y-axis with RH decreasing rather than increasing. Why do you think we
did that?</p>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Dr. Kristine Larson and UNAVCO.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>